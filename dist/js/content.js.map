{"version":3,"file":"content.js","mappings":";;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,iBAAiB,EAAE,oBAAoB;AACvF,qBAAqB;AACrB;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA,iBAAiB;AACjB;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uEAAuE,UAAU;AACjF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8EAA8E,UAAU;AACxF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,4EAA4E,UAAU;AACtF;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,iEAAiE,IAAI,UAAU,OAAO;AACtF;AACA;AACA;AACA,8DAA8D,OAAO;AACrE;AACA;AACA;AACe;;;;;;;;;;;;;;;;;;;ACnHa;AACU;AACQ;AACA;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,uBAAuB,uDAAS;AAChC;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,uDAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,qCAAG;AACnC;AACA,SAAS;AACT,gCAAgC,qCAAG;AACnC;AACA,SAAS;AACT,gCAAgC,qCAAG;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,+CAAK;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,WAAW;AACvD;AACA;AACA,6BAA6B,uDAAQ;AACrC;AACA;AACA;AACA;AACA,6BAA6B,uDAAQ;AACrC;AACA;AACA;AACA,2CAA2C,uDAAQ;AACnD;AACA;AACA,yCAAyC,uDAAQ;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACc;;;;;;;;;;;;;;;;;AC/Jc;AACkB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,qCAAG;AACnC;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,4BAA4B,uDAAQ;AACpC;AACA;AACwB;;;;;;;;;;;;;;;;;;;;ACrBxB;AAC8B;AACF;AACD;AACD;AACoB;AACZ;AACA;AACA;AAClC;AACA;AACA;AACA,0DAA0D;AAC1D;AACA;AACA,QAAQ,uCAAI;AACZ,QAAQ,mCAAE;AACV,YAAY,uDAAY;AACxB,2BAA2B,uCAAI;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,UAAU,uCAAI,MAAM;;AAEnD;AACA;AACA,QAAQ,2CAAM;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,iDAAiD,uCAAI;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,YAAY,qCAAG;AACf,SAAS;AACT;AACA,gCAAgC,qCAAG;AACnC,YAAY,qCAAG;AACf,SAAS;AACT;AACA,0BAA0B,qCAAG,mBAAmB,qCAAG;AACnD;AACA,qBAAqB,2CAAM;AAC3B;AACA;AACA,aAAa;AACb;AACA,gCAAgC,qCAAG;AACnC;AACA,SAAS;AACT,gCAAgC,qCAAG;AACnC;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,sBAAsB,uCAAI,qBAAqB,uCAAI;AACnD,gBAAgB,2CAAM;AACtB;AACA;AACA;AACA,wBAAwB,uCAAI;AAC5B;AACA,YAAY,2CAAM;AAClB,uBAAuB,uCAAI;AAC3B,aAAa;AACb,SAAS;AACT;AACA;AACA,6CAA6C,2CAAM,MAAM,uCAAI;AAC7D,mBAAmB,uCAAI;AACvB,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,gBAAgB,qCAAG;AACnB;AACA,SAAS;AACT,gCAAgC,qCAAG;AACnC;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,QAAQ,qCAAG;AACX;AACA;AACA;AACA;AACA,QAAQ,qCAAG;AACX;AACA;AACA;AACA;AACA;AACA,YAAY,qCAAG;AACf;AACA;AACA,YAAY,qCAAG;AACf;AACA;AACA;AACA;;;;;;;;;;;;;;;ACnK4B;AACE;AACF;AAC5B;AACA;AACA;AACA;AACA;AACA,8CAA8C;AAC9C;AACA;AACA,aAAa;AACb,8CAA8C;AAC9C;AACA;AACA,aAAa;AACb,8CAA8C;AAC9C;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,gCAAgC,qCAAG;AACnC;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,4BAA4B,uCAAI;AAChC,gBAAgB,qCAAG;AACnB;AACA;AACA;AACA;AACA;AACA,YAAY,qCAAG,SAAS,uCAAI;AAC5B;AACA;AACA;AACA;;;;;;;;;;;;;;;ACvDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,wBAAwB;AACP;;;;;;;;;;;;;;;ACxBlB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,KAAK,EAAE,KAAK,EAAE,MAAM,EAAE,MAAM;AACvD,uCAAuC,KAAK,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK;AAClE;AACA;AACkB;;;;;;;;;;;;;;;;;;;AC5BU;AACE;AACF;AACkB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,qCAAG;AACnC;AACA,gBAAgB,uDAAQ;AACxB,4BAA4B,uCAAI;AAChC,yBAAyB,uDAAQ,gBAAgB;AACjD,oBAAoB,uCAAI;AACxB,gBAAgB,qCAAG;AACnB;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,uDAAQ;AACrC;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,qCAAG,SAAS,uCAAI;AAC5B;AACA;AACA;AACA;AACyB;;;;;;;;;;;;;;;ACxDzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,sBAAsB,YAAY;AAClC,SAAS;AACT;AACA;AACA;AACA;AACe;;;;;;;;;;;;;;;;;;;;;AC/Ea;AACI;AACF;AACkB;AACF;AACZ;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,qCAAG;AACnC;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,4BAA4B,mCAAmC;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA,eAAe,uDAAQ;AACvB,6BAA6B,uDAAQ;AACrC;AACA;AACA;AACA,YAAY,2CAAM;AAClB,mBAAmB,uDAAQ,gBAAgB,2CAAM;AACjD;AACA;AACA,mBAAmB,uDAAQ,yBAAyB,2CAAM;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,OAAO;AACrB;AACA;AACA,aAAa;AACb,cAAc,QAAQ;AACtB;AACA;AACA,aAAa;AACb,cAAc,MAAM;AACpB;AACA;AACA,aAAa;AACb,cAAc,KAAK;AACnB;AACA;AACA,aAAa;AACb,cAAc,IAAI;AAClB;AACA;AACA,aAAa;AACb,cAAc,MAAM;AACpB;AACA;AACA,aAAa;AACb,cAAc,KAAK;AACnB;AACA;AACA,aAAa;AACb,cAAc,KAAK;AACnB,uBAAuB,yDAAU,mBAAmB,uDAAQ;AAC5D;AACA,aAAa;AACb,cAAc,UAAU;AACxB,uBAAuB,yDAAU,QAAQ,yCAAK,OAAO,uDAAQ;AAC7D;AACA;AACA,aAAa;AACb,cAAc,IAAI;AAClB;AACA;AACA,aAAa;AACb,cAAc,KAAK;AACnB;AACA;AACA,aAAa;AACb,gBAAgB,WAAW,WAAW,YAAY;AAClD;AACA,cAAc,UAAU;AACxB;AACA;AACA,aAAa;AACb,cAAc,WAAW;AACzB;AACA;AACA,aAAa;AACb,cAAc,IAAI;AAClB;AACA;AACA,aAAa;AACb,cAAc,QAAQ;AACtB;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAqE;AACrE;AACA;AACA;AACA,8DAA8D,IAAI;AAClE;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,yCAAK;AACjB,yBAAyB,uCAAI;AAC7B;AACA;AACA;AACA;AACA,uBAAuB,yCAAK;AAC5B,qBAAqB,2CAAM;AAC3B,4BAA4B,YAAY;AACxC,6BAA6B,yCAAK;AAClC;AACA;AACA;AACA;AACA,gCAAgC,YAAY;AAC5C;AACA;AACA;AACA,4DAA4D,IAAI;AAChE;AACA;AACA;AACA,4DAA4D,IAAI;AAChE;AACA;AACA;AACA;AACA,uDAAuD,aAAa;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,YAAY;AACxC,6BAA6B,yCAAK;AAClC;AACA;AACA;AACA;AACA;AACA,QAAQ,qCAAG;AACX;AACA;AACA,SAAS;AACT;AACA;AACA;AACoB;;;;;;;;;;;;;;;;;;;;;ACnNQ;AACA;AACM;AACY;AACZ;AACJ;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,uDAAQ,SAAS,uDAAQ;AACrC;AACA;AACA;AACA,YAAY,uDAAQ;AACpB,qBAAqB,uCAAI,iBAAiB,IAAI,uCAAI,iBAAiB;AACnE;AACA,YAAY,uDAAQ;AACpB,qBAAqB,uCAAI,iBAAiB,IAAI,uCAAI,iBAAiB;AACnE;AACA,QAAQ,qCAAG;AACX;AACA;AACA,aAAa,uDAAQ;AACrB;AACA;AACA,uBAAuB,uCAAI,iBAAiB,IAAI,uCAAI,iBAAiB,EAAE,uDAAQ,KAAK;AACpF,QAAQ,qCAAG;AACX;AACA;AACA;AACA,aAAa,uDAAQ;AACrB;AACA;AACA,QAAQ,qCAAG,eAAe,uDAAQ,UAAU,EAAE,uDAAQ,cAAc;AACpE;AACA;AACA;AACA,aAAa,uDAAQ;AACrB;AACA;AACA,kBAAkB,uDAAQ,yBAAyB,uDAAQ;AAC3D,wBAAwB,uCAAI;AAC5B;AACA;AACA;AACA,mCAAmC,uDAAQ;AAC3C,iCAAiC,uDAAQ;AACzC,YAAY,qCAAG,YAAY,uCAAI,iBAAiB,IAAI,OAAO,IAAI,IAAI;AACnE;AACA;AACA;AACA,aAAa,uDAAQ;AACrB;AACA;AACA,uBAAuB,uCAAI,uBAAuB,IAAI,uDAAQ,0BAA0B;AACxF,QAAQ,qCAAG;AACX;AACA;AACA,aAAa,uDAAQ;AACrB;AACA;AACA,uBAAuB,uCAAI,uBAAuB,IAAI,uDAAQ,4BAA4B;AAC1F,QAAQ,qCAAG;AACX;AACA;AACA,aAAa,uDAAQ;AACrB,YAAY,uDAAQ;AACpB;AACA;AACA,uBAAuB,uCAAI,uBAAuB,IAAI,uDAAQ,4BAA4B;AAC1F,QAAQ,qCAAG;AACX;AACA;AACA,aAAa,uDAAQ;AACrB,YAAY,uDAAQ;AACpB;AACA;AACA,uBAAuB,uCAAI,uBAAuB,IAAI,uDAAQ,4BAA4B;AAC1F,QAAQ,qCAAG;AACX;AACA;AACA;AACA;AACA,sDAAsD,iBAAiB,SAAS,UAAU,oBAAoB,aAAa;AAC3H;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,qCAAG,SAAS,uCAAI;AAC5B,gBAAgB,uCAAI;AACpB;AACA;AACA;AACA,YAAY,qCAAG,SAAS,uCAAI;AAC5B,gBAAgB,uCAAI;AACpB;AACA;AACA;AACA,YAAY,qCAAG,SAAS,uCAAI;AAC5B,gBAAgB,uCAAI;AACpB;AACA;AACA;AACA,YAAY,qCAAG,SAAS,uCAAI;AAC5B,gBAAgB,uCAAI;AACpB;AACA;AACA;AACA,YAAY,qCAAG,SAAS,uCAAI;AAC5B,gBAAgB,uCAAI;AACpB;AACA;AACA;AACA,YAAY,qCAAG,SAAS,uCAAI;AAC5B,gBAAgB,uCAAI;AACpB;AACA;AACA;AACA,YAAY,qCAAG,SAAS,uCAAI,sBAAsB,YAAY,GAAG,WAAW;AAC5E,gBAAgB,uCAAI;AACpB;AACA,gBAAgB,uDAAQ;AACxB;AACA;AACA;AACA,YAAY,qCAAG,SAAS,uCAAI,sBAAsB,YAAY,GAAG,WAAW;AAC5E,gBAAgB,uCAAI;AACpB;AACA,gBAAgB,uDAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,2CAAM;AACxD;AACA,uBAAuB,uDAAQ;AAC/B;AACA;AACA;AACA,eAAe,uDAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,uDAAQ;AAC3B;AACA;AACA,mBAAmB,uDAAQ;AAC3B;AACA;AACA;AACA,kCAAkC,uDAAQ;AAC1C;AACA;AACA,YAAY,uDAAQ;AACpB,0BAA0B,uDAAQ;AAClC;AACA,iBAAiB,uDAAQ;AACzB,0BAA0B,uDAAQ;AAClC;AACA;AACA,2BAA2B,uDAAQ;AACnC;AACA;AACA;AACA,iCAAiC,uDAAQ;AACzC;AACA;AACA;AACA,sBAAsB,uDAAQ;AAC9B,YAAY,uDAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,uDAAQ;AACrB;AACA,aAAa,uDAAQ;AACrB,aAAa,uDAAQ;AACrB;AACA;AACA;AACA,qCAAqC,uDAAQ;AAC7C,iCAAiC,uDAAQ;AACzC;AACA;AACA,aAAa,uDAAQ;AACrB;AACA,YAAY,uDAAQ;AACpB;AACA;AACA;AACA,sBAAsB,uDAAQ;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,uDAAQ;AACrB;AACA,YAAY,uDAAQ;AACpB;AACA;AACA;AACA,sBAAsB,uDAAQ;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,uDAAQ;AACrB,YAAY,uDAAQ;AACpB;AACA;AACA;AACA,qBAAqB,uDAAQ;AAC7B;AACA;AACA;AACA,aAAa,uDAAQ;AACrB,YAAY,uDAAQ;AACpB;AACA;AACA;AACA,qBAAqB,uDAAQ;AAC7B;AACA;AACA;AACA;AACA,QAAQ,qCAAG;AACX,QAAQ,2CAAM;AACd;AACA;AACA,gCAAgC,qCAAG;AACnC;AACA,SAAS;AACT;AACA;AACA;AACkB;;;;;;;;;;;;;;;;AChRgB;AAClC;AACO;AACP;AACA;;AAEA;AACA;AACA,uDAAuD,2CAAM,uBAAuB;AACpF;AACA;AACA;AACA,uDAAuD,2CAAM,uBAAuB;;AAEpF;AACA;AACA,uDAAuD,2CAAM,uBAAuB;AACpF;AACA;AACA;AACA,uDAAuD,2CAAM,4BAA4B;AACzF;AACA;AACA;AACA,uDAAuD,2CAAM,oBAAoB;;AAEjF;AACA;AACA,uDAAuD,2CAAM,uBAAuB;AACpF;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,+BAA+B;;AAE/B;AACA;AACA;;AAEA;AACA;AACA,+BAA+B;AAC/B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,+FAA+F,2CAAM,iBAAiB;AACtH;AACA;AACA;AACA,wBAAwB,KAAK,GAAG,KAAK;AACrC,wBAAwB,WAAW,GAAG,WAAW;AACjD,wBAAwB,QAAQ,GAAG,QAAQ;AAC3C,wBAAwB,MAAM,GAAG,MAAM;AACvC,wBAAwB,QAAQ,GAAG,QAAQ;AAC3C,wBAAwB,KAAK,GAAG,KAAK;AACrC,wBAAwB,UAAU,GAAG,UAAU;AAC/C,wBAAwB,MAAM,GAAG,MAAM;AACvC,wBAAwB,KAAK,GAAG,KAAK;AACrC,wBAAwB,IAAI,GAAG,IAAI;AACnC,wBAAwB,IAAI,GAAG,IAAI;AACnC,wBAAwB,KAAK,GAAG,KAAK;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,2CAAM,iBAAiB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,2CAAM,iBAAiB;AACvC;AACA;AACA;AACA,0BAA0B,KAAK;AAC/B;AACA;AACA,0BAA0B,QAAQ;AAClC;AACA;AACA,0BAA0B,WAAW;AACrC;AACA;AACA,0BAA0B,MAAM;AAChC;AACA;AACA,0BAA0B,QAAQ;AAClC;AACA;AACA,0BAA0B,KAAK;AAC/B;AACA;AACA,0BAA0B,UAAU;AACpC;AACA;AACA,0BAA0B,MAAM;AAChC;AACA;AACA,0BAA0B,KAAK;AAC/B;AACA;AACA,0BAA0B,IAAI;AAC9B;AACA;AACA,0BAA0B,IAAI;AAC9B;AACA;AACA,0BAA0B,KAAK;AAC/B;AACA;AACA;AACA;AACA;AACA,wHAAwH,UAAU,KAAK,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK;AAC7J;;AAEA;AACA;AACA,yFAAyF;AACzF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yGAAyG,gBAAgB;AACzH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;AChd8B;AACI;AACF;AACc;AAClB;AACA;AACA;AACU;AACe;AACrD,2BAA2B,uDAAY;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,+CAAQ,UAAU,+CAAQ;AACtC,YAAY,+CAAQ,UAAU,+CAAQ;AACtC,YAAY,yCAAK,qBAAqB,2CAAM;AAC5C;AACA;AACA,aAAa;AACb;AACA,YAAY,+CAAQ,UAAU,+CAAQ;AACtC,YAAY,+CAAQ,UAAU,+CAAQ;AACtC,YAAY,yCAAK,qBAAqB,2CAAM;AAC5C,+CAA+C,uCAAI;AACnD;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,YAAY,+CAAQ,UAAU,+CAAQ;AACtC,YAAY,+CAAQ,UAAU,+CAAQ;AACtC,YAAY,yCAAK,qBAAqB,2CAAM;AAC5C,gBAAgB,8DAAW;AAC3B,aAAa;AACb;AACA,YAAY,+CAAQ,UAAU,+CAAQ;AACtC,YAAY,yCAAK,qBAAqB,2CAAM;AAC5C,gBAAgB,qCAAG;AACnB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,qCAAG,KAAK,uCAAI;AACpB;AACA;AACA,0BAA0B,qCAAG;AAC7B;AACA;AACA,yBAAyB,qCAAG;AAC5B;AACA;AACA,YAAY,QAAQ;AACpB;AACA,YAAY,qCAAG,OAAO,uCAAI;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,qCAAG,KAAK,uCAAI;AACpB;AACA;AACA,2BAA2B,qCAAG;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,YAAY,qCAAG,SAAS,uCAAI;AAC5B;AACA;AACA,gBAAgB,qCAAG;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,qCAAG,OAAO,uCAAI;AAC1B;AACA;AACA;AACA;AACwB;;;;;;;;;;;;;;;;;;ACvGxB;AAC4B;AACU;AACQ;AACQ;AACV;AACE;AAC9C;AACA;AACA;AACA;AACA,gCAAgC,qCAAG;AACnC;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,gBAAgB,+CAAQ;AACxB,iBAAiB,+CAAQ;AACzB,iBAAiB,+CAAQ;AACzB,iBAAiB,+CAAQ;AACzB,2BAA2B,uDAAY;AACvC,iBAAiB,+CAAQ;AACzB,iBAAiB,+CAAQ;AACzB,2BAA2B,+DAAgB;AAC3C,iBAAiB,+CAAQ;AACzB,2BAA2B,uDAAY;AACvC,iBAAiB,+CAAQ;AACzB,2BAA2B,qDAAW;AACtC;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnCA;AAC8B;AACE;AACE;AACF;AACJ;AACA;AACU;AACV;AACM;AACA;AACF;AACM;AACU;AAChD;AACA;AACA,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,qCAAG;AACnC;AACA,SAAS;AACT,QAAQ,qCAAG,+BAA+B,qCAAG;AAC7C,YAAY,2CAAM;AAClB,SAAS;AACT,QAAQ,qCAAG,kCAAkC,qCAAG;AAChD,YAAY,2CAAM;AAClB,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,QAAQ,yCAAK;AACb;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,yCAAK;AACjB;AACA;AACA,gBAAgB,2CAAM,qBAAqB,2CAAM;AACjD,gDAAgD,uCAAI;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,2CAAM;AAClB,yBAAyB,uCAAI;AAC7B;AACA;AACA;AACA;AACA;AACA,QAAQ,qCAAG;AACX,QAAQ,qCAAG,SAAS,uCAAI;AACxB,QAAQ,0CAAK,MAAM,uCAAI;AACvB,QAAQ,2CAAM;AACd,QAAQ,qCAAG;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,qCAAG,iEAAiE,UAAU;AACjH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,0DAAa;AAC3B;AACA;AACA;AACA,gBAAgB,qCAAG;AACnB;AACA;AACA;AACA;AACA,gCAAgC,qCAAG;AACnC,YAAY,0DAAa;AACzB;AACA;AACA;AACA;AACA;AACA,gBAAgB,qCAAG;AACnB;AACA,YAAY,qCAAG,OAAO,uCAAI;AAC1B,YAAY,0DAAa;AACzB;AACA;AACA;AACA;AACA,cAAc,0DAAa;AAC3B;AACA;AACA;AACA,gBAAgB,qCAAG;AACnB;AACA;AACA;AACA;AACA,gCAAgC,qCAAG;AACnC,YAAY,0DAAa;AACzB;AACA;AACA;AACA;AACA;AACA,gBAAgB,qCAAG;AACnB;AACA,YAAY,qCAAG,OAAO,uCAAI;AAC1B,YAAY,0DAAa;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,2CAAM,SAAS,iCAAiC;AAC1E;AACA,gBAAgB,yCAAK;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,2CAAM,SAAS,iCAAiC;AAC1E;AACA,gBAAgB,yCAAK;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,qCAAG,KAAK,uCAAI;AACpB,YAAY,yCAAK;AACjB;AACA;AACA,QAAQ,qCAAG,KAAK,uCAAI,oBAAoB,yCAAK;AAC7C,QAAQ,qCAAG,KAAK,uCAAI;AACpB,wBAAwB,+BAA+B;AACvD,2BAA2B,yCAAK;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,0DAAa;AAC3B;AACA,+BAA+B,qCAAG;AAClC,YAAY,0DAAa;AACzB;AACA;AACA;AACA;AACA;AACA,gBAAgB,qCAAG;AACnB;AACA,YAAY,qCAAG,OAAO,uCAAI;AAC1B,YAAY,0DAAa;AACzB;AACA;AACA;AACA;AACA,QAAQ,+CAAQ;AAChB,QAAQ,qCAAG,QAAQ,uCAAI,iBAAiB,EAAE,yCAAK,mBAAmB;AAClE;AACA;AACA,uBAAuB,yCAAK;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,yCAAK;AACjB,YAAY,qCAAG,SAAS,uCAAI,6BAA6B,yCAAK;AAC9D;AACA,YAAY,yCAAK;AACjB;AACA;AACA;AACA,QAAQ,yCAAK,aAAa,gDAAK;AAC/B,QAAQ,yCAAK;AACb,QAAQ,qCAAG,KAAK,uCAAI,mBAAmB,yCAAK;AAC5C,QAAQ,qCAAG,SAAS,uCAAI;AACxB,QAAQ,qCAAG;AACX;AACA;AACA;AACA;AACA,QAAQ,qCAAG;AACX,QAAQ,qCAAG;AACX,QAAQ,qCAAG,OAAO,uCAAI;AACtB,QAAQ,2CAAM,OAAO,uCAAI;AACzB;AACA;AACwB;;;;;;;;;;;;;;;;;;;;;;AC5RM;AACI;AACF;AACc;AAClB;AACA;AACyB;AACrD,+BAA+B,uDAAY;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,yCAAK,qBAAqB,2CAAM;AACxC;AACA,SAAS;AACT;AACA,QAAQ,yCAAK,qBAAqB,2CAAM;AACxC,YAAY,8DAAW;AACvB,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,qCAAG,KAAK,uCAAI;AACpB;AACA,0BAA0B,qCAAG;AAC7B;AACA;AACA;AACA;AAC4B;;;;;;;;;;;;;;;;;;;;;;;;;AClCE;AACI;AACF;AACc;AAClB;AACU;AACV;AACM;AACN;AACoB;AAChD,2BAA2B,uDAAY;AACvC;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,yCAAK,qBAAqB,2CAAM;AACxC;AACA,SAAS;AACT;AACA;AACA,QAAQ,qCAAG,wBAAwB,qCAAG;AACtC,iBAAiB,2CAAM;AACvB;AACA;AACA,SAAS;AACT;AACA;AACA,QAAQ,yCAAK;AACb;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,yDAAa;AAC3B;AACA,+BAA+B,qCAAG,SAAS,+CAAK;AAChD,YAAY,yDAAa;AACzB;AACA;AACA;AACA;AACA;AACA,gBAAgB,qCAAG;AACnB;AACA,YAAY,qCAAG,OAAO,uCAAI;AAC1B,YAAY,yDAAa;AACzB;AACA;AACA;AACA;AACwB;;;;;;;;;;;;;;;;;;;;;;ACrDM;AACI;AACF;AACc;AAClB;AACU;AACV;AAC5B,0BAA0B,uDAAY;AACtC;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,yCAAK,qBAAqB,2CAAM;AACxC;AACA,SAAS;AACT;AACA;AACA,QAAQ,qCAAG,KAAK,uCAAI;AACpB;AACA;AACA,0BAA0B,qCAAG;AAC7B;AACA;AACA,yBAAyB,qCAAG,4BAA4B,qCAAG,WAAW,qCAAG,+BAA+B,+CAAK;AAC7G;AACA;AACA;AACA;AACuB;;;;;;;;;;;;;;;;;AC9Be;AACV;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,qCAAG;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,qCAAG;AACnB;AACA;AACA,iBAAiB;AACjB;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC;AACA,6BAA6B;AAC7B;AACA;AACA;AACA,gCAAgC;AAChC;AACA,6BAA6B;AAC7B;AACA;AACA,6BAA6B;AAC7B;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA,sBAAsB,+CAAQ;AAC9B,2DAA2D;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACgB;;;;;;;;;;;;;AC9IY;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,qCAAG;AACnB,aAAa;AACb,SAAS;AACT;AACA;AACA;;;;;;;;;;;;;;;;;AC3B4B;AACM;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD;AACtD,0CAA0C;AAC1C,yDAAyD;AACzD,iDAAiD;AACjD,2CAA2C;AAC3C,0CAA0C;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA,YAAY,2CAAM;AAClB,YAAY,2CAAM;AAClB,YAAY,2CAAM;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,gCAAgC,qCAAG;AACnC;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yDAAyD,iBAAiB;AAC1E;AACA;AACA;AACA;AACA,yDAAyD,iBAAiB;AAC1E;AACA;AACA;AACA,sDAAsD,yBAAyB;AAC/E;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,yDAAyD,iBAAiB;AAC1E;AACA;AACA;AACA;AACe;;;;;;;;;;;;;;;;;;;;ACpJa;AACM;AACJ;AACJ;AACQ;AAClC;AACA;AACA;AACA;AACA,qBAAqB,2CAAM;AAC3B,qBAAqB,2CAAM;AAC3B,mBAAmB,2CAAM;AACzB;AACA;AACA;AACA;AACA;AACA,gCAAgC,qCAAG;AACnC;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,SAAS,UAAU;AACvD;AACA;AACA,oCAAoC,+BAA+B,SAAS,UAAU;AACtF;AACA;AACA,oCAAoC,+BAA+B,SAAS,UAAU;AACtF;AACA;AACA,oCAAoC,6BAA6B,SAAS,UAAU;AACpF;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,WAAW;AACpD;AACA;AACA,2BAA2B,WAAW,GAAG,cAAc,2CAAM,SAAS;AACtE,+BAA+B,WAAW,GAAG,SAAS;AACtD,4CAA4C,YAAY,uCAAI,eAAe;AAC3E;AACA,QAAQ,uCAAI;AACZ;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb,oCAAoC,qCAAG;AACvC;AACA,aAAa;AACb;AACA;AACA;AACA,QAAQ,mCAAE;AACV;AACA;AACA;AACA;AACA;AACA;AACkB;;;;;;;;;;;;;;ACxGU;AACE;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,uCAAI;AACZ;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,qCAAG;AACf,SAAS;AACT,gCAAgC,qCAAG;AACnC;AACA,SAAS;AACT,gCAAgC,qCAAG;AACnC;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;AC1C4B;AACE;AACE;AACM;AACJ;AACA;AACF;AAChC;AACA;AACA;AACA;AACA,QAAQ,uCAAI;AACZ;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT,gCAAgC,qCAAG;AACnC;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,yCAAK,SAAS,uCAAI;AAC9B,SAAS;AACT,gCAAgC,qCAAG;AACnC;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,yCAAK,OAAO,uCAAI;AACnC;AACA,YAAY,yCAAK,iBAAiB,2CAAM;AACxC;AACA,YAAY,uCAAI;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,uCAAuC,4BAA4B;AACnE,YAAY,+CAAK;AACjB;AACA,YAAY,2CAAM,SAAS,uCAAI;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,uCAAI;AACZ;AACA;AACA;;;;;;;;;;;;;;;;AC3FA;AAC4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,4BAA4B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,qCAAG;AACnC;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,qCAAG;AACf;AACA;AACA,YAAY,qCAAG;AACf;AACA;AACA;AACA;AACoB;;;;;;;;;;;;;;;;;;;ACnGY;AACA;AACF;AACF;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,yCAAK;AACzB;AACA;AACA;AACA;AACA,QAAQ,uCAAI;AACZ;AACA;AACA;AACA,gCAAgC,qCAAG;AACnC;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,yCAAK;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,yCAAK;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA,wDAAwD;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACuB;;;;;;;;;;;;;;;;AChGK;AACE;AACQ;AACJ;AAClC;AACA;AACA;AACA,0BAA0B;AAC1B;AACA,+BAA+B,+CAAQ;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,uCAAI;AACZ;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,gCAAgC,qCAAG;AACnC;AACA,SAAS;AACT;AACA;AACA,QAAQ,2CAAM;AACd,QAAQ,qCAAG;AACX;AACA;AACA,iDAAiD,+CAAQ;AACzD;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;ACnDkC;AACF;AACc;AAClB;AACE;AACI;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,2CAAM,SAAS,iCAAiC;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA,YAAY,uDAAQ;AACpB;AACA;AACA,wBAAwB,YAAY;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,yCAAK;AACjB,YAAY,qCAAG,SAAS,uCAAI,sDAAsD,UAAU,SAAS,GAAG,oBAAoB,MAAM;AAClI,gBAAgB,uCAAI;AACpB,oBAAoB,IAAI;AACxB;AACA,gBAAgB,yCAAK;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,uDAAQ;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,WAAW;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,uDAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,uDAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,YAAY;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,2CAAM,qBAAqB,uCAAI;AAC/C;AACA;AACA,QAAQ,yCAAK;AACb;AACA;AACA,YAAY,2CAAM;AAClB;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,uDAAQ;AACvC;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,2CAAM;AAClB;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,uDAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,uDAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACoB;;;;;;;;;;;;;;;;;ACvYU;AACI;AACA;AACN;AAC8B;AAC1D;AACA;AACA;AACA;AACA;AACA,gCAAgC,qCAAG;AACnC;AACA,SAAS;AACT;AACA;AACA,YAAY,uDAAQ;AACpB;AACA,YAAY,6DAAU;AACtB;AACA;AACA;AACA,QAAQ,2CAAM,MAAM,uCAAI;AACxB;AACA,YAAY,uCAAI;AAChB,mBAAmB,2CAAM;AACzB,iBAAiB,uCAAI;AACrB,SAAS;AACT;AACA;AACA;;;;;;;;;;;;;;;;AC7B4B;AACE;AACgB;AACd;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,qCAAG;AACnC;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,gCAAgC,qCAAG;AACnC;AACA;AACA;AACA;AACA,oBAAoB,uDAAQ;AAC5B,8BAA8B,uCAAI,mBAAmB,yCAAK;AAC1D;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;AC7C8B;AACI;AACA;AACN;AAC8B;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,qCAAG;AACnC;AACA;AACA,QAAQ,uCAAI;AACZ;AACA;AACA,UAAU,uCAAI;AACd;AACA;AACA,UAAU,uCAAI;AACd;AACA,yBAAyB,sBAAsB,IAAI;AACnD;AACA,iBAAiB;AACjB,mBAAmB;AACnB,mBAAmB;AACnB;AACA;AACA;AACA;AACA,QAAQ,uCAAI,mBAAmB;AAC/B;AACA,SAAS;AACT;AACA;AACA,YAAY,uDAAQ;AACpB,YAAY,2CAAM;AAClB,uBAAuB,2CAAM,eAAe,uCAAI,iBAAiB;AACjE,qBAAqB,uCAAI;AACzB,aAAa;AACb,YAAY,6DAAU;AACtB;AACA;AACA;AACA;;;;;;;;;;;;;;;;AC9C4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,qCAAG;AACnC;AACA,SAAS;AACT;AACA,YAAY,qCAAG;AACf,YAAY,qCAAG;AACf,YAAY,qCAAG;AACf,YAAY,qCAAG;AACf;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT,sBAAsB,qCAAG,kBAAkB,qCAAG;AAC9C;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,YAAY,qCAAG;AACf,YAAY,qCAAG;AACf,YAAY,qCAAG;AACf,YAAY,qCAAG;AACf;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,gCAAgC,qCAAG;AACnC;AACA,SAAS;AACT;AACA,YAAY,qCAAG;AACf,YAAY,qCAAG;AACf,YAAY,qCAAG;AACf;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACkB;;;;;;;;;;;;;;;;AC5EU;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,qCAAG;AACnC;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACiB;;;;;;;;;;;ACzDJ;AACb;AACA;AACA;AACA,oDAAoD;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;AC9CkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,2CAAM;AACzB,qBAAqB,2CAAM;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,2CAAM;AACzB,qBAAqB,2CAAM;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,2CAAM;AACzB,qBAAqB,2CAAM;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,2CAAM;AACzB,qBAAqB,2CAAM;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA,uBAAuB;AACvB,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,oCAAoC,0BAA0B,UAAU;AACxE;AACA;AACA,oCAAoC,0BAA0B,UAAU;AACxE;AACA;AACA,oCAAoC,0BAA0B,UAAU;AACxE;AACA;AACA,oCAAoC,wBAAwB,UAAU;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B,wDAAwD;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,+CAA+C;AAC/C;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACiB;;;;;;;;;;;;;;;;ACvLa;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8DAA8D,KAAK;AACnE;AACA,6CAA6C,KAAK;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,uCAAI;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACiB;;;;;;;;;;;;;AC1EW;AAC5B;AACA;AACA;AACA;AACA;AACA,gCAAgC,qCAAG;AACnC;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,UAAU;AAC3D;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;ACrDA;AAC6B;AACU;AACM;AACK;AACnB;AACF;AACM;AACmB;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,qCAAG;AACnC;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,YAAY,qCAAG;AACf;AACA,YAAY,2CAAM;AAClB,YAAY,qCAAG;AACf;AACA;AACA;AACA;AACA,QAAQ,qDAAW;AACnB;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,wBAAwB,+CAAQ;AAChC;AACA;AACA;AACA,oCAAoC,2DAAc;AAClD;AACA;AACA;AACA;AACA,iBAAiB,EAAE,uCAAI;AACvB;AACA;AACA,cAAc,+DAAgB;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACoB;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1EpB;AAC6B;AACI;AACA;AACJ;AACE;AACI;AACG;AACO;AACE;AACZ;AACa;AACb;AACe;AACjB;AACE;AACmB;AACtD;AACA;AACA,iCAAiC;AACjC,4BAA4B;AAC5B,4BAA4B;AAC5B,6BAA6B;AAC7B,6BAA6B;AAC7B;AACA;AACA,2BAA2B;AAC3B,4BAA4B;AAC5B;AACA;AACA;AACA,YAAY,0DAAa;AACzB;AACA;AACA,gCAAgC,qCAAG;AACnC;AACA;AACA,SAAS;AACT,0BAA0B,qCAAG,mBAAmB,qCAAG;AACnD;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA,gCAAgC,qCAAG;AACnC;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,qCAAG,KAAK,uCAAI;AAC5B,gBAAgB,4CAAM,iBAAiB,uCAAI;AAC3C;AACA;AACA;AACA;AACA,gBAAgB,qCAAG;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,qCAAG,OAAO,uCAAI;AAClC;AACA;AACA;AACA;AACA;AACA,oBAAoB,qCAAG,UAAU,cAAc,wBAAwB,QAAQ;AAC/E;AACA;AACA;AACA,oBAAoB,qCAAG,UAAU,cAAc,wBAAwB,QAAQ;AAC/E;AACA;AACA;AACA;AACA,oBAAoB,qCAAG,UAAU,cAAc,wBAAwB,QAAQ;AAC/E;AACA;AACA;AACA,gBAAgB,qCAAG;AACnB;AACA,SAAS;AACT,gCAAgC,qCAAG;AACnC,kCAAkC,uCAAI,mBAAmB,2CAAM;AAC/D,YAAY,qCAAG,SAAS,uCAAI;AAC5B,YAAY,0CAAK,SAAS,uCAAI;AAC9B;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,0BAA0B,4DAAc;AACxC,wBAAwB,iBAAiB,IAAI,yCAAK,eAAe;AACjE,QAAQ,qCAAG;AACX;AACA,QAAQ,qDAAW;AACnB;AACA,gCAAgC,yCAAK;AACrC;AACA;AACA,gBAAgB,qCAAG;AACnB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oEAAoE,2CAAM,SAAS;AACnF,oEAAoE,2CAAM,WAAW;AACrF,mEAAmE,2CAAM,QAAQ;AACjF,sEAAsE,2CAAM,UAAU;AACtF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,yCAAK;AAC5B,QAAQ,uCAAI;AACZ;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,YAAY,qCAAG;AACf,SAAS;AACT;AACA;AACA;AACA,0BAA0B,uDAAQ;AAClC;AACA,wBAAwB,4CAAM;AAC9B;AACA;AACA,kCAAkC,4CAAM;AACxC;AACA;AACA,6CAA6C;AAC7C;AACA;AACA,YAAY,yCAAK;AACjB,kCAAkC,yCAAK;AACvC;AACA;AACA,QAAQ,qDAAW;AACnB;AACA;AACA;AACA,YAAY,2CAAM,SAAS,yCAAK;AAChC;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,uDAAQ,sBAAsB,2CAAM;AAChD;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,2CAAM,SAAS,yCAAK;AAChC;AACA;AACA;AACA;AACA;AACA,YAAY,4DAAc;AAC1B;AACA;AACA;AACA;AACA,YAAY,4DAAc;AAC1B;AACA;AACA;AACA;AACA,+CAA+C;AAC/C;AACA,QAAQ,qCAAG;AACX,QAAQ,4CAAM;AACd;AACA,wBAAwB,yBAAyB;AACjD;AACA;AACA,8BAA8B,uCAAI;AAClC,QAAQ,qCAAG,KAAK,uCAAI;AACpB,YAAY,4CAAM;AAClB,YAAY,qCAAG,SAAS,uCAAI;AAC5B;AACA;AACA;AACA;AACA;AACA,YAAY,yCAAK;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,2CAAM;AACtB,mCAAmC;AACnC,gBAAgB,qCAAG;AACnB,sCAAsC,uCAAI;AAC1C,gBAAgB,qCAAG,SAAS,uCAAI;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,yCAAK;AACjB;AACA;AACA;AACA,QAAQ,qCAAG;AACX,8BAA8B,uCAAI;AAClC,QAAQ,qCAAG,OAAO,uCAAI;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,4DAAc;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,4DAAc;AACtB;AACA;AACA;AACA;AACA,YAAY,uDAAQ;AACpB,gCAAgC,gEAAgB;AAChD,wBAAwB,uDAAQ;AAChC;AACA,4BAA4B,uCAAI;AAChC;AACA,oBAAoB,uCAAI;AACxB,gBAAgB,qCAAG;AACnB,gBAAgB,4CAAM;AACtB,2BAA2B,uCAAI;AAC/B,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,yCAAK;AACnC;AACA;AACA;AACA;AACA;AACA,4DAA4D,yCAAK;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,4DAAc;AACpC;AACA;AACA;AACA;AACA,yBAAyB,yCAAK;AAC9B;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,qCAAG,UAAU,YAAY;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,+CAAQ;AACxB;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;AC1Y6B;AACE;AACF;AACkB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,qCAAG;AACnC;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,YAAY,qCAAG;AACf,YAAY,qCAAG;AACf,YAAY,qCAAG;AACf,YAAY,qCAAG;AACf,YAAY,qCAAG;AACf;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT,gCAAgC,qCAAG;AACnC;AACA,gBAAgB,uDAAQ;AACxB,4BAA4B,uCAAI;AAChC,yBAAyB,uDAAQ,mBAAmB;AACpD,oBAAoB,uCAAI;AACxB,gBAAgB,qCAAG;AACnB;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,uDAAQ;AACjC;AACA;AACA;AACA;AACA;AACA,gBAAgB,uDAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AAC4B;;;;;;;;;;;;;;;;;;;;;;;AC3EC;AACE;AACF;AACkB;AACA;AACR;AACN;AACE;AACnC;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,uDAAS;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEAAqE,gBAAgB;AACrF,kDAAkD,cAAc;AAChE;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,qCAAG;AACnC;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,oBAAoB,qCAAG;AACvB,iBAAiB;AACjB;AACA;AACA;AACA,gCAAgC,qCAAG;AACnC;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,oBAAoB,qCAAG;AACvB,iBAAiB;AACjB;AACA;AACA;AACA,gCAAgC,qCAAG;AACnC;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,oBAAoB,qCAAG;AACvB,iBAAiB;AACjB;AACA;AACA;AACA,gCAAgC,qCAAG;AACnC;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,uDAAQ;AACzB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,QAAQ,yCAAK,SAAS,uCAAI;AAC1B;AACA;AACA;AACA;AACA,qBAAqB,+CAAK;AAC1B;AACA,QAAQ,+CAAK,6BAA6B,+CAAK,+CAA+C;AAC9F,QAAQ,yCAAK,SAAS,uCAAI;AAC1B;AACA;AACA;AACA,QAAQ,qCAAG,SAAS,uCAAI;AACxB,QAAQ,qCAAG;AACX;AACA,QAAQ,qCAAG,SAAS,uCAAI;AACxB,QAAQ,yCAAK,SAAS,uCAAI;AAC1B,QAAQ,2CAAM,SAAS,uCAAI;AAC3B,mBAAmB,uCAAI;AACvB,SAAS;AACT;AACA;AACA;AACA,8BAA8B,+CAAK;AACnC,YAAY,2CAAM;AAClB;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,mBAAmB,2CAAM,OAAO,uCAAI;AACpC;AACA;AACA;AACA;AACA;AAC0B;;;;;;;;;;;;;;;;;ACxJG;AACI;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,qCAAG;AACnC;AACA,SAAS;AACT;AACA;AACA;AACA,gCAAgC,yCAAK;AACrC;AACA;AACA;AACA;AACA;AACA,wBAAwB,YAAY;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,YAAY;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,YAAY;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAC0B;;;;;;;;;;;;;;;;;;AChEG;AACE;AACI;AACnC;AACA;AACA;AACA;AACA;AACA,gCAAgC,qCAAG;AACnC;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,+BAA+B;AAC/B;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,iBAAiB,oCAAoC;AACrD;AACA,gBAAgB,2CAAM,SAAS,uCAAI;AACnC;AACA;AACA;AACA,wCAAwC,aAAa;AACrD;AACA;AACA;AACA;AACA;AACA,8BAA8B,gBAAgB;AAC9C;AACA;AACA,8BAA8B,gBAAgB;AAC9C;AACA,uCAAuC,KAAK,gBAAgB,KAAK;AACjE,aAAa;AACb;AACA;AACA;AACA,mCAAmC,UAAU;AAC7C;AACA,UAAU;AACV;AACA,YAAY,2CAAM;AAClB,uBAAuB,uCAAI;AAC3B,aAAa;AACb,SAAS;AACT;AACA;AACA;AAC4B;;;;;;;;;;;;;;;;;;;;AC7DC;AACA;AACE;AACE;AACE;AACe;AACH;AACd;AACjC;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC,wCAAwC;AACxC,mCAAmC;AACnC,oCAAoC;AACpC,uBAAuB,uDAAS;AAChC;AACA;AACA;AACA;AACA;AACA,YAAY,2CAAM;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,oDAAoD,cAAc;AAClE,sDAAsD,cAAc;AACpE;AACA;AACA;AACA;AACA,iBAAiB;AACjB,sDAAsD,cAAc;AACpE;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,YAAY,2CAAM;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,qCAAG,SAAS,uCAAI;AACxB,QAAQ,yCAAK;AACb,QAAQ,yCAAK;AACb;AACA;AACA;AACA;AACA,YAAY,2DAAc;AAC1B;AACA;AACA,QAAQ,qCAAG,SAAS,uCAAI;AACxB,QAAQ,qCAAG;AACX;AACA;AACA;AACA,gCAAgC,qCAAG;AACnC;AACA,SAAS;AACT;AACA,wBAAwB,qCAAG,uBAAuB,qCAAG;AACrD;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA,6BAA6B,qCAAG,wBAAwB,qCAAG;AAC3D;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,4BAA4B,qCAAG,kBAAkB,qCAAG;AACpD;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA,gCAAgC,qCAAG;AACnC;AACA,SAAS;AACT;AACA;AACA;AACA,YAAY,yCAAK;AACjB;AACA;AACA,sBAAsB,yCAAK;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,2DAAc,uBAAuB,yCAAK;AACtD;AACA;AACA;AACA,QAAQ,qCAAG,KAAK,uCAAI;AACpB;AACA;AACA;AACA,kBAAkB,yCAAK;AACvB,kBAAkB,yCAAK;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,qCAAG;AACnB;AACA;AACA;AACA;AACA;AACA,oBAAoB,2DAAc;AAClC;AACA;AACA,QAAQ,qCAAG,SAAS,uCAAI;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,2DAAc;AAC1C;AACA;AACA;AACA,oBAAoB,2DAAc,uBAAuB,yCAAK;AAC9D;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,yCAAK,SAAS,uCAAI;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;ACnO6B;AACE;AACF;AACM;AACI;AACvC;AACA;AACA;AACA;AACA,iCAAiC;AACjC,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C;AAC1C,2CAA2C;AAC3C,aAAa;AACb;AACA;AACA;AACA;AACA,wBAAwB,uCAAI;AAC5B,YAAY,2CAAM;AAClB;AACA;AACA;AACA,0CAA0C,uCAAI;AAC9C;AACA;AACA;AACA,kCAAkC,qCAAG;AACrC;AACA;AACA;AACA;AACA,4BAA4B,uCAAI;AAChC,gBAAgB,qCAAG;AACnB,gBAAgB,2CAAM;AACtB;AACA;AACA;AACA;AACA,6BAA6B,qCAAG;AAChC;AACA;AACA;AACA;AACA,QAAQ,qCAAG,SAAS,uCAAI;AACxB,QAAQ,qCAAG,QAAQ,IAAI,IAAI,MAAM;AACjC;AACA;AACA;AACA;AACA,gBAAgB,qCAAG,KAAK,uCAAI;AAC5B;AACA;AACA,YAAY,qCAAG,QAAQ,IAAI,IAAI,MAAM;AACrC;AACA,sBAAsB,+CAAK;AAC3B;AACA;AACA;AACA;AACA,wBAAwB,uCAAI;AAC5B,YAAY,qCAAG;AACf,YAAY,2CAAM;AAClB;AACA;AACA,QAAQ,qCAAG;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,qCAAG;AACnC;AACA;AACA;AACA;AACA,sBAAsB,uCAAI;AAC1B;AACA,sBAAsB,uCAAI;AAC1B;AACA,YAAY,qCAAG;AACf,YAAY,2CAAM;AAClB;AACA;AACA,6CAA6C,4BAA4B,sNAAsN;AAC/R;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+DAA+D,6BAA6B;AAC5F,2CAA2C,4BAA4B;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6EAA6E,IAAI;AACjF;AACA,SAAS;AACT;AACA;AACA;AACA,sBAAsB,SAAS,KAAK,uBAAuB;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD,cAAc;AACrE;AACA;AACA;AACA,sBAAsB,YAAY,EAAE,SAAS,KAAK,uBAAuB;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,qBAAqB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,+CAAK;AAC7B,mCAAmC,QAAQ,WAAW,QAAQ;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACuB;;;;;;;;;;;;;;;;;AClSM;AACE;AAC/B;AACA;AACA;AACA,wBAAwB;AACxB;AACA,QAAQ,uCAAI;AACZ;AACA;AACA;AACA,gCAAgC,qCAAG;AACnC;AACA,SAAS;AACT,gCAAgC,qCAAG;AACnC;AACA;AACA,SAAS;AACT,gCAAgC,qCAAG;AACnC;AACA,SAAS;AACT,gCAAgC,qCAAG;AACnC;AACA;AACA;AACA,SAAS;AACT,gCAAgC,qCAAG;AACnC;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,QAAQ,uCAAI;AACZ;AACA;AACA;AACA,QAAQ,uCAAI;AACZ;AACA;AACyB;;;;;;;;;;;;;;;;ACxCc;AACV;AACM;AACF;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,sBAAsB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,qCAAG;AACnC;AACA,SAAS;AACT,gCAAgC,qCAAG;AACnC;AACA,SAAS;AACT,0BAA0B,qCAAG,mBAAmB,qCAAG;AACnD;AACA;AACA,aAAa;AACb;AACA,gCAAgC,qCAAG;AACnC;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,gCAAgC,qCAAG;AACnC;AACA,iBAAiB,2CAAM;AACvB;AACA;AACA,6BAA6B,yCAAK;AAClC;AACA,oBAAoB,yCAAK;AACzB;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT,gCAAgC,qCAAG;AACnC;AACA,SAAS;AACT,gCAAgC,qCAAG;AACnC;AACA,SAAS;AACT,gCAAgC,qCAAG;AACnC;AACA,SAAS;AACT,gCAAgC,qCAAG;AACnC;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,MAAM;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,KAAK;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,+CAAQ,gBAAgB,+CAAQ;AAC7D;AACA,iCAAiC,+CAAQ;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,KAAK;AAC7B;AACA;AACA,gCAAgC,KAAK,EAAE,eAAe;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,KAAK;AAC7B,+BAA+B,YAAY;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;;;;;;;;;;;;;;ACvJA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,iBAAiB;AACjB,6BAA6B;AAC7B,eAAe;AACf,aAAa;AACb,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf,eAAe;AACf,iBAAiB;AACjB,iBAAiB;AACjB,YAAY;AACZ,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB,gBAAgB;AAChB,YAAY;AACZ,YAAY;AACZ,WAAW;AACX,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,OAAO,EAAE,MAAM,gBAAgB,QAAQ,GAAG,MAAM;AACzF,yCAAyC,OAAO,EAAE,MAAM,gBAAgB,QAAQ,GAAG,MAAM;AACzF,oCAAoC,gFAAgF,OAAO,EAAE,OAAO,kCAAkC,QAAQ,KAAK,OAAO;AAC1L,qDAAqD,OAAO,EAAE,OAAO,yBAAyB,OAAO,EAAE,MAAM;AAC7G,kEAAkE,OAAO,EAAE,OAAO,4BAA4B,OAAO,GAAG,MAAM;AAC9H,iDAAiD,sEAAsE,OAAO,EAAE,MAAM,4BAA4B,QAAQ,GAAG,OAAO;AACpL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,MAAM,GAAG,UAAU;AAC5D,yCAAyC,MAAM,GAAG,UAAU;AAC5D,2FAA2F,MAAM,KAAK,WAAW;AACjH,4CAA4C,KAAK,EAAE,UAAU;AAC7D,wDAAwD,KAAK,GAAG,UAAU;AAC1E,sGAAsG,MAAM,GAAG,WAAW;AAC1H;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB,gBAAgB;AAChB,gCAAgC;AAChC,eAAe;AACf,cAAc;AACd,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,iBAAiB;AACjB,6BAA6B;AAC7B,eAAe;AACf,aAAa;AACb,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB,kBAAkB;AAClB,4CAA4C;AAC5C,mBAAmB;AACnB,cAAc;AACd,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB,gBAAgB;AAChB,YAAY;AACZ,YAAY;AACZ,WAAW;AACX,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kEAAkE;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf,eAAe;AACf,iBAAiB;AACjB,YAAY;AACZ,sBAAsB;AACtB,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,WAAW;AACvB,YAAY,WAAW;AACvB,YAAY,mBAAmB;AAC/B,YAAY,iBAAiB;AAC7B,YAAY,eAAe;AAC3B,YAAY,qBAAqB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB,gBAAgB;AAChB,sCAAsC;AACtC,iBAAiB;AACjB,WAAW;AACX,yBAAyB;AACzB;AACA;AACA,oBAAoB;AACpB,oBAAoB;AACpB,gFAAgF;AAChF,uBAAuB;AACvB,iBAAiB;AACjB,mEAAmE;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACoB;;;;;;;;;;;;;;;;;;;;;;AC35DS;AACI;AACM;AACoB;AACT;AACJ;AACP;AACR;AACK;AACD;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,oBAAoB,yCAAK,iBAAiB,+CAAQ;AAClD,QAAQ,uCAAI;AACZ;AACA;AACA,QAAQ,6CAAO;AACf,YAAY,2DAAc;AAC1B,YAAY,uDAAY;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qFAAqF,WAAW;AAChG;AACA;AACA;AACA;AACA,iEAAiE,SAAS;AAC1E;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,cAAc;AAClC;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,gCAAgC,qCAAG,qBAAqB,+CAAK;AAC7D;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,oBAAoB,6DAAU;AAC9B,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,qCAAG;AACvB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,qCAAG;AACvB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,uCAAI;AACtD;AACA,wBAAwB,qCAAG;AAC3B;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,qCAAG;AACvB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,qCAAG;AACvB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,qCAAG;AACnB,aAAa;AACb;AACA;AACA;AACA;AACA,YAAY,2CAAM,MAAM,uCAAI;AAC5B,uBAAuB,uCAAI;AAC3B,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA,6CAA6C,+CAAK;AAClD;AACA;AACA;AACA,6CAA6C,+CAAK;AAClD;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,oBAAoB,gCAAgC;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,uDAAQ;AAC9C;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;ACnN6B;AACqB;AACD;AACG;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,6DAAe;AACvB;AACA;AACA;AACA;AACA;AACA,gCAAgC,qCAAG;AACnC;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,qDAAU;AACtB,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,YAAY,qDAAU;AACtB,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,qDAAU;AAC1B,aAAa;AACb;AACA;AACA;AACA;AACA,YAAY,+CAAQ;AACpB,sCAAsC,+CAAQ;AAC9C;AACA;AACA;AACA;AACA,YAAY,+CAAQ;AACpB,oCAAoC,+CAAQ;AAC5C;AACA;AACA;AACA;AACA,YAAY,+CAAQ;AACpB;AACA,yBAAyB,+CAAQ;AACjC,oCAAoC,yDAAU;AAC9C;AACA;AACA;AACwB;;;;;;;;;;;;;;;;;;;AC1JW;AACN;AACU;AACW;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,qCAAG;AACf,YAAY,qCAAG;AACf,YAAY,qCAAG;AACf;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,eAAe,+CAAQ;AACvB;AACA;AACA;AACA;AACA,6CAA6C,2CAAM;AACnD,QAAQ,qDAAU;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,qBAAqB,+CAAQ;AAC7B,YAAY,qDAAU;AACtB;AACA;AACA;AACA;AACA;AACA,SAAS,SAAS,IAAI,KAAK,QAAQ,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,SAAS,IAAI,GAAG,EAAE,KAAK,EAAE,QAAQ,KAAK,iBAAiB;AAC3G;AACA;AACA,cAAc,+CAAK;AACnB;AACA;AACA;AACA,8BAA8B,MAAM;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAC2B;;;;;;;;;;;;;;;;;;AC5FE;AACE;AACO;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,qCAAG;AACnC;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,YAAY,qCAAG;AACf,YAAY,qCAAG;AACf;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,+CAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,GAAG;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,uCAAI;AACZ;AACA,4CAA4C,uCAAI;AAChD;AACA;AACA,YAAY,uCAAI;AAChB;AACA;AACA;AACA,YAAY,uCAAI;AAChB;AACA;AACA;AACA;AACA;AACmB;;;;;;;;;;;;;;;;;;;;;ACzIU;AACI;AACF;AACmB;AACjB;AACmB;AACpD;AACA;AACA;AACA,yBAAyB;AACzB,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,yCAAK;AACb,qBAAqB,yCAAK;AAC1B,QAAQ,uCAAI;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA,gCAAgC,qCAAG;AACnC;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,YAAY,+CAAQ;AACpB;AACA;AACA;AACA,aAAa,+CAAQ;AACrB,oCAAoC,+CAAQ;AAC5C;AACA,YAAY,qDAAU;AACtB;AACA,QAAQ,yCAAK,SAAS,uCAAI;AAC1B;AACA;AACA,gCAAgC,+CAAQ;AACxC;AACA,QAAQ,qDAAU;AAClB;AACA;AACA;AACA,QAAQ,6DAAe;AACvB;AACA;AACA;AACA,wBAAwB,IAAI,+CAAQ,wBAAwB;AAC5D;AACA,2BAA2B,+CAAQ,mBAAmB;AACtD,oEAAoE,EAAE;AACtE;AACA;AACA;AACA,YAAY,+CAAQ;AACpB,uCAAuC,MAAM,MAAM,MAAM;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAC0B;;;;;;;;;;;;;;;;;;;;;;AC5G1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAC6B;AACU;AACJ;AACA;AACF;AACF;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,KAAK,EAAE,KAAK,EAAE,MAAM,EAAE,MAAM;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,KAAK,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,+CAAK;AAC7B,qBAAqB,+CAAK;AAC1B;AACA;AACA,iBAAiB,2CAAM;AACvB,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,gCAAgC,qCAAG;AACnC;AACA,SAAS;AACT,gCAAgC,qCAAG;AACnC;AACA,SAAS;AACT,gCAAgC,qCAAG;AACnC;AACA,SAAS;AACT,gCAAgC,qCAAG;AACnC;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,iCAAiC,2CAAM;AACvC,uBAAuB,2CAAM;AAC7B,qCAAqC,2CAAM;AAC3C;AACA;AACA;AACA,2DAA2D,2CAAM;AACjE;AACA;AACA;AACA;AACA;AACA,YAAY,qCAAG;AACf,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,+CAAK;AAC5B;AACA;AACA;AACA;AACA;AACA,qBAAqB,+CAAK;AAC1B;AACA,QAAQ,+CAAK,mBAAmB,2CAAM;AACtC,QAAQ,yCAAK,SAAS,uCAAI;AAC1B;AACA;AACA,kCAAkC,+CAAK;AACvC,mBAAmB,2CAAM;AACzB,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,mBAAmB,2CAAM,OAAO,uCAAI;AACpC;AACA;AACA;AACA,QAAQ,yCAAK,SAAS,uCAAI;AAC1B;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,QAAQ,qCAAG;AACX;AACA;AACA,QAAQ,2CAAM,UAAU,IAAI;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,2CAAM;AAC1B,oBAAoB,2CAAM;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,+CAAK;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,qCAAG,yBAAyB,yBAAyB;AAC7D;AACA;AACA;AACA;AACA;AACgC;;;;;;;;;;;;;;;AC3ShC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACsB;;;;;;;;;;;;;;;ACxEtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,WAAW;AAC1D;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,WAAW;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACqB;;;;;;;;;;;;;;;AChPrB;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,mCAAmC;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2DAA2D,IAAI;AAC/D;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,uCAAuC,0BAA0B;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,0BAA0B;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACiB;;;;;;;UC3PjB;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA,E;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA,E;;;;;WCPA,wF;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACNA;AACA;AACA,4BAA4B;AAC5B,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACsB;AACM;AACR;AACG;AACC;AACJ;AACE;AACP;AACQ;AACa;AACE;AACX;AACC;AACJ;AACC;AACQ","sources":["webpack://pixiv-fanbox-downloader/./src/ts/API.ts","webpack://pixiv-fanbox-downloader/./src/ts/BG.ts","webpack://pixiv-fanbox-downloader/./src/ts/BoldKeywords.ts","webpack://pixiv-fanbox-downloader/./src/ts/CenterPanel.ts","webpack://pixiv-fanbox-downloader/./src/ts/CheckUnsupportBrowser.ts","webpack://pixiv-fanbox-downloader/./src/ts/Colors.ts","webpack://pixiv-fanbox-downloader/./src/ts/Config.ts","webpack://pixiv-fanbox-downloader/./src/ts/CrawlInterval.ts","webpack://pixiv-fanbox-downloader/./src/ts/EVT.ts","webpack://pixiv-fanbox-downloader/./src/ts/FileName.ts","webpack://pixiv-fanbox-downloader/./src/ts/Filter.ts","webpack://pixiv-fanbox-downloader/./src/ts/FormHTML.ts","webpack://pixiv-fanbox-downloader/./src/ts/InitHomePage.ts","webpack://pixiv-fanbox-downloader/./src/ts/InitPage.ts","webpack://pixiv-fanbox-downloader/./src/ts/InitPageBase.ts","webpack://pixiv-fanbox-downloader/./src/ts/InitPostListPage.ts","webpack://pixiv-fanbox-downloader/./src/ts/InitPostPage.ts","webpack://pixiv-fanbox-downloader/./src/ts/InitTagPage.ts","webpack://pixiv-fanbox-downloader/./src/ts/Lang.ts","webpack://pixiv-fanbox-downloader/./src/ts/ListenPageSwitch.ts","webpack://pixiv-fanbox-downloader/./src/ts/Log.ts","webpack://pixiv-fanbox-downloader/./src/ts/MsgBox.ts","webpack://pixiv-fanbox-downloader/./src/ts/OpenCenterPanel.ts","webpack://pixiv-fanbox-downloader/./src/ts/OutputPanel.ts","webpack://pixiv-fanbox-downloader/./src/ts/PageType.ts","webpack://pixiv-fanbox-downloader/./src/ts/ProgressBar.ts","webpack://pixiv-fanbox-downloader/./src/ts/QuickCrawl.ts","webpack://pixiv-fanbox-downloader/./src/ts/SaveData.ts","webpack://pixiv-fanbox-downloader/./src/ts/ShowHowToUse.ts","webpack://pixiv-fanbox-downloader/./src/ts/ShowNotification.ts","webpack://pixiv-fanbox-downloader/./src/ts/ShowWhatIsNew.ts","webpack://pixiv-fanbox-downloader/./src/ts/States.ts","webpack://pixiv-fanbox-downloader/./src/ts/Store.ts","webpack://pixiv-fanbox-downloader/./src/ts/Tip.ts","webpack://pixiv-fanbox-downloader/./src/ts/Toast.ts","webpack://pixiv-fanbox-downloader/./src/ts/Tools.ts","webpack://pixiv-fanbox-downloader/./src/ts/UnifiedURL.ts","webpack://pixiv-fanbox-downloader/./src/ts/download/Download.ts","webpack://pixiv-fanbox-downloader/./src/ts/download/DownloadControl.ts","webpack://pixiv-fanbox-downloader/./src/ts/download/DownloadInterval.ts","webpack://pixiv-fanbox-downloader/./src/ts/download/DownloadRecord.ts","webpack://pixiv-fanbox-downloader/./src/ts/download/DownloadStates.ts","webpack://pixiv-fanbox-downloader/./src/ts/download/GetTotalDownload.ts","webpack://pixiv-fanbox-downloader/./src/ts/download/Resume.ts","webpack://pixiv-fanbox-downloader/./src/ts/download/SaveFanCard.ts","webpack://pixiv-fanbox-downloader/./src/ts/download/ShowSkipCount.ts","webpack://pixiv-fanbox-downloader/./src/ts/download/ShowStatusOnTitle.ts","webpack://pixiv-fanbox-downloader/./src/ts/langText.ts","webpack://pixiv-fanbox-downloader/./src/ts/setting/Form.ts","webpack://pixiv-fanbox-downloader/./src/ts/setting/FormSettings.ts","webpack://pixiv-fanbox-downloader/./src/ts/setting/NameRuleManager.ts","webpack://pixiv-fanbox-downloader/./src/ts/setting/Options.ts","webpack://pixiv-fanbox-downloader/./src/ts/setting/SaveNamingRule.ts","webpack://pixiv-fanbox-downloader/./src/ts/setting/Settings.ts","webpack://pixiv-fanbox-downloader/./src/ts/utils/DateFormat.ts","webpack://pixiv-fanbox-downloader/./src/ts/utils/IndexedDB.ts","webpack://pixiv-fanbox-downloader/./src/ts/utils/Utils.ts","webpack://pixiv-fanbox-downloader/webpack/bootstrap","webpack://pixiv-fanbox-downloader/webpack/runtime/compat get default export","webpack://pixiv-fanbox-downloader/webpack/runtime/define property getters","webpack://pixiv-fanbox-downloader/webpack/runtime/hasOwnProperty shorthand","webpack://pixiv-fanbox-downloader/webpack/runtime/make namespace object","webpack://pixiv-fanbox-downloader/./src/ts/content.ts"],"sourcesContent":["class API {\n    constructor() {\n        this.error = {\n            message: 'Fetch failed: Failed to fetch',\n            error: {\n                message: 'Failed to fetch',\n                stack: `TypeError: Failed to fetch\\n\n              at chrome-extension://mfkglccbgcbnbkdgekepcgnhobeopoji/js/content.js:112:13\\n\n              ...`,\n            },\n        };\n    }\n    //  url  url \n    static assembleURL(baseURL, args) {\n        const temp = new URL(baseURL);\n        for (const [key, value] of Object.entries(args)) {\n            value && temp.searchParams.append(key, value.toString());\n        }\n        return temp.toString();\n    }\n    // \n    //  get  json \n    static request(url) {\n        return new Promise((resolve, reject) => {\n            fetch(url, {\n                method: 'get',\n                credentials: 'include',\n            })\n                .then((response) => {\n                if (response.ok) {\n                    return response.json().then((data) => resolve(data));\n                }\n                else {\n                    // HTTP \n                    reject({\n                        status: response.status,\n                        statusText: response.statusText,\n                        message: `HTTP error: ${response.status} ${response.statusText}`,\n                    });\n                }\n            })\n                .catch((error) => {\n                // \n                // fanbox  429 \n                // Uncaught (in promise) TypeError: Failed to fetch\n                reject({\n                    message: `Fetch failed: ${error.message}`,\n                    error,\n                });\n                //  429  error \n            });\n        });\n    }\n    static getCreatorId(url) {\n        const split = url.split('/');\n        //  @ \n        for (const str of split) {\n            if (str.startsWith('@')) {\n                return str.split('@')[1];\n            }\n        }\n        // \n        for (const str of split) {\n            // hostname\n            if (str.endsWith('.fanbox.cc')) {\n                return str.split('.')[0];\n            }\n        }\n        throw new Error('GetCreatorId error!');\n    }\n    //  creatorId  userId\n    static async getUserId(creatorId) {\n        const baseURL = `https://api.fanbox.cc/creator.get?creatorId=${creatorId}`;\n        const res = (await this.request(baseURL));\n        return res.body.user.userId;\n    }\n    /**  */\n    static async getAllSupportingPlan() {\n        const url = `https://api.fanbox.cc/plan.listSupporting`;\n        return this.request(url);\n    }\n    /**  */\n    static async getSupportingPlanForOneCreator(creatorId) {\n        const url = `https://api.fanbox.cc/legacy/support/creator?creatorId=${creatorId}`;\n        return this.request(url);\n    }\n    /** */\n    static async getPostListSupporting(limit = 10, maxPublishedDatetime = '', maxId = '') {\n        const baseURL = 'https://api.fanbox.cc/post.listSupporting';\n        const url = this.assembleURL(baseURL, {\n            limit,\n            maxPublishedDatetime,\n            maxId,\n        });\n        return this.request(url);\n    }\n    static async getPostListByUser(creatorId, limit = 10, maxPublishedDatetime = '', maxId = '') {\n        const baseURL = `https://api.fanbox.cc/post.listCreator?creatorId=${creatorId}`;\n        const url = this.assembleURL(baseURL, {\n            limit,\n            maxPublishedDatetime,\n            maxId,\n            withPinned: 'true',\n        });\n        return this.request(url);\n    }\n    static async getTagPostListByUser(userId, tag) {\n        const url = `https://api.fanbox.cc/post.listTagged?tag=${tag}&userId=${userId}`;\n        return this.request(url);\n    }\n    static async getPost(postId) {\n        const url = `https://api.fanbox.cc/post.info?postId=${postId}`;\n        return this.request(url);\n    }\n}\nexport { API };\n","import { EVT } from './EVT';\nimport { Utils } from './utils/Utils';\nimport { IndexedDB } from './utils/IndexedDB';\nimport { settings } from './setting/Settings';\nclass BG {\n    constructor() {\n        this.list = [];\n        this.bgModeflagClassName = 'xzBG';\n        this.bgLayerClassName = 'xzBGLayer';\n        this.bgUrl = '';\n        this.DBName = 'PFDBG';\n        this.DBVer = 1;\n        this.storeName = 'bg';\n        this.keyName = 'bg';\n        // \n        this.onUpdate = (db) => {\n            if (!db.objectStoreNames.contains(this.storeName)) {\n                db.createObjectStore(this.storeName, {\n                    keyPath: 'key',\n                });\n            }\n        };\n        this.IDB = new IndexedDB();\n        this.initDB();\n        this.bindEvents();\n    }\n    async initDB() {\n        // \n        // \n        if (settings.bgDisplay) {\n            await this.IDB.open(this.DBName, this.DBVer, this.onUpdate);\n            this.restore();\n        }\n    }\n    createBGLayer(wrap) {\n        const div = document.createElement('div');\n        div.classList.add(this.bgLayerClassName);\n        const el = wrap.insertAdjacentElement('afterbegin', div);\n        return el;\n    }\n    bindEvents() {\n        window.addEventListener(EVT.list.selectBG, () => {\n            this.selectBG();\n        });\n        window.addEventListener(EVT.list.clearBG, () => {\n            this.clearBG();\n        });\n        window.addEventListener(EVT.list.settingChange, (ev) => {\n            const data = ev.detail.data;\n            if (data.name === 'bgDisplay') {\n                this.setBGAll();\n                if (data.value) {\n                    this.initDB();\n                }\n            }\n            if (data.name === 'bgOpacity') {\n                this.setBGAll();\n            }\n            if (data.name === 'bgPositionY') {\n                this.setBGAll();\n            }\n        });\n    }\n    async restore() {\n        const data = (await this.IDB.get(this.storeName, this.keyName));\n        if (!data || !data.file) {\n            return;\n        }\n        this.bgUrl = URL.createObjectURL(data.file);\n        this.preload();\n    }\n    async selectBG() {\n        const file = (await Utils.selectFile('.jpg,.jpeg,.png,.bmp,.webp'))[0];\n        this.bgUrl = URL.createObjectURL(file);\n        this.preload();\n        for (const o of this.list) {\n            this.setBG(o);\n        }\n        const data = {\n            key: this.keyName,\n            file: file,\n        };\n        const test = await this.IDB.get(this.storeName, this.keyName);\n        this.IDB[test ? 'put' : 'add'](this.storeName, data);\n    }\n    clearBG() {\n        this.IDB.clear(this.storeName);\n        this.bgUrl = '';\n        for (const o of this.list) {\n            o.bg.style.backgroundImage = 'none';\n            this.setDisplay(o);\n        }\n    }\n    // \n    preload() {\n        // \n        const img = new Image();\n        img.src = this.bgUrl;\n        img.style.display = 'none';\n        document.body.append(img);\n    }\n    async setBG(o) {\n        this.setPositionY(o);\n        this.setOpacity(o);\n        this.setBGURL(o);\n        this.setDisplay(o);\n    }\n    async setBGAll() {\n        for (const o of this.list) {\n            this.setPositionY(o);\n            this.setOpacity(o);\n            this.setBGURL(o);\n            this.setDisplay(o);\n        }\n    }\n    setBGURL(o) {\n        o.bg.style.backgroundImage = `url(${this.bgUrl})`;\n    }\n    setDisplay(o) {\n        o.bg.style.display = settings.bgDisplay ? 'block' : 'none';\n        if (!this.bgUrl) {\n            o.wrap.classList.remove(this.bgModeflagClassName);\n        }\n        else {\n            o.wrap.classList[settings.bgDisplay ? 'add' : 'remove'](this.bgModeflagClassName);\n        }\n    }\n    setOpacity(o) {\n        o.bg.style.opacity = (o.opacity || settings.bgOpacity / 100).toString();\n    }\n    setPositionY(o) {\n        o.bg.style.backgroundPositionY = settings.bgPositionY;\n    }\n    // \n    // \n    useBG(wrap, opacity) {\n        if (this.bgUrl) {\n            this.readySet(wrap, opacity);\n        }\n        else {\n            let timer = window.setInterval(() => {\n                if (this.bgUrl) {\n                    window.clearInterval(timer);\n                    this.readySet(wrap);\n                }\n            }, 300);\n        }\n    }\n    readySet(wrap, opacity) {\n        const o = {\n            wrap,\n            bg: this.createBGLayer(wrap),\n            opacity,\n        };\n        this.list.push(o);\n        this.setBG(o);\n    }\n}\nconst bg = new BG();\nexport { bg };\n","import { EVT } from './EVT';\nimport { settings } from './setting/Settings';\nclass BoldKeywords {\n    constructor(wrap) {\n        this.className = 'showBlobKeywords';\n        this.wrap = wrap;\n        this.bindEvent();\n        this.setClassName();\n    }\n    bindEvent() {\n        window.addEventListener(EVT.list.settingChange, (ev) => {\n            const data = ev.detail.data;\n            if (data.name === 'boldKeywords') {\n                this.setClassName();\n            }\n        });\n    }\n    setClassName() {\n        this.wrap.classList[settings.boldKeywords ? 'add' : 'remove'](this.className);\n    }\n}\nexport { BoldKeywords };\n","// \nimport { lang } from './Lang';\nimport { EVT } from './EVT';\nimport './OpenCenterPanel';\nimport { bg } from './BG';\nimport { BoldKeywords } from './BoldKeywords';\nimport { states } from './States';\nimport { msgBox } from './MsgBox';\nimport { Config } from './Config';\n// \nclass CenterPanel {\n    constructor() {\n        this.centerPanel = document.createElement('div'); // \n        this.allLangFlag = [];\n        this.addCenterPanel();\n        lang.register(this.centerPanel);\n        bg.useBG(this.centerPanel);\n        new BoldKeywords(this.centerPanel);\n        this.allLangFlag = lang.langTypes.map((type) => 'lang_' + type);\n        this.setLangFlag();\n        this.bindEvents();\n    }\n    // \n    addCenterPanel() {\n        const centerPanelHTML = `\n      <div class=\"centerWrap ${'lang_' + lang.type}\">\n\n      <div class=\"centerWrap_head\">\n      <div class=\"centerWrap_title blue\">\n      ${Config.appName}\n      <div class=\"btns\">\n      <a class=\"has_tip centerWrap_top_btn\" data-xztip=\"_github\" href=\"https://github.com/xuejianxianzun/PixivFanboxDownloader\" target=\"_blank\">\n      <svg class=\"icon\" aria-hidden=\"true\">\n        <use xlink:href=\"#icon-github\"></use>\n      </svg>\n      </a>\n      \n      <button class=\"textButton has_tip centerWrap_top_btn centerWrap_close\" data-xztip=\"_\" data-xztitle=\"_\">\n      <svg class=\"icon\" aria-hidden=\"true\">\n        <use xlink:href=\"#icon-guanbi\"></use>\n      </svg>\n      </button>\n\n      </div>\n      </div>\n\n      </div>\n\n      <div class=\"centerWrap_con beautify_scrollbar\">\n      <slot data-name=\"form\"></slot>\n\n      <div class=\"help_bar gray1\"> \n      <button class=\"textButton gray1\" id=\"showDownTip\" type=\"button\" data-xztext=\"_\"></button>\n      <a class=\"gray1\" href=\"https://discord.gg/u4wVMy7xJM\" target=\"_blank\">Discord</a>\n      <a class=\"gray1\" href=\"https://pixiv.download\" target=\"_blank\" data-xztext=\"_pixivDownloader\"></a>\n      <button class=\"textButton gray1\" id=\"showPatronTip\" type=\"button\" data-xztext=\"_\"></button>\n      </div>\n      \n      </div>\n\n      </div>\n      `;\n        document.body.insertAdjacentHTML('beforebegin', centerPanelHTML);\n        this.centerPanel = document.querySelector('.centerWrap');\n    }\n    setLangFlag() {\n        this.allLangFlag.forEach((flag) => {\n            this.centerPanel.classList.remove(flag);\n        });\n        this.centerPanel.classList.add('lang_' + lang.type);\n    }\n    // \n    bindEvents() {\n        // \n        chrome.runtime.onMessage.addListener((msg) => {\n            if (msg.msg === 'click_icon') {\n                this.toggle();\n            }\n        });\n        //  Alt + x \n        window.addEventListener('keydown', (ev) => {\n            if (ev.altKey && ev.code === 'KeyX') {\n                this.toggle();\n            }\n        }, false);\n        // \n        document\n            .querySelector('.centerWrap_close')\n            .addEventListener('click', () => {\n            EVT.fire('closeCenterPanel');\n        });\n        // \n        window.addEventListener(EVT.list.crawlStart, () => {\n            EVT.fire('closeCenterPanel');\n        });\n        // \n        for (const ev of [EVT.list.crawlFinish, EVT.list.resume]) {\n            window.addEventListener(ev, () => {\n                if (!states.quickCrawl) {\n                    this.show();\n                }\n            });\n        }\n        window.addEventListener(EVT.list.openCenterPanel, () => {\n            this.show();\n        });\n        window.addEventListener(EVT.list.closeCenterPanel, () => {\n            this.close();\n        });\n        // \n        this.centerPanel\n            .querySelector('#showDownTip')\n            .addEventListener('click', () => {\n            let msg = lang.transl('_') + lang.transl('_');\n            if (Config.mobile) {\n                msg =\n                    msg +\n                        '<br><br>' +\n                        lang.transl('_');\n            }\n            msgBox.show(msg, {\n                title: lang.transl('_'),\n            });\n        });\n        this.centerPanel\n            .querySelector('#showPatronTip')\n            .addEventListener('click', () => msgBox.show(lang.transl('_'), {\n            title: lang.transl('_'),\n        }));\n        this.centerPanel.addEventListener('click', (e) => {\n            const ev = e || window.event;\n            ev.stopPropagation();\n        });\n        document.addEventListener('click', () => {\n            if (getComputedStyle(this.centerPanel)['display'] !== 'none') {\n                EVT.fire('closeCenterPanel');\n            }\n        });\n        window.addEventListener(EVT.list.langChange, () => {\n            this.setLangFlag();\n        });\n    }\n    // \n    show() {\n        this.centerPanel.style.display = 'block';\n        EVT.fire('centerPanelOpened');\n    }\n    // \n    close() {\n        this.centerPanel.style.display = 'none';\n        EVT.fire('centerPanelClosed');\n    }\n    toggle() {\n        const nowDisplay = this.centerPanel.style.display;\n        nowDisplay === 'block' ? this.close() : this.show();\n        if (nowDisplay === 'block') {\n            EVT.fire('closeCenterPanel');\n        }\n        else {\n            EVT.fire('openCenterPanel');\n        }\n    }\n}\nnew CenterPanel();\n","import { EVT } from './EVT';\nimport { lang } from './Lang';\nimport { log } from './Log';\n// \n//  notes/.md\nclass CheckUnsupportBrowser {\n    constructor() {\n        this.rules = {\n            // \"Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.66 Safari/537.36 SE 2.X MetaSr 1.0\"\n            Sougou: function () {\n                return navigator.userAgent.includes(' SE ');\n            },\n            // \"Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.25 Safari/537.36 Core/1.70.3872.400 QQBrowser/10.8.4455.400\"\n            QQ: function () {\n                return navigator.userAgent.includes('QQBrowser');\n            },\n            // \"Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3947.100 Safari/537.36 2345Explorer/10.21.0.21486\"\n            '2345': function () {\n                return navigator.userAgent.includes('2345Explorer');\n            },\n            All: function () {\n                //  Chrome \n                //  88\n                // 1.  Manifest V2  79\n                // 2. Cent  86 V2 GIF \n                // 3.  Manifest V3  88\n                const minChromeVer = 88;\n                const test = navigator.userAgent.match(/Chrome\\/(\\d*)/);\n                if (test && test[1]) {\n                    const ver = Number.parseInt(test[1]);\n                    if (ver < minChromeVer) {\n                        return true;\n                    }\n                }\n                return false;\n            },\n        };\n        window.addEventListener(EVT.list.settingInitialized, () => {\n            this.check();\n        });\n    }\n    check() {\n        for (const func of Object.values(this.rules)) {\n            if (func()) {\n                const msg = lang.transl('_');\n                log.error(msg);\n                // msgBox.error(msg)\n                return;\n            }\n        }\n        if (navigator.userAgent.includes('YaBrowser')) {\n            log.warning(lang.transl('_yandex'));\n        }\n    }\n}\nnew CheckUnsupportBrowser();\n","var Colors;\n(function (Colors) {\n    // \n    Colors[\"white\"] = \"#fff\";\n    Colors[\"black\"] = \"#000\";\n    Colors[\"red\"] = \"#f00\";\n    Colors[\"theme\"] = \"#0ea8ef\";\n    // \n    Colors[\"textSuccess\"] = \"#00BD17\";\n    Colors[\"textWarning\"] = \"#d27e00\";\n    Colors[\"textError\"] = \"#f00\";\n    // \n    // \n    Colors[\"bgBlue\"] = \"#0ea8ef\";\n    Colors[\"bgGreen\"] = \"#14ad27\";\n    Colors[\"bgYellow\"] = \"#e49d00\";\n    Colors[\"bgRed\"] = \"#f33939\";\n    // \n    // \n    Colors[\"bgBrightBlue\"] = \"#29b3f3\";\n    Colors[\"bgSuccess\"] = \"#00BD17\";\n    Colors[\"bgWarning\"] = \"#e49d00\";\n    Colors[\"bgError\"] = \"#f00\";\n})(Colors || (Colors = {}));\nexport { Colors };\n","// \n// \nclass Config {\n}\n/** txt  */\nConfig.outputMax = 5000;\n/** */\nConfig.downloadThreadMax = 3;\n/** */\nConfig.retryMax = 10;\n/** */\nConfig.appName = 'Pixiv Fanbox Downloader';\n/** localStorage  name */\nConfig.settingStoreName = 'fanboxSetting';\n/**fanbox  bmp  */\nConfig.fileType = {\n    image: ['jpg', 'jpeg', 'png', 'gif', 'bmp'],\n    music: ['wav', 'mp3', 'flac'],\n    video: ['mp4', 'mov', 'avi'],\n    compressed: ['zip'],\n    ps: ['psd', 'clip'],\n    other: ['txt', 'pdf'],\n};\n/** */\nConfig.defaultNameRule = '{user}/{date}-{title}/{index}';\nConfig.defaultNameRuleForNonImages = '{user}/{date}-{title}/{name}';\n/** */\nConfig.mobile = navigator.userAgent.includes('Mobile');\nexport { Config };\n","import { EVT } from './EVT';\nimport { lang } from './Lang';\nimport { log } from './Log';\nimport { settings } from './setting/Settings';\nclass CrawlInterval {\n    constructor() {\n        /** */\n        this.nextCrawlTime = 0;\n        this.bindEvents();\n    }\n    bindEvents() {\n        window.addEventListener(EVT.list.crawlStart, () => {\n            // \n            if (settings.crawlInterval > 0) {\n                const msg = lang.transl('_') +\n                    `: ${settings.crawlInterval} ` +\n                    lang.transl('_');\n                log.warning(msg, 1, false, 'crawlInterval');\n            }\n        });\n    }\n    async wait() {\n        if (this.nextCrawlTime > 0) {\n            const now = Date.now();\n            if (now < this.nextCrawlTime) {\n                const waitTime = this.nextCrawlTime - now;\n                await new Promise((resolve) => setTimeout(resolve, waitTime));\n            }\n        }\n        return true;\n    }\n    resetNextCrawlTime() {\n        this.nextCrawlTime = 0;\n    }\n    /**\n     *\n     * timeSpan  short\n     *\n     *  long 6  429  */\n    addTime(timeSpan = 'short') {\n        const now = Date.now();\n        if (timeSpan === 'short') {\n            //  settings.crawlInterval  0.8  1.2 \n            const randomFactor = 0.8 + Math.random() * 0.4;\n            const interval = settings.crawlInterval * 1000 * randomFactor;\n            this.nextCrawlTime = now + interval;\n        }\n        else {\n            //  300 - 360 \n            const add_time = Math.floor(Math.random() * (360000 - 300000 + 1)) + 300000;\n            this.nextCrawlTime = now + add_time;\n            log.warning(lang.transl('_'));\n        }\n    }\n}\nconst crawlInterval = new CrawlInterval();\nexport { crawlInterval };\n","// \nclass EVENT {\n    constructor() {\n        this.bindOnceFlagList = [];\n        this.list = {\n            crawlStart: 'crawlStart',\n            crawlFinish: 'crawlFinish',\n            crawlEmpty: 'crawlEmpty',\n            crawlError: 'crawlError',\n            addResult: 'addResult',\n            downloadStart: 'downloadStart',\n            downloadPause: 'downloadPause',\n            downloadStop: 'downloadStop',\n            download: 'download',\n            downloadSuccess: 'downloadSuccess',\n            downloadError: 'downloadError',\n            downloadComplete: 'downloadComplete',\n            pageSwitch: 'pageSwitch',\n            pageTypeChange: 'pageTypeChange',\n            resetOption: 'resetOption',\n            convertChange: 'convertChange',\n            previewFileName: 'previewFileName',\n            output: 'output',\n            hideCenterPanel: 'hideCenterPanel',\n            showCenterPanel: 'showCenterPanel',\n            clearMultiple: 'clearMultiple',\n            clearUgoira: 'clearUgoira',\n            deleteWork: 'deleteWork',\n            worksUpdate: 'worksUpdate',\n            settingChange: 'settingChange',\n            clickRightIcon: 'clickRightIcon',\n            convertError: 'convertError',\n            skipDownload: 'skipDownload',\n            resetSettings: 'resetSettings',\n            exportSettings: 'exportSettings',\n            importSettings: 'importSettings',\n            settingInitialized: 'settingInitialized',\n            resetSettingsEnd: 'resetSettingsEnd',\n            pageSwitchedTypeChange: 'pageSwitchedTypeChange',\n            pageSwitchedTypeNotChange: 'pageSwitchedTypeNotChange',\n            openCenterPanel: 'openCenterPanel',\n            closeCenterPanel: 'closeCenterPanel',\n            centerPanelOpened: 'centerPanelOpened',\n            centerPanelClosed: 'centerPanelClosed',\n            showMsg: 'showMsg',\n            langChange: 'langChange',\n            selectBG: 'selectBG',\n            clearBG: 'clearBG',\n            wrongSetting: 'wrongSetting',\n            clearLog: 'clearLog',\n            quickCrawl: 'quickCrawl',\n            importDownloadRecord: 'importDownloadRecord',\n            exportDownloadRecord: 'exportDownloadRecord',\n            clearDownloadRecord: 'clearDownloadRecord',\n            resume: 'resume',\n            clearSavedCrawl: 'clearSavedCrawl',\n            totalDownloadHistory: 'totalDownloadHistory',\n        };\n    }\n    // \n    //  flag \n    // \n    bindOnce(flag, targetEvt, evtFun) {\n        const query = this.bindOnceFlagList.includes(flag);\n        if (!query) {\n            this.bindOnceFlagList.push(flag);\n            window.addEventListener(targetEvt, function (ev) {\n                evtFun(ev);\n            });\n        }\n    }\n    fire(type, data = '') {\n        const event = new CustomEvent(type, {\n            detail: { data: data },\n        });\n        window.dispatchEvent(event);\n    }\n}\nconst EVT = new EVENT();\nexport { EVT };\n","import { EVT } from './EVT';\nimport { store } from './Store';\nimport { lang } from './Lang';\nimport { DateFormat } from './utils/DateFormat';\nimport { settings } from './setting/Settings';\nimport { Config } from './Config';\nclass FileName {\n    constructor() {\n        // Chrome  Windows \n        // \n        this.unsafeStr = new RegExp(/[\\u0001-\\u001f\\u007f-\\u009f\\u00ad\\u0600-\\u0605\\u061c\\u06dd\\u070f\\u08e2\\u180e\\u200b-\\u200f\\u202a-\\u202e\\u2060-\\u2064\\u2066-\\u206f\\ufdd0-\\ufdef\\ufeff\\ufff9-\\ufffb\\ufffe\\uffff]/g);\n        // \n        this.fullWidthDict = [\n            ['\\\\\\\\', ''],\n            ['/', ''],\n            [':', ''],\n            ['\\\\?', ''],\n            ['\"', ''],\n            ['<', ''],\n            ['>', ''],\n            ['\\\\*', ''],\n            ['\\\\|', ''],\n            ['~', ''],\n        ];\n        window.addEventListener(EVT.list.previewFileName, () => {\n            this.previewFileName();\n        });\n    }\n    // \n    replaceUnsafeStr(str) {\n        str = str.replace(this.unsafeStr, '');\n        for (let index = 0; index < this.fullWidthDict.length; index++) {\n            const rule = this.fullWidthDict[index];\n            const reg = new RegExp(rule[0], 'g');\n            str = str.replace(reg, rule[1]);\n        }\n        return str;\n    }\n    //  {index} \n    createIndex(data) {\n        let index = data.index.toString();\n        //  0 \n        return settings.zeroPadding\n            ? index.padStart(settings.zeroPaddingLength, '0')\n            : index;\n    }\n    getNameRule(data) {\n        if (Config.fileType.image.includes(data.ext.toLowerCase())) {\n            return settings.userSetName || Config.defaultNameRule;\n        }\n        else {\n            return settings.nameruleForNonImages || Config.defaultNameRuleForNonImages;\n        }\n    }\n    // \n    getFileName(data) {\n        let result = this.getNameRule(data);\n        // \n        const cfg = {\n            '{postid}': {\n                value: data.postId,\n                safe: true,\n            },\n            '{post_id}': {\n                value: data.postId,\n                safe: true,\n            },\n            '{title}': {\n                value: data.title,\n                safe: false,\n            },\n            '{name}': {\n                value: data.name,\n                safe: false,\n            },\n            '{ext}': {\n                value: data.ext,\n                safe: false,\n            },\n            '{index}': {\n                value: this.createIndex(data),\n                safe: false,\n            },\n            '{tags}': {\n                value: data.tags,\n                safe: false,\n            },\n            '{date}': {\n                value: DateFormat.format(data.date, settings.dateFormat),\n                safe: false,\n            },\n            '{task_date}': {\n                value: DateFormat.format(store.date, settings.dateFormat),\n                prefix: '',\n                safe: false,\n            },\n            '{fee}': {\n                value: data.fee,\n                safe: true,\n            },\n            '{user}': {\n                value: data.user,\n                safe: false,\n            },\n            // {create_id}  {creator_id} \n            // \n            '{create_id}': {\n                value: data.createID,\n                safe: true,\n            },\n            '{creator_id}': {\n                value: data.createID,\n                safe: true,\n            },\n            '{uid}': {\n                value: data.uid,\n                safe: true,\n            },\n            '{user_id}': {\n                value: data.uid,\n                safe: true,\n            },\n        };\n        // \n        result = this.replaceUnsafeStr(result);\n        //  /  \n        result = result.replace(//g, '/');\n        // \n        for (const [key, val] of Object.entries(cfg)) {\n            // \n            if (result.includes(key) && val.value !== '' && val.value !== null) {\n                let once = String(val.value);\n                // \n                if (!val.safe) {\n                    once = this.replaceUnsafeStr(once);\n                }\n                result = result.replace(new RegExp(key, 'g'), once); // \n            }\n        }\n        //  '//' \n        result = result.replace(/undefined/g, '').replace(/\\/{2,9}/, '/');\n        // \n        let tempArr = result.split('/');\n        tempArr.forEach((str, index, arr) => {\n            // \n            //  .  Chrome  .\n            arr[index] = str.trim().replace(/^\\./g, '').replace(/\\.$/g, '');\n        });\n        result = tempArr.join('/');\n        //  /\n        if (result.startsWith('/')) {\n            result = result.replace('/', '');\n        }\n        if (result.endsWith('/')) {\n            result = result.substr(0, result.length - 1);\n        }\n        // \n        result += '.' + data.ext;\n        return result;\n    }\n    // \n    previewFileName() {\n        if (store.result.length === 0) {\n            return alert(lang.transl('_'));\n        }\n        // \n        const resultArr = [];\n        let result = '';\n        const length = store.result.length;\n        if (length < Config.outputMax) {\n            for (let i = 0; i < length; i++) {\n                const data = store.result[i];\n                // \n                const fullName = this.getFileName(data);\n                const part = fullName.split('/');\n                const length = part.length;\n                for (let i = 0; i < length; i++) {\n                    const str = part[i];\n                    if (i < length - 1) {\n                        // \n                        part[i] = `<span class=\"color666\">${str}</span>`;\n                    }\n                    else {\n                        // \n                        part[i] = `<span class=\"color000\">${str}</span>`;\n                    }\n                }\n                const fullNameHtml = part.join('/');\n                // \n                const nowResult = `<p class=\"result\">${fullNameHtml}</p>`;\n                resultArr.push(nowResult);\n            }\n            // \n            result = resultArr.join('');\n        }\n        else {\n            //  html  txt \n            for (let i = 0; i < length; i++) {\n                const data = store.result[i];\n                const fullName = this.getFileName(data);\n                resultArr.push(fullName);\n            }\n            result = resultArr.join('\\n');\n        }\n        EVT.fire('output', {\n            content: result,\n            title: '_',\n        });\n    }\n}\nconst fileName = new FileName();\nexport { fileName };\n","import { log } from './Log';\nimport { EVT } from './EVT';\nimport { Config } from './Config';\nimport { settings } from './setting/Settings';\nimport { msgBox } from './MsgBox';\nimport { lang } from './Lang';\n// \nclass Filter {\n    constructor() {\n        this.bindEvents();\n    }\n    // \n    showTip() {\n        this.getFeeType();\n        this.getFeeRange();\n        this.getIdRange();\n        this.getPostDate();\n        this.getTitleMustText();\n        this.getTitleCannotText();\n        this.getFileNameIncludes();\n        this.getFileNameExcludes();\n    }\n    getFeeType() {\n        if (settings.free && settings.pay) {\n            return;\n        }\n        let msg = '';\n        if (settings.free) {\n            msg = `${lang.transl('_')}: ${lang.transl('_')}`;\n        }\n        if (settings.pay) {\n            msg = `${lang.transl('_')}: ${lang.transl('_')}`;\n        }\n        log.warning(msg);\n    }\n    getFeeRange() {\n        if (!settings.feeSwitch) {\n            return;\n        }\n        const msg = `${lang.transl('_')}: ${lang.transl('_')} ${settings.fee}`;\n        log.warning(msg);\n    }\n    //  id \n    getIdRange() {\n        if (!settings.idRangeSwitch) {\n            return;\n        }\n        log.warning(`id ${settings.idRange} ${settings.idRangeInput}`);\n    }\n    // \n    getPostDate() {\n        if (!settings.postDate) {\n            return;\n        }\n        if (isNaN(settings.postDateStart) || isNaN(settings.postDateStart)) {\n            const msg = lang.transl('_');\n            this.showWarning(msg);\n        }\n        else {\n            const start = new Date(settings.postDateStart).toLocaleString();\n            const end = new Date(settings.postDateEnd).toLocaleString();\n            log.warning(`${lang.transl('_')}: ${start} - ${end}`);\n        }\n    }\n    getTitleMustText() {\n        if (!settings.titleMustTextSwitch) {\n            return;\n        }\n        const msg = `${lang.transl('_')}: ${settings.titleMustText.toString()}`;\n        log.warning(msg);\n    }\n    getTitleCannotText() {\n        if (!settings.titleCannotTextSwitch) {\n            return;\n        }\n        const msg = `${lang.transl('_')}: ${settings.titleCannotText.toString()}`;\n        log.warning(msg);\n    }\n    getFileNameIncludes() {\n        if (!settings.fileNameIncludeSwitch ||\n            settings.fileNameInclude.length === 0) {\n            return;\n        }\n        const msg = `${lang.transl('_')}: ${settings.fileNameInclude.toString()}`;\n        log.warning(msg);\n    }\n    getFileNameExcludes() {\n        if (!settings.fileNameExcludeSwitch ||\n            settings.fileNameExclude.length === 0) {\n            return;\n        }\n        const msg = `${lang.transl('_')}: ${settings.fileNameExclude.toString()}`;\n        log.warning(msg);\n    }\n    /** URL */\n    createPostURL(option) {\n        if (option.creatorId && option.id) {\n            return `<a href=\"https://www.fanbox.cc/@${option.creatorId}/posts/${option.id}\" target=\"_blank\">${option.title}</a>`;\n        }\n        return option.title;\n    }\n    // \n    //  FilterOption \n    check(option) {\n        if (!this.checkFileType(option.ext)) {\n            return false;\n        }\n        if (!this.checkfeeType(option.fee)) {\n            log.warning(lang.transl('_', this.createPostURL(option)) +\n                lang.transl('_'));\n            return false;\n        }\n        if (!this.checkfeeRange(option.fee)) {\n            log.warning(lang.transl('_', this.createPostURL(option)) +\n                lang.transl('_'));\n            return false;\n        }\n        if (!this.checkIdRange(option.id)) {\n            log.warning(lang.transl('_', this.createPostURL(option)) +\n                lang.transl('_id'));\n            return false;\n        }\n        if (!this.checkPostDate(option.date)) {\n            log.warning(lang.transl('_', this.createPostURL(option)) +\n                lang.transl('_'));\n            return false;\n        }\n        if (!this.checkTitltMustText(option.title)) {\n            log.warning(lang.transl('_', this.createPostURL(option)) +\n                lang.transl('_'));\n            return false;\n        }\n        if (!this.checkTitltCannotText(option.title)) {\n            log.warning(lang.transl('_', this.createPostURL(option)) +\n                lang.transl('_'));\n            return false;\n        }\n        if (!this.checkFileNameInclude(option.name)) {\n            log.warning(lang.transl('_', `${option.name}.${option.ext}`) +\n                lang.transl('_') +\n                ': ' +\n                settings.fileNameInclude.join(','));\n            return false;\n        }\n        if (!this.checkFileNameExclude(option.name)) {\n            log.warning(lang.transl('_', `${option.name}.${option.ext}`) +\n                lang.transl('_') +\n                ': ' +\n                settings.fileNameExclude.join(','));\n            return false;\n        }\n        return true;\n    }\n    checkFileType(ext) {\n        //  ext\n        if (!ext) {\n            return true;\n        }\n        //  ext \n        for (const [key, value] of Object.entries(Config.fileType)) {\n            if (value.includes(ext)) {\n                return settings[key];\n            }\n        }\n        //  ext  other \n        return settings.other;\n    }\n    checkfeeType(fee) {\n        if (fee === undefined) {\n            return true;\n        }\n        if (fee > 0) {\n            return settings.pay;\n        }\n        else {\n            return settings.free;\n        }\n    }\n    checkfeeRange(fee) {\n        if (fee === undefined || !settings.feeSwitch) {\n            return true;\n        }\n        if (settings.feeRange === '>=') {\n            return fee >= settings.fee;\n        }\n        else if (settings.feeRange === '<=') {\n            return fee <= settings.fee;\n        }\n        else {\n            return fee === settings.fee;\n        }\n    }\n    checkIdRange(id) {\n        if (id === undefined || !settings.idRangeSwitch) {\n            return true;\n        }\n        const nowId = parseInt(id.toString());\n        const setId = settings.idRangeInput;\n        if (settings.idRange === '>') {\n            return nowId > setId;\n        }\n        else {\n            return nowId < setId;\n        }\n    }\n    checkPostDate(date) {\n        if (!settings.postDate ||\n            date === undefined ||\n            !settings.postDateStart ||\n            !settings.postDateEnd) {\n            return true;\n        }\n        const nowDate = new Date(date);\n        return (nowDate.getTime() >= settings.postDateStart &&\n            nowDate.getTime() <= settings.postDateEnd);\n    }\n    checkTitltMustText(title) {\n        if (!settings.titleMustTextSwitch ||\n            !title ||\n            settings.titleMustText.length === 0) {\n            return true;\n        }\n        title = title.toLowerCase();\n        const match = settings.titleMustText.filter((str) => title.includes(str.toLowerCase()));\n        if (match.length === 0) {\n            return false;\n        }\n        return true;\n    }\n    checkTitltCannotText(title) {\n        if (!settings.titleCannotTextSwitch ||\n            !title ||\n            settings.titleCannotText.length === 0) {\n            return true;\n        }\n        title = title.toLowerCase();\n        const match = settings.titleCannotText.filter((str) => title.includes(str.toLowerCase()));\n        if (match.length > 0) {\n            return false;\n        }\n        return true;\n    }\n    checkFileNameInclude(name) {\n        if (!settings.fileNameIncludeSwitch ||\n            settings.fileNameInclude.length === 0 ||\n            !name) {\n            return true;\n        }\n        const find = settings.fileNameInclude.some((str) => name.toLowerCase().includes(str.toLowerCase()));\n        return find;\n    }\n    checkFileNameExclude(name) {\n        if (!settings.fileNameExcludeSwitch ||\n            settings.fileNameExclude.length === 0 ||\n            !name) {\n            return true;\n        }\n        const find = settings.fileNameExclude.some((str) => name.toLowerCase().includes(str.toLowerCase()));\n        return !find;\n    }\n    // \n    showWarning(msg) {\n        EVT.fire('wrongSetting');\n        msgBox.error(msg);\n    }\n    bindEvents() {\n        window.addEventListener(EVT.list.crawlStart, () => {\n            this.showTip();\n        });\n    }\n}\nconst filter = new Filter();\nexport { filter };\n","import { Config } from './Config';\n//  59\nexport const formHtml = `<form class=\"settingForm\">\n    <p class=\"option\" data-no=\"2\">\n    <span class=\"settingNameStyle1\" data-xztext=\"_\"></span>\n\n    <input type=\"checkbox\" name=\"image\" id=\"fileType1\" class=\"need_beautify checkbox_common\" checked>\n    <span class=\"beautify_checkbox\"></span>\n    <label for=\"fileType1\" class=\"has_tip\" data-tip=\"${Config.fileType.image.join()}\" data-xztext=\"_\"></label>\n    \n    <input type=\"checkbox\" name=\"music\" id=\"fileType2\" class=\"need_beautify checkbox_common\" checked>\n    <span class=\"beautify_checkbox\"></span>\n    <label for=\"fileType2\" class=\"has_tip\" data-tip=\"${Config.fileType.music.join()}\" data-xztext=\"_\"></label>\n\n    <input type=\"checkbox\" name=\"video\" id=\"fileType3\" class=\"need_beautify checkbox_common\" checked>\n    <span class=\"beautify_checkbox\"></span>\n    <label for=\"fileType3\" class=\"has_tip\" data-tip=\"${Config.fileType.video.join()}\" data-xztext=\"_\"></label>\n    \n    <input type=\"checkbox\" name=\"compressed\" id=\"fileType4\" class=\"need_beautify checkbox_common\" checked>\n    <span class=\"beautify_checkbox\"></span>\n    <label for=\"fileType4\" class=\"has_tip\" data-tip=\"${Config.fileType.compressed.join()}\" data-xztext=\"_\"></label>\n    \n    <input type=\"checkbox\" name=\"ps\" id=\"fileType5\" class=\"need_beautify checkbox_common\" checked>\n    <span class=\"beautify_checkbox\"></span>\n    <label for=\"fileType5\" class=\"has_tip\" data-tip=\"${Config.fileType.ps.join()}\" data-xztext=\"_PS\"></label>\n\n    <input type=\"checkbox\" name=\"other\" id=\"fileType6\" class=\"need_beautify checkbox_common\" checked>\n    <span class=\"beautify_checkbox\"></span>\n    <label for=\"fileType6\" class=\"has_tip\" data-tip=\"${Config.fileType.other.join()}\" data-xztext=\"_\"></label>\n    </p>\n\n    <p class=\"option\" data-no=\"21\">\n    <span class=\"settingNameStyle1\" data-xztext=\"_\"></span>\n\n    <input type=\"checkbox\" name=\"free\" id=\"postType1\" class=\"need_beautify checkbox_common\" checked>\n    <span class=\"beautify_checkbox\"></span>\n    <label for=\"postType1\" data-xztext=\"_\"></label>\n\n    <input type=\"checkbox\" name=\"pay\" id=\"postType2\" class=\"need_beautify checkbox_common\" checked>\n    <span class=\"beautify_checkbox\"></span>\n    <label for=\"postType2\" data-xztext=\"_\"></label>\n    </p>\n\n    <p class=\"option\" data-no=\"9\">\n    <span class=\"settingNameStyle1\" data-xztext=\"_\"></span>\n    <input type=\"checkbox\" name=\"feeSwitch\" class=\"need_beautify checkbox_switch\">\n    <span class=\"beautify_switch\"></span>\n    <span class=\"subOptionWrap\" data-show=\"feeSwitch\">\n\n    <input type=\"radio\" name=\"feeRange\" id=\"feeRange0\" class=\"need_beautify radio\" value=\"<=\" checked>\n    <span class=\"beautify_radio\" tabindex=\"0\"></span>\n    <label for=\"feeRange0\">&lt;=</label>\n\n    <input type=\"radio\" name=\"feeRange\" id=\"feeRange2\" class=\"need_beautify radio\" value=\"=\">\n    <span class=\"beautify_radio\" tabindex=\"0\"></span>\n    <label for=\"feeRange2\">=</label>\n\n    <input type=\"radio\" name=\"feeRange\" id=\"feeRange1\" class=\"need_beautify radio\" value=\">=\" checked>\n    <span class=\"beautify_radio\" tabindex=\"0\"></span>\n    <label for=\"feeRange1\">&gt;=</label>\n    \n    <input type=\"text\" name=\"fee\" class=\"setinput_style1 blue\" value=\"500\"> \n\n    </span>\n    </p>\n    \n    <p class=\"option\" data-no=\"7\">\n    <span class=\"has_tip settingNameStyle1\" data-xztip=\"_id\">\n    <span data-xztext=\"_id\"></span>\n    <span class=\"gray1\"> ? </span>\n    </span>\n    <input type=\"checkbox\" name=\"idRangeSwitch\" class=\"need_beautify checkbox_switch\">\n    <span class=\"beautify_switch\"></span>\n    <span class=\"subOptionWrap\" data-show=\"idRangeSwitch\">\n    <input type=\"radio\" name=\"idRange\" id=\"idRange2\" class=\"need_beautify radio\" value=\"<\" checked>\n    <span class=\"beautify_radio\"></span>\n    <label for=\"idRange2\" data-xztext=\"_\"></label>\n    <input type=\"radio\" name=\"idRange\" id=\"idRange1\" class=\"need_beautify radio\" value=\">\">\n    <span class=\"beautify_radio\"></span>\n    <label for=\"idRange1\" data-xztext=\"_\"></label>\n    <input type=\"text\" name=\"idRangeInput\" class=\"setinput_style1 w100 blue\" value=\"0\">\n    </span>\n    </p>\n\n    <p class=\"option\" data-no=\"10\">\n    <span class=\"has_tip settingNameStyle1\" data-xztip=\"_\">\n    <span data-xztext=\"_\"></span>\n    <span class=\"gray1\"> ? </span>\n    </span>\n\n    <input type=\"checkbox\" name=\"postDate\" class=\"need_beautify checkbox_switch\">\n    <span class=\"beautify_switch\"></span>\n    <span class=\"subOptionWrap\" data-show=\"postDate\">\n    <input type=\"datetime-local\" name=\"postDateStart\" placeholder=\"yyyy-MM-dd HH:mm\" class=\"setinput_style1 postDate blue\" value=\"\">\n    &nbsp;-&nbsp;\n    <input type=\"datetime-local\" name=\"postDateEnd\" placeholder=\"yyyy-MM-dd HH:mm\" class=\"setinput_style1 postDate blue\" value=\"\">\n    </span>\n    </p>\n\n    <p class=\"option\" data-no=\"59\">\n      <span class=\"has_tip settingNameStyle1\" data-xztip=\"_\">\n      <span data-xztext=\"_\"></span>\n      <span class=\"gray1\"> ? </span>\n    </span>\n\n    <input type=\"radio\" name=\"imageSize\" id=\"imageSize1\" class=\"need_beautify radio\" value=\"original\" checked>\n    <span class=\"beautify_radio\" tabindex=\"0\"></span>\n    <label for=\"imageSize1\" data-xztext=\"_\"></label>\n    <input type=\"radio\" name=\"imageSize\" id=\"imageSize2\" class=\"need_beautify radio\" value=\"thumbnail\">\n    <span class=\"beautify_radio\" tabindex=\"0\"></span>\n    <label for=\"imageSize2\" data-xztext=\"_\"></label>\n    <label for=\"imageSize2\" class=\"gray1\">(1200px)</label>\n    </p>\n    \n    <p class=\"option\" data-no=\"22\">\n    <span class=\"settingNameStyle1\" data-xztext=\"_\"></span>\n    <input type=\"checkbox\" name=\"savePostCover\" class=\"need_beautify checkbox_switch\" checked>\n    <span class=\"beautify_switch\"></span>\n    </p>\n\n    <p class=\"option\" data-no=\"19\">\n    <span class=\"settingNameStyle1\" data-xztext=\"_\"></span>\n    <input type=\"checkbox\" name=\"saveLink\" class=\"need_beautify checkbox_switch\" checked>\n    <span class=\"beautify_switch\"></span>\n    </p>\n\n    <p class=\"option\" data-no=\"20\">\n    <span class=\"settingNameStyle1\" data-xztext=\"_\"></span>\n    <input type=\"checkbox\" name=\"saveText\" class=\"need_beautify checkbox_switch\">\n    <span class=\"beautify_switch\"></span>\n    </p>\n\n    <p class=\"option\" data-no=\"23\">\n    <span class=\"has_tip settingNameStyle1\" data-xztip=\"_\">\n    <span data-xztext=\"_\"></span>\n    <span class=\"gray1\"> ? </span>\n    </span>\n    <input type=\"checkbox\" name=\"titleMustTextSwitch\" class=\"need_beautify checkbox_switch\">\n    <span class=\"beautify_switch\"></span>\n    <span class=\"subOptionWrap\" data-show=\"titleMustTextSwitch\">\n    <input type=\"text\" name=\"titleMustText\" class=\"setinput_style1 blue fileNameRule\" value=\"\" placeholder=\"text1,text2,text3\">\n    </span>\n    </p>\n\n    <p class=\"option\" data-no=\"24\">\n    <span class=\"has_tip settingNameStyle1\" data-xztip=\"_\">\n    <span data-xztext=\"_\"></span>\n    <span class=\"gray1\"> ? </span>\n    </span>\n    <input type=\"checkbox\" name=\"titleCannotTextSwitch\" class=\"need_beautify checkbox_switch\">\n    <span class=\"beautify_switch\"></span>\n    <span class=\"subOptionWrap\" data-show=\"titleCannotTextSwitch\">\n    <input type=\"text\" name=\"titleCannotText\" class=\"setinput_style1 blue fileNameRule\" value=\"\" placeholder=\"text1,text2,text3\">\n    </span>\n    </p>\n\n    <p class=\"option\" data-no=\"54\">\n    <span class=\"has_tip settingNameStyle1\" data-xztip=\"_\">\n    <span data-xztext=\"_\"></span>\n    <span class=\"gray1\"> ? </span>\n    </span>\n    <input type=\"checkbox\" name=\"fileNameIncludeSwitch\" class=\"need_beautify checkbox_switch\">\n    <span class=\"beautify_switch\"></span>\n    <span class=\"subOptionWrap\" data-show=\"fileNameIncludeSwitch\">\n    <span data-xztext=\"_\"></span>\n    <input type=\"text\" name=\"fileNameInclude\" class=\"setinput_style1 blue fileNameRule\" value=\"\" placeholder=\"text1,text2,text3\">\n    </span>\n    </p>\n\n    <p class=\"option\" data-no=\"55\">\n    <span class=\"has_tip settingNameStyle1\" data-xztip=\"_\">\n    <span data-xztext=\"_\"></span>\n    <span class=\"gray1\"> ? </span>\n    </span>\n    <input type=\"checkbox\" name=\"fileNameExcludeSwitch\" class=\"need_beautify checkbox_switch\">\n    <span class=\"beautify_switch\"></span>\n    <span class=\"subOptionWrap\" data-show=\"fileNameExcludeSwitch\">\n    <span data-xztext=\"_\"></span>\n    <input type=\"text\" name=\"fileNameExclude\" class=\"setinput_style1 blue fileNameRule\" value=\"\" placeholder=\"text1,text2,text3\">\n    </span>\n    </p>\n\n    <slot data-name=\"crawlBtns\" class=\"centerWrap_btns crawlBtns\"></slot>\n    <slot data-name=\"downloadArea\"></slot>\n    <slot data-name=\"progressBar\"></slot>\n\n    <p class=\"option\" data-no=\"13\">\n      <span class=\"settingNameStyle1\">\n      <span data-xztext=\"_\"></span>\n      </span>\n      <input type=\"text\" name=\"userSetName\" class=\"setinput_style1 blue fileNameRule\" value=\"${Config.defaultNameRule}\">\n      &nbsp;\n      <select name=\"fileNameSelect\" class=\"beautify_scrollbar\">\n        <option value=\"default\"></option>\n        <option value=\"{user}\">{user}</option>\n        <option value=\"{creator_id}\">{creator_id}</option>\n        <option value=\"{user_id}\">{user_id}</option>\n        <option value=\"{title}\">{title}</option>\n        <option value=\"{post_id}\">{post_id}</option>\n        <option value=\"{date}\">{date}</option>\n        <option value=\"{task_date}\">{task_date}</option>\n        <option value=\"{index}\">{index}</option>\n        <option value=\"{name}\">{name}</option>\n        <option value=\"{ext}\">{ext}</option>\n        <option value=\"{fee}\">{fee}</option>\n        <option value=\"{tags}\">{tags}</option>\n        </select>\n      &nbsp;\n      <slot data-name=\"saveNamingRule\"></slot>\n      <button class=\"showFileNameTip textButton\" type=\"button\" data-xztext=\"_\"></button>\n      </p>\n      <p class=\"tip tipWithBtn\" id=\"tipCreateFolder\">\n      <span class=\"left\">\n      <span data-xztext=\"_\"></span>\n      <strong>${Config.defaultNameRule}</strong>\n      </span>\n      <span class=\"right\">\n        <button type=\"button\" class=\"textButton gray1\" id=\"tipCreateFolderBtn\" data-xztext=\"_\">\n        </button>\n      </span>\n    </p>\n    <p class=\"fileNameTip tip\">\n      <span data-xztext=\"_\"></span>\n      <strong>${Config.defaultNameRule}</strong>\n      <br>\n      <span data-xztext=\"_\"></span>\n      <br>\n      <span class=\"blue\">{user}</span>\n    <span data-xztext=\"_user\"></span>\n      <br>\n      <span class=\"blue\">{user_id}</span>\n    <span data-xztext=\"_uid\"></span>\n      <br>\n      <span class=\"blue\">{creator_id}</span>\n    <span data-xztext=\"_creator_id\"></span>\n      <br>\n      <span class=\"blue\">{title}</span>\n    <span data-xztext=\"_title\"></span>\n      <br>\n      <span class=\"blue\">{post_id}</span>\n    <span data-xztext=\"_postid\"></span>\n      <br>\n      <span class=\"blue\">{date}</span>\n    <span data-xztext=\"_date\"></span>\n      <br>\n      <span class=\"blue\">{task_date}</span>\n    <span data-xztext=\"_taskDate\"></span>\n      <br>\n      <span class=\"blue\">{index}</span>\n    <span data-xztext=\"_index\"></span>\n      <br>\n      <span class=\"blue\">{name}</span>\n    <span data-xztext=\"_name\"></span>\n      <br>\n      <span class=\"blue\">{ext}</span>\n    <span data-xztext=\"_ext\"></span>\n      <br>\n      <span class=\"blue\">{fee}</span>\n    <span data-xztext=\"_fee\"></span>\n      <br>\n      <span class=\"blue\">{tags}</span>\n    <span data-xztext=\"_tags\"></span>\n    </p>\n    \n    <p class=\"option\" data-no=\"33\">\n    <span class=\"settingNameStyle1\" data-xztext=\"_\"></span>\n    <input type=\"text\" name=\"nameruleForNonImages\" class=\"setinput_style1 blue nameruleForNonImages\" style=\"width:300px;\" value=\"{user}/{date}-{title}/{name}\">\n    </p>\n\n    <p class=\"option\" data-no=\"31\">\n    <span class=\"settingNameStyle1\" data-xztext=\"_\"></span>\n    <input type=\"text\" name=\"dateFormat\" class=\"setinput_style1 blue\" style=\"width:250px;\" value=\"YYYY-MM-DD\">\n    <button type=\"button\" class=\"gray1 textButton showDateTip\" data-xztext=\"_\"></button>\n    </p>\n    <p class=\"dateFormatTip tip\" style=\"display:none\">\n    <span data-xztext=\"_\"></span>\n    <br>\n    <span class=\"blue\">YYYY</span> <span>2021</span>\n    <br>\n    <span class=\"blue\">YY</span> <span>21</span>\n    <br>\n    <span class=\"blue\">MM</span> <span>04</span>\n    <br>\n    <span class=\"blue\">MMM</span> <span>Apr</span>\n    <br>\n    <span class=\"blue\">MMMM</span> <span>April</span>\n    <br>\n    <span class=\"blue\">DD</span> <span>30</span>\n    <br>\n    <span class=\"blue\">hh</span> <span>06</span>\n    <br>\n    <span class=\"blue\">mm</span> <span>40</span>\n    <br>\n    <span class=\"blue\">ss</span> <span>08</span>\n    <br>\n    </p>\n\n    <p class=\"option\" data-no=\"46\">\n    <span class=\"has_tip settingNameStyle1\" data-xztip=\"_0\">\n    <span data-xztext=\"_0\"></span>\n    <span class=\"gray1\"> ? </span></span>\n    <input type=\"checkbox\" name=\"zeroPadding\" class=\"need_beautify checkbox_switch\" >\n    <span class=\"beautify_switch\" tabindex=\"0\"></span>\n    <span class=\"subOptionWrap\" data-show=\"zeroPadding\">\n    <span data-xztext=\"_\"></span>\n    <input type=\"text\" name=\"zeroPaddingLength\" class=\"setinput_style1 blue\" value=\"3\" style=\"width:30px;min-width: 30px;\">\n    </span>\n    </p>\n\n    <p class=\"option\" data-no=\"17\">\n    <span class=\"has_tip settingNameStyle1\" data-xztip=\"_\">\n    <span data-xztext=\"_\"></span>\n    <span class=\"gray1\"> ? </span>\n    </span>\n    <input type=\"checkbox\" name=\"autoStartDownload\" id=\"setQuietDownload\" class=\"need_beautify checkbox_switch\" checked>\n    <span class=\"beautify_switch\"></span>\n    </p>\n\n    <p class=\"option\" data-no=\"16\">\n    <span class=\"has_tip settingNameStyle1\"  data-xztip=\"_\">\n    <span data-xztext=\"_\"></span>\n    <span class=\"gray1\"> ? </span>\n    </span>\n    <input type=\"text\" name=\"downloadThread\" class=\"has_tip setinput_style1 blue\" data-xztip=\"_\" value=\"3\">\n    </p>\n\n    <p class=\"option\" data-no=\"52\">\n    <span class=\"has_tip settingNameStyle1\"  data-xztip=\"_\">\n    <span data-xztext=\"_\"></span>\n    <span class=\"gray1\"> ? </span>\n    </span>\n    <input type=\"checkbox\" name=\"showNotificationAfterDownloadComplete\" class=\"need_beautify checkbox_switch\">\n    <span class=\"beautify_switch\" tabindex=\"0\"></span>\n    </p>\n\n    <p class=\"option\" data-no=\"57\">\n    <span class=\"has_tip settingNameStyle1\"  data-xztip=\"_\">\n    <span data-xztext=\"_\"></span>\n    <span class=\"gray1\"> ? </span>\n    </span>\n    \n    <span data-xztext=\"_\"></span>\n    <input type=\"text\" name=\"crawlInterval\" class=\"setinput_style1 blue\" value=\"1\">\n    <span data-xztext=\"_\"></span>\n    </p>\n    \n    <p class=\"option\" data-no=\"56\">\n    <span class=\"has_tip settingNameStyle1\"  data-xztip=\"_\">\n    <span data-xztext=\"_\"></span>\n    <span class=\"gray1\"> ? </span>\n    </span>\n    \n    <span data-xztext=\"_\"></span>\n    <input type=\"text\" name=\"downloadInterval\" class=\"setinput_style1 blue\" value=\"1\">\n    <span data-xztext=\"_\"></span>\n    </p>\n    \n    <p class=\"option\" data-no=\"58\">\n    <span class=\"has_tip settingNameStyle1\"  data-xztip=\"_\">\n    <span data-xztext=\"_\"></span>\n    <span class=\"gray1\"> ? </span>\n    </span>\n    <input type=\"checkbox\" name=\"totalDownloadLimitSwitch\" class=\"need_beautify checkbox_switch\" checked>\n    <span class=\"beautify_switch\" tabindex=\"0\"></span>\n    \n    <span class=\"subOptionWrap\" data-show=\"totalDownloadLimitSwitch\">\n    <input type=\"text\" name=\"totalDownloadLimit\" class=\"setinput_style1 blue\" value=\"10\">\n    <span>GiB</span>\n    </span>\n    <button class=\"textButton gray1\" type=\"button\" id=\"totalDownloadHistory\" data-xztext=\"_\"></button>\n    </p>\n      \n    <p class=\"option\" data-no=\"28\">\n    <span class=\"has_tip settingNameStyle1\" data-xztip=\"_\">\n    <span data-xztext=\"_\"></span>\n    <span class=\"gray1\"> ? </span></span>\n    <input type=\"checkbox\" name=\"deduplication\" class=\"need_beautify checkbox_switch\">\n    <span class=\"beautify_switch\" tabindex=\"0\"></span>\n    <span class=\"subOptionWrap\" data-show=\"deduplication\">\n    <button class=\"textButton gray1\" type=\"button\" id=\"exportDownloadRecord\" data-xztext=\"_\"></button>\n    <button class=\"textButton gray1\" type=\"button\" id=\"importDownloadRecord\" data-xztext=\"_\"></button>\n    <button class=\"textButton gray1\" type=\"button\" id=\"clearDownloadRecord\" data-xztext=\"_\"></button>\n    </span>\n    <button class=\"textButton gray1\" type=\"button\" id=\"deduplicationHelp\" data-xztext=\"_\"></button>\n    </p>\n\n    <p class=\"option\" data-no=\"18\">\n    <span class=\"has_tip settingNameStyle1\" data-xztip=\"_\">\n    <span data-xztext=\"_\"></span>\n    <span class=\"gray1\"> ? </span>\n    </span>\n    <input type=\"checkbox\" name=\"unifiedURL\" class=\"need_beautify checkbox_switch\" checked>\n    <span class=\"beautify_switch\"></span>\n    </p>\n      \n    <p class=\"option\" data-no=\"53\">\n    <span class=\"settingNameStyle1\" data-xztext=\"_\"></span>\n    <input type=\"checkbox\" name=\"boldKeywords\" class=\"need_beautify checkbox_switch\">\n    <span class=\"beautify_switch\" tabindex=\"0\"></span>\n    </p>\n\n    <p class=\"option\" data-no=\"41\">\n    <span class=\"settingNameStyle1\" data-xztext=\"_\"> </span>\n    <input type=\"checkbox\" name=\"bgDisplay\" class=\"need_beautify checkbox_switch\">\n    <span class=\"beautify_switch\" tabindex=\"0\"></span>\n\n    <span class=\"subOptionWrap\" data-show=\"bgDisplay\">\n\n    <button class=\"textButton gray1\" type=\"button\" id=\"selectBG\" data-xztext=\"_\"></button>\n    <button class=\"textButton gray1\" type=\"button\" id=\"clearBG\" data-xztext=\"_\"></button>\n    \n    &nbsp;\n    <span data-xztext=\"_\"></span>&nbsp;\n    <input type=\"radio\" name=\"bgPositionY\" id=\"bgPosition1\" class=\"need_beautify radio\" value=\"center\" checked>\n    <span class=\"beautify_radio\" tabindex=\"0\"></span>\n    <label for=\"bgPosition1\" data-xztext=\"_\"></label>\n    <input type=\"radio\" name=\"bgPositionY\" id=\"bgPosition2\" class=\"need_beautify radio\" value=\"top\">\n    <span class=\"beautify_radio\" tabindex=\"0\"></span>\n    <label for=\"bgPosition2\" data-xztext=\"_\"></label>\n    <span data-xztext=\"_\"></span>&nbsp;\n    <input name=\"bgOpacity\" type=\"range\" />\n    </span>\n    </p>\n    \n    <p class=\"option\" data-no=\"32\">\n    <span class=\"settingNameStyle1\"><span class=\"key\">Language</span></span>\n    <input type=\"radio\" name=\"userSetLang\" id=\"userSetLang1\" class=\"need_beautify radio\" value=\"auto\" checked>\n    <span class=\"beautify_radio\" tabindex=\"0\"></span>\n    <label for=\"userSetLang1\" data-xztext=\"_\"></label>\n    <input type=\"radio\" name=\"userSetLang\" id=\"userSetLang2\" class=\"need_beautify radio\" value=\"zh-cn\">\n    <span class=\"beautify_radio\" tabindex=\"0\"></span>\n    <label for=\"userSetLang2\"></label>\n    <input type=\"radio\" name=\"userSetLang\" id=\"userSetLang3\" class=\"need_beautify radio\" value=\"zh-tw\">\n    <span class=\"beautify_radio\" tabindex=\"0\"></span>\n    <label for=\"userSetLang3\"></label>\n    <input type=\"radio\" name=\"userSetLang\" id=\"userSetLang4\" class=\"need_beautify radio\" value=\"ja\">\n    <span class=\"beautify_radio\" tabindex=\"0\"></span>\n    <label for=\"userSetLang4\"></label>\n    <input type=\"radio\" name=\"userSetLang\" id=\"userSetLang5\" class=\"need_beautify radio\" value=\"en\">\n    <span class=\"beautify_radio\" tabindex=\"0\"></span>\n    <label for=\"userSetLang5\">English</label>\n    <input type=\"radio\" name=\"userSetLang\" id=\"userSetLang6\" class=\"need_beautify radio\" value=\"ko\">\n    <span class=\"beautify_radio\" tabindex=\"0\"></span>\n    <label for=\"userSetLang6\"></label>\n    <input type=\"radio\" name=\"userSetLang\" id=\"userSetLang7\" class=\"need_beautify radio\" value=\"ru\">\n    <span class=\"beautify_radio\" tabindex=\"0\"></span>\n    <label for=\"userSetLang7\"></label>\n    </p>\n\n    <p class=\"option\" data-no=\"37\">\n    <span class=\"settingNameStyle1\" data-xztext=\"_\"></span>\n    <button class=\"textButton gray1\" type=\"button\" id=\"exportSettings\" data-xztext=\"_\"></button>\n    <button class=\"textButton gray1\" type=\"button\" id=\"importSettings\" data-xztext=\"_\"></button>\n    <button class=\"textButton gray1\" type=\"button\" id=\"resetSettings\" data-xztext=\"_\"></button>\n    </p>\n    \n    <p class=\"option\" data-no=\"51\">\n    <span class=\"has_tip settingNameStyle1\" data-xztip=\"_\">\n    <span data-xztext=\"_\"></span>\n    <span class=\"gray1\"> ? </span></span>\n    <input type=\"checkbox\" name=\"showAdvancedSettings\" class=\"need_beautify checkbox_switch\">\n    <span class=\"beautify_switch\" tabindex=\"0\"></span>\n    </p>\n\n</form>`;\n","import { lang } from './Lang';\nimport { Colors } from './Colors';\nimport { Tools } from './Tools';\nimport { InitPageBase } from './InitPageBase';\nimport { API } from './API';\nimport { EVT } from './EVT';\nimport { log } from './Log';\nimport { pageType } from './PageType';\nimport { saveFanCard } from './download/SaveFanCard';\nclass InitHomePage extends InitPageBase {\n    constructor() {\n        super();\n        this.crawlFlag = 'supporting';\n        this.init();\n    }\n    // \n    addCrawlBtns() {\n        if (pageType.type === pageType.list.Home ||\n            pageType.type === pageType.list.Supporting) {\n            Tools.addBtn('crawlBtns', Colors.bgBlue, '_').addEventListener('click', () => {\n                this.crawlFlag = 'supporting';\n                this.readyCrawl();\n            });\n        }\n        if (pageType.type === pageType.list.Home ||\n            pageType.type === pageType.list.Following) {\n            Tools.addBtn('crawlBtns', Colors.bgBlue, '_').addEventListener('click', () => {\n                const confirm = window.confirm(lang.transl('_'));\n                if (!confirm) {\n                    return;\n                }\n                this.crawlFlag = 'following';\n                this.readyCrawl();\n            });\n        }\n        if (pageType.type === pageType.list.Home ||\n            pageType.type === pageType.list.Supporting) {\n            Tools.addBtn('crawlBtns', Colors.bgGreen, '_').addEventListener('click', () => {\n                saveFanCard.save('all');\n            });\n        }\n        if (pageType.type === pageType.list.Home) {\n            Tools.addBtn('crawlBtns', Colors.bgGreen, '_').addEventListener('click', () => {\n                EVT.fire('clearSavedCrawl');\n            });\n        }\n    }\n    nextStep() {\n        switch (this.crawlFlag) {\n            case 'supporting':\n                return this.getSupportingPostList();\n            case 'following':\n                return this.getFollowingPostList();\n        }\n    }\n    /** */\n    async getSupportingPostList() {\n        log.log(lang.transl('_'));\n        let data;\n        if (this.nextUrl) {\n            data = (await API.request(this.nextUrl));\n        }\n        else {\n            data = await API.getPostListSupporting(300);\n        }\n        // , \n        // {\"body\":{\"items\":[],\"nextUrl\":null}}\n        if (data.body.items.length === 0 && data.body.nextUrl === null) {\n            log.error(lang.transl('_'));\n            return this.FetchPostListFinished();\n        }\n        this.afterFetchPostListOld(data);\n    }\n    /** */\n    async getFollowingPostList() {\n        var _a;\n        log.log(lang.transl('_'));\n        // \n        const url = 'https://api.fanbox.cc/creator.listFollowing';\n        const json = await API.request(url);\n        if (((_a = json === null || json === void 0 ? void 0 : json.body) === null || _a === void 0 ? void 0 : _a.length) > 0) {\n            const userList = json.body.map((user) => {\n                return {\n                    creatorId: user.creatorId,\n                    name: user.user.name,\n                };\n            });\n            log.success(lang.transl('_') + ':');\n            // \n            for (const user of userList) {\n                log.log(user.name);\n                await this.getPostListURLs(user.creatorId);\n            }\n            // console.log(this.postListURLs)\n            // \n            this.FetchPostList();\n        }\n        else {\n            log.error(lang.transl('_'));\n            return this.FetchPostListFinished();\n        }\n    }\n}\nexport { InitHomePage };\n","// \nimport { EVT } from './EVT';\nimport { pageType } from './PageType';\nimport { InitHomePage } from './InitHomePage';\nimport { InitPostListPage } from './InitPostListPage';\nimport { InitTagPage } from './InitTagPage';\nimport { InitPostPage } from './InitPostPage';\nclass InitPage {\n    constructor() {\n        this.initPage();\n        // \n        window.addEventListener(EVT.list.pageSwitchedTypeChange, () => {\n            setTimeout(() => {\n                this.initPage();\n            }, 0);\n        });\n    }\n    initPage() {\n        switch (pageType.type) {\n            case pageType.list.Home:\n            case pageType.list.Supporting:\n            case pageType.list.Following:\n                return new InitHomePage();\n            case pageType.list.UserHome:\n            case pageType.list.UserPostList:\n                return new InitPostListPage();\n            case pageType.list.Post:\n                return new InitPostPage();\n            case pageType.list.Tags:\n                return new InitTagPage();\n            default:\n                return;\n        }\n    }\n}\nnew InitPage();\n","// \nimport { lang } from './Lang';\nimport { Tools } from './Tools';\nimport { filter } from './Filter';\nimport { store } from './Store';\nimport { log } from './Log';\nimport { EVT } from './EVT';\nimport { saveData } from './SaveData';\nimport { API } from './API';\nimport { states } from './States';\nimport { msgBox } from './MsgBox';\nimport { toast } from './Toast';\nimport { Utils } from './utils/Utils';\nimport { crawlInterval } from './CrawlInterval';\nclass InitPageBase {\n    constructor() {\n        this.crawlNumber = 0; // /\n        this.nextUrl = null;\n        /** */\n        this.getPostDataThreadMax = 1;\n        this.getPostDataThreadNum = 0;\n        this.getPostDatafinished = 0;\n        this.postListURLs = [];\n    }\n    init() {\n        this.addCrawlBtns();\n        this.addAnyElement();\n        this.initAny();\n        window.addEventListener(EVT.list.pageSwitchedTypeChange, () => {\n            this.destroy();\n        });\n        EVT.bindOnce('crawlCompleteTime', EVT.list.crawlFinish, () => {\n            states.crawlCompleteTime = new Date().getTime();\n        });\n        EVT.bindOnce('downloadCompleteTime', EVT.list.downloadComplete, () => {\n            states.downloadCompleteTime = new Date().getTime();\n        });\n    }\n    // \n    initAny() { }\n    // \n    destroy() {\n        Tools.clearSlot('crawlBtns');\n    }\n    // \n    addCrawlBtns() { }\n    // \n    addAnyElement() { }\n    confirmRecrawl() {\n        if (store.result.length > 0) {\n            // \n            // \n            if (states.crawlCompleteTime > states.downloadCompleteTime) {\n                const _confirm = window.confirm(lang.transl('_'));\n                return _confirm;\n            }\n        }\n        return true;\n    }\n    // \n    async readyCrawl() {\n        if (states.busy) {\n            window.alert(lang.transl('_2'));\n            return;\n        }\n        if (!this.confirmRecrawl()) {\n            return;\n        }\n        EVT.fire('clearLog');\n        log.success(lang.transl('_'));\n        toast.show(lang.transl('_'));\n        msgBox.resetOnce('tipLinktext');\n        EVT.fire('crawlStart');\n        this.getPostDataThreadNum = 0;\n        this.getPostDatafinished = 0;\n        this.nextUrl = null;\n        this.postListURLs = [];\n        // \n        this.nextStep();\n    }\n    // \n    nextStep() {\n        this.FetchPostList();\n    }\n    /** */\n    //  300  URL\n    async getPostListURLs(creatorId) {\n        const paginateData = await API.request(`https://api.fanbox.cc/post.paginateCreator?creatorId=${creatorId}`);\n        // console.log(paginateData.body)\n        if ((paginateData === null || paginateData === void 0 ? void 0 : paginateData.body.length) > 0) {\n            //  URL \n            // https://api.fanbox.cc/post.listCreator?creatorId=usotukiya&maxPublishedDatetime=2024-08-04%2020%3A41%3A47&maxId=8345112&limit=10\n            //  10  limit  300 300 \n            //  30  limit  300\n            let index = 0;\n            const total = paginateData.body.length;\n            while (index < total) {\n                const url = paginateData.body[index];\n                this.postListURLs.push(url.replace('limit=10', 'limit=300'));\n                index = index + 30;\n            }\n            // this.postListURLs.forEach(url => console.log(url))\n        }\n    }\n    /** URL URL */\n    async FetchPostList(url) {\n        await crawlInterval.wait();\n        if (url === undefined) {\n            url = this.postListURLs.shift();\n            if (url === undefined) {\n                log.error(`Error in crawling: internal error \\n FetchPostList url is undefined\\n End Crawling`);\n                return this.FetchPostListFinished();\n            }\n        }\n        try {\n            const data = (await API.request(url));\n            crawlInterval.addTime();\n            this.afterFetchPostList(data);\n        }\n        catch (error) {\n            console.log(error);\n            if (error.message) {\n                log.error(error.message);\n            }\n            log.error(lang.transl('_'));\n            crawlInterval.addTime('long');\n            this.FetchPostList(url);\n        }\n    }\n    async FetchPostListOld(url) {\n        await crawlInterval.wait();\n        if (url === undefined) {\n            url = this.postListURLs.shift();\n            if (url === undefined) {\n                log.error(`Error in crawling: internal error \\n FetchPostList url is undefined\\n End Crawling`);\n                return this.FetchPostListFinished();\n            }\n        }\n        try {\n            const data = (await API.request(url));\n            crawlInterval.addTime();\n            this.afterFetchPostListOld(data);\n        }\n        catch (error) {\n            console.log(error);\n            if (error.message) {\n                log.error(error.message);\n            }\n            log.error(lang.transl('_'));\n            crawlInterval.addTime('long');\n            this.FetchPostListOld(url);\n        }\n    }\n    /** ID */\n    afterFetchPostList(data) {\n        if (data.body.length === 0) {\n            return this.noResult();\n        }\n        for (const item of data.body) {\n            if (item.body === null) {\n                continue;\n            }\n            // \n            const id = item.id;\n            const creatorId = item.creatorId;\n            const fee = item.feeRequired;\n            const date = item.publishedDatetime;\n            const title = item.title;\n            const check = filter.check({ id, creatorId, fee, date, title });\n            if (check) {\n                store.postIdList.push(id);\n            }\n        }\n        if (this.postListURLs.length > 0) {\n            this.FetchPostList();\n        }\n        else {\n            this.FetchPostListFinished();\n        }\n    }\n    afterFetchPostListOld(data) {\n        if (data.body.items.length === 0) {\n            return this.noResult();\n        }\n        const items = data.body.items;\n        this.nextUrl = data.body.nextUrl;\n        for (const item of items) {\n            if (item.body === null) {\n                continue;\n            }\n            // \n            const id = item.id;\n            const creatorId = item.creatorId;\n            const fee = item.feeRequired;\n            const date = item.publishedDatetime;\n            const title = item.title;\n            const check = filter.check({ id, creatorId, fee, date, title });\n            if (check) {\n                store.postIdList.push(id);\n            }\n        }\n        if (this.nextUrl) {\n            this.FetchPostListOld(this.nextUrl);\n        }\n        else {\n            this.FetchPostListFinished();\n        }\n    }\n    /** ID  */\n    FetchPostListFinished() {\n        log.log(lang.transl('_'));\n        if (store.postIdList.length === 0) {\n            return this.noResult();\n        }\n        log.log(lang.transl('_x', store.postIdList.length.toString()));\n        log.log(lang.transl('_'));\n        for (let i = 0; i < this.getPostDataThreadMax; i++) {\n            const postId = store.postIdList.shift();\n            if (postId) {\n                this.getPostDataThreadNum++;\n                this.fetchPost(postId);\n            }\n            else {\n                break;\n            }\n        }\n    }\n    async fetchPost(postId) {\n        await crawlInterval.wait();\n        try {\n            const data = await API.getPost(postId);\n            crawlInterval.addTime();\n            this.afterFetchPost(data);\n        }\n        catch (error) {\n            console.log(error);\n            if (error.message) {\n                log.error(error.message);\n            }\n            log.error(lang.transl('_'));\n            crawlInterval.addTime('long');\n            this.fetchPost(postId);\n        }\n    }\n    afterFetchPost(data) {\n        saveData.receive(data.body);\n        log.log(`${lang.transl('_')} ${store.postIdList.length}`, 1, false);\n        // \n        // \n        const postId = store.postIdList.shift();\n        if (postId) {\n            this.fetchPost(postId);\n        }\n        else {\n            this.getPostDatafinished++;\n            if (this.getPostDatafinished == this.getPostDataThreadNum) {\n                this.crawlFinished();\n            }\n        }\n    }\n    // \n    crawlFinished() {\n        if (store.skipDueToFee > 0) {\n            log.warning(lang.transl('_') + store.skipDueToFee);\n        }\n        if (store.result.length === 0) {\n            return this.noResult();\n        }\n        //  postid \n        store.result.sort(Utils.sortByProperty('postId', 'asc'));\n        store.date = new Date();\n        log.log(lang.transl('_', store.result.length.toString()));\n        log.success(lang.transl('_'), 2);\n        EVT.fire('crawlFinish');\n        // console.log(store.result)\n    }\n    //  0 \n    noResult() {\n        EVT.fire('crawlFinish');\n        EVT.fire('crawlEmpty');\n        log.error(lang.transl('_'), 2);\n        msgBox.error(lang.transl('_'));\n    }\n}\nexport { InitPageBase };\n","import { lang } from './Lang';\nimport { Colors } from './Colors';\nimport { Tools } from './Tools';\nimport { InitPageBase } from './InitPageBase';\nimport { API } from './API';\nimport { log } from './Log';\nimport { saveFanCard } from './download/SaveFanCard';\nclass InitPostListPage extends InitPageBase {\n    constructor() {\n        super();\n        this.init();\n    }\n    // \n    addCrawlBtns() {\n        Tools.addBtn('crawlBtns', Colors.bgBlue, '_').addEventListener('click', () => {\n            this.readyCrawl();\n        });\n        // \n        Tools.addBtn('crawlBtns', Colors.bgGreen, '_').addEventListener('click', () => {\n            saveFanCard.save('current');\n        });\n        // \n        //  `/creators/supporting/`  a \n        // const findA = document.querySelector('a[href^=\"/creators/supporting/\"]')\n        //  Fanbox \n    }\n    async nextStep() {\n        log.log(lang.transl('_'));\n        this.postListURLs = [];\n        const creatorId = API.getCreatorId(location.href);\n        await this.getPostListURLs(creatorId);\n        this.FetchPostList();\n    }\n}\nexport { InitPostListPage };\n","import { lang } from './Lang';\nimport { Colors } from './Colors';\nimport { Tools } from './Tools';\nimport { InitPageBase } from './InitPageBase';\nimport { API } from './API';\nimport { Utils } from './utils/Utils';\nimport { EVT } from './EVT';\nimport { states } from './States';\nimport { log } from './Log';\nimport { crawlInterval } from './CrawlInterval';\nclass InitPostPage extends InitPageBase {\n    constructor() {\n        super();\n        this.init();\n    }\n    // \n    addCrawlBtns() {\n        Tools.addBtn('crawlBtns', Colors.bgBlue, '_').addEventListener('click', () => {\n            this.readyCrawl();\n        });\n    }\n    initAny() {\n        EVT.bindOnce('quickCrawl', EVT.list.quickCrawl, () => {\n            if (!states.busy) {\n                this.readyCrawl();\n            }\n        });\n    }\n    destroy() {\n        Tools.clearSlot('crawlBtns');\n    }\n    nextStep() {\n        this.getPostDataThreadNum = 1;\n        this.fetchPost();\n    }\n    async fetchPost() {\n        await crawlInterval.wait();\n        try {\n            const data = await API.getPost(Utils.getURLPathField(window.location.pathname, 'posts'));\n            crawlInterval.addTime();\n            this.afterFetchPost(data);\n        }\n        catch (error) {\n            console.log(error);\n            if (error.message) {\n                log.error(error.message);\n            }\n            log.error(lang.transl('_'));\n            crawlInterval.addTime('long');\n            this.fetchPost();\n        }\n    }\n}\nexport { InitPostPage };\n","import { lang } from './Lang';\nimport { Colors } from './Colors';\nimport { Tools } from './Tools';\nimport { InitPageBase } from './InitPageBase';\nimport { API } from './API';\nimport { Utils } from './utils/Utils';\nimport { log } from './Log';\nclass InitTagPage extends InitPageBase {\n    constructor() {\n        super();\n        this.init();\n    }\n    // \n    addCrawlBtns() {\n        Tools.addBtn('crawlBtns', Colors.bgBlue, '_tag').addEventListener('click', () => {\n            this.readyCrawl();\n        });\n    }\n    async FetchPostList() {\n        log.log(lang.transl('_tag'));\n        let data;\n        if (this.nextUrl) {\n            data = (await API.request(this.nextUrl));\n        }\n        else {\n            data = await API.getTagPostListByUser(await API.getUserId(API.getCreatorId(location.href)), Utils.getURLPathField(window.location.pathname, 'tags'));\n        }\n        this.afterFetchPostListOld(data);\n    }\n}\nexport { InitTagPage };\n","import { langText } from './langText';\nimport { EVT } from './EVT';\n// \nclass Lang {\n    constructor() {\n        this.langTypes = ['zh-cn', 'zh-tw', 'en', 'ja', 'ko', 'ru'];\n        this.flagIndex = new Map([\n            ['zh-cn', 0],\n            ['zh-tw', 1],\n            ['en', 2],\n            ['ja', 3],\n            ['ko', 4],\n            ['ru', 5],\n        ]);\n        // \n        // \n        this.elList = [];\n        this.type = this.getHtmlLangType();\n        this.bindEvents();\n    }\n    bindEvents() {\n        window.addEventListener(EVT.list.settingChange, (ev) => {\n            const data = ev.detail.data;\n            if (data.name !== 'userSetLang') {\n                return;\n            }\n            const old = this.type;\n            this.type = data.value === 'auto' ? this.getHtmlLangType() : data.value;\n            if (this.type !== old) {\n                EVT.fire('langChange');\n                this.elList.forEach((el) => {\n                    this.handleMark(el);\n                });\n            }\n        });\n    }\n    // \n    getHtmlLangType() {\n        const flag = document.documentElement.lang;\n        switch (flag) {\n            case 'zh':\n            case 'zh-CN':\n            case 'zh-Hans':\n                return 'zh-cn'; // \n            case 'ja':\n                return 'ja'; // \n            case 'zh-Hant':\n            case 'zh-tw':\n            case 'zh-TW':\n                return 'zh-tw'; // \n            case 'ko':\n                return 'ko'; // \n            case 'ru':\n            case 'ru-RU':\n                return 'ru'; // \n            default:\n                return 'en'; // English\n        }\n    }\n    // translate\n    transl(name, ...arg) {\n        let content = langText[name][this.flagIndex.get(this.type)];\n        arg.forEach((val) => (content = content.replace('{}', val)));\n        return content;\n    }\n    register(el) {\n        this.elList.push(el);\n        this.handleMark(el);\n    }\n    // \n    handleMark(wrap) {\n        //  innerHTML\n        const textEl = wrap.querySelectorAll('*[data-xztext]');\n        for (const el of textEl) {\n            //  html  innerHTML  textContent\n            el.innerHTML = this.transl(el.dataset.xztext);\n        }\n        //  xztext \n        const text = wrap.dataset.xztext;\n        if (text) {\n            wrap.innerHTML = this.transl(text);\n        }\n        //  innerHTML\n        const textArgsEl = wrap.querySelectorAll('*[data-xztextargs]');\n        textArgsEl.forEach((el) => this.handleTextArgs(el));\n        //  xztextargs \n        const textargs = wrap.dataset.xztextargs;\n        if (textargs) {\n            this.handleTextArgs(wrap);\n        }\n        //  tip\n        const tipEl = wrap.querySelectorAll('*[data-xztip]');\n        for (const el of tipEl) {\n            el.dataset.tip = this.transl(el.dataset.xztip);\n        }\n        //  placeholder\n        const placeholderEl = wrap.querySelectorAll('*[data-xzplaceholder]');\n        for (const el of placeholderEl) {\n            el.setAttribute('placeholder', this.transl(el.dataset.xzplaceholder));\n        }\n        //  title\n        const titleEl = wrap.querySelectorAll('*[data-xztitle]');\n        for (const el of titleEl) {\n            el.setAttribute('title', this.transl(el.dataset.xztitle));\n        }\n        //  title \n        const title = wrap.dataset.xztitle;\n        if (title) {\n            wrap.setAttribute('title', this.transl(title));\n        }\n    }\n    handleTextArgs(el) {\n        let args = el.dataset.xztextargs.split(',');\n        const first = args.shift();\n        el.innerHTML = this.transl(first, ...args);\n    }\n    // \n    updateText(el, ...args) {\n        // \n        if (args === undefined || args[0] === '') {\n            delete el.dataset.xztext;\n            delete el.dataset.xztextargs;\n            el.innerHTML = '';\n            return;\n        }\n        // \n        if (args.length === 1) {\n            // \n            el.dataset.xztext = args[0];\n            el.innerHTML = this.transl(args[0]);\n            delete el.dataset.xztextargs;\n        }\n        else {\n            // \n            el.dataset.xztextargs = args.join(',');\n            const first = args.shift();\n            el.innerHTML = this.transl(first, ...args);\n            delete el.dataset.xztext;\n        }\n    }\n}\nconst lang = new Lang();\nexport { lang };\n","import { EVT } from './EVT';\n// \nclass ListenPageSwitch {\n    constructor() {\n        this.supportListenHistory();\n        this.listenPageSwitch();\n    }\n    //  url \n    supportListenHistory() {\n        const s = document.createElement('script');\n        const url = chrome.runtime.getURL('lib/listen_history_change.js');\n        s.src = url;\n        document.head.appendChild(s);\n    }\n    // \n    listenPageSwitch() {\n        //  popstate \n        //  url  pushState \n        //  replaceState \n        ;\n        ['pushState', 'popstate', 'replaceState'].forEach((item) => {\n            window.addEventListener(item, () => {\n                EVT.fire('pageSwitch');\n            });\n        });\n    }\n}\nnew ListenPageSwitch();\n","import { EVT } from './EVT';\nimport { Colors } from './Colors';\n// \nclass Log {\n    constructor() {\n        /** */\n        // \n        this.max = 100;\n        /** */\n        this.count = 0;\n        this.logWrap = document.createElement('div'); // display: none\n        this.activeLogWrapID = 'logWrap'; //  id\n        this.logContent = document.createElement('div'); // \n        this.logContentClassName = 'logContent'; // \n        this.logWrapClassName = 'logWrap'; // \n        this.logWrapFlag = 'logWrapFlag'; //  logWrap logWrap \n        /** flag  */\n        //  span \n        //  0/10, 1/10, 2/10... 10/10\n        //  flag default  span \n        this.refresh = {\n            default: document.createElement('span'),\n        };\n        this.toBottom = false; //  true false\n        /** */\n        this.levelColor = [\n            'inherit',\n            Colors.textSuccess,\n            Colors.textWarning,\n            Colors.textError,\n        ];\n        // \n        // \n        window.setInterval(() => {\n            if (this.toBottom) {\n                this.logContent.scrollTop = this.logContent.scrollHeight;\n                this.toBottom = false;\n            }\n        }, 500);\n        window.addEventListener(EVT.list.clearLog, () => {\n            this.removeAll();\n        });\n    }\n    // \n    /*\n    str \n    level \n    br \n    keepShow  truefalse \n  \n    level \n    0 normal\n    1 success\n    2 warning\n    3 error\n    */\n    add(str, level, br, keepShow, refreshFlag = 'default') {\n        this.createLogArea();\n        let span = document.createElement('span');\n        if (!keepShow) {\n            if (this.refresh[refreshFlag] === undefined) {\n                this.refresh[refreshFlag] = span;\n            }\n            else {\n                span = this.refresh[refreshFlag];\n            }\n        }\n        else {\n            this.count++;\n            // \n            //  8000  1 GB \n            if (this.count >= this.max) {\n                //  id  this.activeLogWrapID\n                //  id\n                this.logWrap.removeAttribute('id');\n                // \n                this.logContent.scrollTop = this.logContent.scrollHeight;\n            }\n        }\n        span.innerHTML = str;\n        span.style.color = this.levelColor[level];\n        while (br > 0) {\n            span.appendChild(document.createElement('br'));\n            br--;\n        }\n        this.logContent.appendChild(span);\n        this.toBottom = true; // \n    }\n    log(str, br = 1, keepShow = true, refreshFlag = 'default') {\n        this.add(str, 0, br, keepShow, refreshFlag);\n    }\n    success(str, br = 1, keepShow = true, refreshFlag = 'default') {\n        this.add(str, 1, br, keepShow, refreshFlag);\n    }\n    warning(str, br = 1, keepShow = true, refreshFlag = 'default') {\n        this.add(str, 2, br, keepShow, refreshFlag);\n    }\n    error(str, br = 1, keepShow = true, refreshFlag = 'default') {\n        this.add(str, 3, br, keepShow, refreshFlag);\n    }\n    /** */\n    //  10/10 \n    // \n    //  flag  span \n    persistentRefresh(refreshFlag = 'default') {\n        this.refresh[refreshFlag] = document.createElement('span');\n    }\n    /** */\n    createLogArea() {\n        // \n        let test = document.getElementById(this.activeLogWrapID);\n        // \n        if (test === null) {\n            this.count = 0;\n            const logWrap = document.createElement('div');\n            logWrap.id = this.activeLogWrapID;\n            logWrap.classList.add(this.logWrapClassName, this.logWrapFlag);\n            const logContent = document.createElement('div');\n            logContent.classList.add(this.logContentClassName, 'beautify_scrollbar');\n            logWrap.append(logContent);\n            //  body \n            this.logWrap = logWrap;\n            this.logContent = logContent;\n            document.body.insertAdjacentElement('beforebegin', this.logWrap);\n        }\n    }\n    removeAll() {\n        const allLogWrap = document.querySelectorAll(`.${this.logWrapFlag}`);\n        allLogWrap.forEach((wrap) => wrap.remove());\n        this.count = 0;\n    }\n    showAll() {\n        const allLogWrap = document.querySelectorAll(`.${this.logWrapFlag}`);\n        allLogWrap.forEach((wrap) => {\n            wrap.style.display = 'block';\n            // \n            const logContent = wrap.querySelector(`.${this.logContentClassName}`);\n            if (logContent) {\n                logContent.scrollTop = logContent.scrollHeight;\n            }\n        });\n    }\n    hideAll() {\n        const allLogWrap = document.querySelectorAll(`.${this.logWrapFlag}`);\n        allLogWrap.forEach((wrap) => (wrap.style.display = 'none'));\n    }\n}\nconst log = new Log();\nexport { log };\n","import { EVT } from './EVT';\nimport { Colors } from './Colors';\nimport { lang } from './Lang';\nimport { bg } from './BG';\nimport { Config } from './Config';\n// \nclass MsgBox {\n    constructor() {\n        this.typeColor = {\n            success: Colors.textSuccess,\n            warning: Colors.textWarning,\n            error: Colors.textError,\n        };\n        this.onceFlags = [];\n        this.bindEvents();\n    }\n    bindEvents() {\n        window.addEventListener(EVT.list.showMsg, (ev) => {\n            const msg = ev.detail.data;\n            this.create(msg);\n        });\n    }\n    /** \n     *\n     *  resetOnce() \n     */\n    once(flag, msg, type = 'show', arg) {\n        if (this.onceFlags.includes(flag)) {\n            return;\n        }\n        this.onceFlags.push(flag);\n        switch (type) {\n            case 'show':\n                this.show(msg, arg);\n                break;\n            case 'warning':\n                this.warning(msg, arg);\n                break;\n            case 'success':\n                this.success(msg, arg);\n                break;\n            case 'error':\n                this.error(msg, arg);\n                break;\n            default:\n                this.show(msg, arg);\n                break;\n        }\n    }\n    /**\n     *  once \n     */\n    resetOnce(flag) {\n        const index = this.onceFlags.findIndex((str) => str === flag);\n        if (index > -1) {\n            this.onceFlags.splice(index);\n        }\n    }\n    show(msg, arg) {\n        this.create(Object.assign({}, arg, { msg: msg }));\n    }\n    success(msg, arg) {\n        this.create(Object.assign({ color: this.typeColor.success }, arg, { msg: msg }));\n    }\n    warning(msg, arg) {\n        this.create(Object.assign({ color: this.typeColor.warning }, arg, { msg: msg }));\n    }\n    error(msg, arg) {\n        this.create(Object.assign({ color: this.typeColor.error }, arg, { msg: msg }));\n    }\n    create(data) {\n        const wrap = document.createElement('div');\n        wrap.classList.add('xz_msg_box');\n        let colorStyle = '';\n        if (data.color) {\n            colorStyle = `style=\"color:${data.color}\"`;\n        }\n        wrap.innerHTML = `\n        <p class=\"title\" ${colorStyle}>${data.title || Config.appName}</p>\n        <div class=\"content\" ${colorStyle}>${data.msg}</div>\n        <button class=\"btn\" type=\"button\">${data.btn || lang.transl('_')}</button>\n      `;\n        lang.register(wrap);\n        const btn = wrap.querySelector('.btn');\n        if (btn) {\n            wrap.addEventListener('click', (ev) => {\n                ev.stopPropagation();\n            });\n            btn.addEventListener('click', () => {\n                this.remove(wrap);\n            });\n            window.addEventListener(EVT.list.closeCenterPanel, () => {\n                this.remove(wrap);\n            });\n        }\n        document.body.append(wrap);\n        btn.focus();\n        bg.useBG(wrap);\n    }\n    remove(el) {\n        el && el.parentNode && el.parentNode.removeChild(el);\n    }\n}\nconst msgBox = new MsgBox();\nexport { msgBox };\n","import { EVT } from './EVT';\nimport { lang } from './Lang';\n// \nclass OpenCenterPanel {\n    constructor() {\n        this.btn = document.createElement('button');\n        this.addBtn();\n        this.show();\n        this.bindEvents();\n    }\n    addBtn() {\n        this.btn = document.createElement('button');\n        this.btn.classList.add('rightButton');\n        this.btn.id = 'openCenterPanelBtn';\n        this.btn.setAttribute('data-xztitle', '_');\n        this.btn.innerHTML = `<svg class=\"icon\" aria-hidden=\"true\">\n  <use xlink:href=\"#icon-dakai\"></use>\n</svg>`;\n        document.body.append(this.btn);\n        lang.register(this.btn);\n    }\n    bindEvents() {\n        //  CenterPanel  CenterPanel\n        this.btn.addEventListener('click', (e) => {\n            const ev = e || window.event;\n            ev.stopPropagation();\n            EVT.fire('openCenterPanel');\n        });\n        window.addEventListener(EVT.list.centerPanelClosed, () => {\n            this.show();\n        });\n        window.addEventListener(EVT.list.centerPanelOpened, () => {\n            this.hide();\n        });\n    }\n    show() {\n        this.btn.style.display = 'flex';\n    }\n    hide() {\n        this.btn.style.display = 'none';\n    }\n}\nnew OpenCenterPanel();\n","import { EVT } from './EVT';\nimport { lang } from './Lang';\nimport { store } from './Store';\nimport { Utils } from './utils/Utils';\nimport { Config } from './Config';\nimport { msgBox } from './MsgBox';\nimport { toast } from './Toast';\n// \nclass OutputPanel {\n    constructor() {\n        this.addOutPutPanel();\n        lang.register(this.outputPanel);\n        this.bindEvents();\n    }\n    bindEvents() {\n        this.closeBtn.addEventListener('click', () => {\n            this.close();\n        });\n        this.outputPanel.addEventListener('click', (e) => {\n            const ev = e || window.event;\n            ev.stopPropagation();\n        });\n        document.addEventListener('click', () => {\n            if (this.outputPanel.style.display !== 'none') {\n                this.close();\n            }\n        });\n        window.addEventListener(EVT.list.closeCenterPanel, () => {\n            this.close();\n        });\n        // \n        this.copyBtn.addEventListener('click', () => {\n            const range = document.createRange();\n            range.selectNodeContents(this.outputContent);\n            window.getSelection().removeAllRanges();\n            window.getSelection().addRange(range);\n            document.execCommand('copy');\n            toast.success(lang.transl('_'));\n        });\n        window.addEventListener(EVT.list.output, (ev) => {\n            this.output(ev.detail.data);\n        });\n    }\n    addOutPutPanel() {\n        const html = `\n    <div class=\"outputWrap\">\n    <div class=\"outputClose\" data-xztitle=\"_\"></div>\n    <div class=\"outputTitle\" data-xztext=\"_\"></div>\n    <div class=\"outputContent beautify_scrollbar\"></div>\n    <div class=\"outputFooter\">\n    <button class=\"outputCopy\" data-xztext=\"_\"></button>\n    </div>\n    </div>\n    `;\n        document.body.insertAdjacentHTML('beforebegin', html);\n        this.outputPanel = document.querySelector('.outputWrap');\n        this.outputTitle = this.outputPanel.querySelector('.outputTitle');\n        this.outputContent = this.outputPanel.querySelector('.outputContent');\n        this.copyBtn = this.outputPanel.querySelector('.outputCopy');\n        this.closeBtn = this.outputPanel.querySelector('.outputClose');\n    }\n    // \n    output(data) {\n        if (!data.content) {\n            return toast.error(lang.transl('_'));\n        }\n        if (store.result.length < Config.outputMax) {\n            this.copyBtn.disabled = false;\n            lang.updateText(this.outputTitle, data.title);\n            this.outputContent.innerHTML = data.content;\n            this.outputPanel.style.display = 'block';\n        }\n        else {\n            //  txt \n            const file = new Blob([data.content], {\n                type: 'text/plain',\n            });\n            const url = URL.createObjectURL(file);\n            const fileName = `Output-${new Date().toLocaleString()}.txt`;\n            Utils.downloadFile(url, fileName);\n            this.copyBtn.disabled = true;\n            msgBox.warning(lang.transl('_'));\n        }\n    }\n    // \n    close() {\n        this.outputPanel.style.display = 'none';\n        this.outputContent.innerHTML = '';\n        lang.updateText(this.outputTitle, '_');\n    }\n}\nnew OutputPanel();\n","// \nimport { EVT } from './EVT';\n// \n//  pageType.list \nvar PageName;\n(function (PageName) {\n    PageName[PageName[\"Unsupported\"] = -1] = \"Unsupported\";\n    PageName[PageName[\"Home\"] = 0] = \"Home\";\n    PageName[PageName[\"Supporting\"] = 1] = \"Supporting\";\n    PageName[PageName[\"UserHome\"] = 2] = \"UserHome\";\n    PageName[PageName[\"UserPostList\"] = 3] = \"UserPostList\";\n    PageName[PageName[\"Post\"] = 4] = \"Post\";\n    PageName[PageName[\"Tags\"] = 5] = \"Tags\";\n    PageName[PageName[\"Shop\"] = 6] = \"Shop\";\n    PageName[PageName[\"Following\"] = 7] = \"Following\";\n})(PageName || (PageName = {}));\nclass PageType {\n    constructor() {\n        this.type = 0;\n        // \n        this.list = PageName;\n        this.type = this.getType();\n        // \n        window.addEventListener(EVT.list.pageSwitch, () => {\n            this.checkTypeChange();\n        });\n    }\n    getType() {\n        const host = window.location.hostname;\n        const path = window.location.pathname;\n        const userPage = (!host.startsWith('www.') &&\n            !host.startsWith('api.') &&\n            !host.startsWith('downloads.')) ||\n            path.startsWith('/@');\n        if (host === 'www.fanbox.cc' && path === '/') {\n            // https://www.fanbox.cc/\n            // \n            return PageName.Home;\n        }\n        else if (path === '/home/supporting' || path === '/creators/supporting') {\n            // https://www.fanbox.cc/home/supporting\n            // https://www.fanbox.cc/creators/supporting\n            // \n            return PageName.Supporting;\n        }\n        else if (path === '/creators/following') {\n            // https://www.fanbox.cc/creators/following\n            // \n            return PageName.Following;\n        }\n        else if (userPage &&\n            !path.includes('/posts') &&\n            !path.includes('/tags/') &&\n            !path.includes('/shop')) {\n            // https://kyomoneko.fanbox.cc/\n            // https://www.fanbox.cc/@official\n            // \n            return PageName.UserHome;\n        }\n        else if (userPage && path.endsWith('/posts')) {\n            // https://kyomoneko.fanbox.cc/posts\n            // https://www.fanbox.cc/@official/posts\n            // \n            return PageName.UserPostList;\n        }\n        else if (userPage && path.includes('/posts/')) {\n            // https://kyomoneko.fanbox.cc/posts/904593\n            // https://www.fanbox.cc/@official/posts/996286\n            // \n            return PageName.Post;\n        }\n        else if (userPage && path.includes('/tags/')) {\n            // https://eto13.fanbox.cc/tags/%E5%8B%95%E7%94%BB\n            // tag \n            return PageName.Tags;\n        }\n        else if (userPage && path.endsWith('/shop')) {\n            // https://yajirushikey.fanbox.cc/shop\n            // \n            return PageName.Shop;\n        }\n        else {\n            // \n            return PageName.Unsupported;\n        }\n    }\n    // \n    checkTypeChange() {\n        const old = this.type;\n        this.type = this.getType();\n        if (this.type !== old) {\n            EVT.fire('pageSwitchedTypeChange', this.type);\n        }\n        else {\n            EVT.fire('pageSwitchedTypeNotChange', this.type);\n        }\n    }\n}\nconst pageType = new PageType();\nexport { pageType };\n","import { store } from './Store';\nimport { Tools } from './Tools';\nimport { lang } from './Lang';\nimport { EVT } from './EVT';\nclass ProgressBar {\n    constructor() {\n        this.wrapHTML = `\n  <div class=\"progressBarWrap\">\n  <div class=\"total\">\n  <span class=\"text\" data-xztext=\"_\"></span>\n  <div class=\"right1\">\n  <div class=\"progressBar progressBar1\">\n  <div class=\"progress progress1\"></div>\n  </div>\n  <div class=\"totalNumberWrap\">\n  <span class=\"downloaded\">0</span>\n  /\n  <span class=\"imgNum totalNumber\">0</span>\n  </div>\n  </div>\n  </div>\n\n  <ul class=\"progressBarList\"></ul>\n  </div>\n  `;\n        this.barHTML = `<li class=\"downloadBar\">\n  <div class=\"progressBar progressBar2\">\n  <div class=\"progress progress2\"></div>\n  </div>\n  <div class=\"progressTip progressTip2\">\n  <span class=\"fileName\"></span>\n  </div>\n  </li>`;\n        this.allProgressBar = [];\n        this.wrap = Tools.useSlot('progressBar', this.wrapHTML);\n        this.downloadedEl = this.wrap.querySelector('.downloaded');\n        this.progressColorEl = this.wrap.querySelector('.progress1');\n        this.listWrap = this.wrap.querySelector('.progressBarList');\n        this.totalNumberEl = this.wrap.querySelector('.totalNumber');\n        lang.register(this.wrap);\n        this.bindEvents();\n    }\n    bindEvents() {\n        window.addEventListener(EVT.list.crawlStart, () => {\n            this.hide();\n        });\n    }\n    // \n    reset(progressBarNum, downloaded = 0) {\n        if (progressBarNum === 0) {\n            //  0\n            return this.hide();\n        }\n        // \n        this.setTotalProgress(downloaded);\n        this.totalNumberEl.textContent = store.result.length.toString();\n        // \n        this.listWrap.innerHTML = this.barHTML.repeat(progressBarNum);\n        this.show();\n        // \n        const allProgressBar = this.listWrap.querySelectorAll('.downloadBar');\n        this.allProgressBar = [];\n        for (const bar of allProgressBar) {\n            const data = {\n                name: bar.querySelector('.fileName'),\n                progress: bar.querySelector('.progress'),\n            };\n            this.allProgressBar.push(data);\n        }\n    }\n    // \n    setTotalProgress(downloaded) {\n        this.downloadedEl.textContent = downloaded.toString();\n        const progress = (downloaded / store.result.length) * 100;\n        this.progressColorEl.style.width = progress + '%';\n    }\n    // \n    setProgress(index, data) {\n        const bar = this.allProgressBar[index];\n        bar.name.textContent = data.name;\n        const progress = data.loaded / data.total || 0; //  NaN  0\n        bar.progress.style.width = progress * 100 + '%';\n    }\n    // \n    showErrorColor(index, show) {\n        const bar = this.allProgressBar[index];\n        bar.name.classList[show ? 'add' : 'remove']('downloadError');\n    }\n    show() {\n        this.wrap.style.display = 'block';\n    }\n    hide() {\n        this.wrap.style.display = 'none';\n    }\n}\nconst progressBar = new ProgressBar();\nexport { progressBar };\n","import { EVT } from './EVT';\nimport { lang } from './Lang';\nimport { pageType } from './PageType';\nimport { states } from './States';\n// \nclass QuickCrawl {\n    constructor() {\n        this.show = true; // \n        // \n        this.enablePageType = [pageType.list.Post];\n        this.addBtn();\n        this.setVisible();\n        this.bindEvents();\n    }\n    addBtn() {\n        // \n        this.btn = document.createElement('button');\n        this.btn.classList.add('rightButton');\n        this.btn.id = 'quickCrawlBtn';\n        this.btn.setAttribute('data-xztitle', '_');\n        this.btn.innerHTML = `<svg class=\"icon\" aria-hidden=\"true\">\n  <use xlink:href=\"#icon-download\"></use>\n</svg>`;\n        document.body.append(this.btn);\n        lang.register(this.btn);\n    }\n    bindEvents() {\n        // \n        this.btn.addEventListener('click', () => {\n            this.sendDownload();\n        }, false);\n        //  Alt + q \n        window.addEventListener('keydown', (ev) => {\n            if (this.show && ev.altKey && ev.code === 'KeyQ') {\n                this.sendDownload();\n            }\n        }, false);\n        // \n        window.addEventListener(EVT.list.pageSwitch, () => {\n            this.setVisible();\n        });\n    }\n    sendDownload() {\n        states.quickCrawl = true;\n        EVT.fire('quickCrawl');\n    }\n    setVisible() {\n        this.show = this.enablePageType.includes(pageType.type);\n        this.btn.style.display = this.show ? 'flex' : 'none';\n    }\n}\nnew QuickCrawl();\n","import { filter } from './Filter';\nimport { store } from './Store';\nimport { settings } from './setting/Settings';\nimport { log } from './Log';\nimport { lang } from './Lang';\nimport { msgBox } from './MsgBox';\nclass SaveData {\n    constructor() {\n        // \n        this.providerDict = {\n            youtube: 'https://www.youtube.com/watch?v=',\n            fanbox: 'https://www.fanbox.cc/',\n            gist: 'https://gist.github.com/',\n            soundcloud: 'https://soundcloud.com/',\n            vimeo: 'https://player.vimeo.com/video/',\n            twitter: 'https://twitter.com/i/web/status/',\n            google_forms: 'https://docs.google.com/forms/d/e/',\n        };\n        this.extractTextReg = new RegExp(/<[^<>]+>/g);\n        this.matchImgSrc = new RegExp(/(?<=src=\")https.*?(jpeg|jpg|png|gif|bmp)/g);\n    }\n    receive(data) {\n        this.parsePost(data);\n    }\n    parsePost(data) {\n        // \n        const id = data.id;\n        const creatorId = data.creatorId;\n        const fee = data.feeRequired;\n        const date = data.publishedDatetime;\n        const title = data.title;\n        const check = filter.check({ id, creatorId, fee, date, title });\n        if (!check) {\n            return;\n        }\n        // \n        const result = {\n            postId: data.id,\n            type: data.type,\n            title: data.title,\n            date,\n            fee,\n            user: data.user.name,\n            uid: data.user.userId,\n            createID: data.creatorId,\n            tags: data.tags.join(','),\n            files: [],\n            textContent: {\n                fileID: '',\n                name: 'links-' + data.id,\n                ext: 'txt',\n                size: null,\n                index: 0,\n                text: [],\n                url: '',\n                retryUrl: null,\n            },\n        };\n        // \n        let index = 0; // \n        //  0\n        // \n        //  0 index \n        if (settings.savePostCover) {\n            const cover = data.coverImageUrl;\n            if (cover) {\n                const { name, ext } = this.getUrlNameAndExt(cover);\n                const r = {\n                    fileID: this.createFileId(),\n                    name,\n                    ext,\n                    size: null,\n                    index,\n                    url: cover,\n                    retryUrl: null,\n                };\n                result.files.push(r);\n            }\n        }\n        // \n        if (data.body === null) {\n            store.skipDueToFee++;\n            log.warning(lang.transl('_', `<a href=\"https://www.fanbox.cc/@${creatorId}/posts/${id}\" target=\"_blank\">${title}</a>`) +\n                lang.transl('_') +\n                ` ${fee}`);\n            if (result.files.length > 0) {\n                store.addResult(result);\n            }\n            return;\n        }\n        //  article  text \n        //  article \n        // \n        if (data.type !== 'article') {\n            let text = '';\n            if (data.type === 'entry') {\n                text = data.body.html.replace(this.extractTextReg, '');\n            }\n            else {\n                text = data.body.text;\n            }\n            if (text) {\n                const links = this.getTextLinks(text);\n                result.textContent.text = result.textContent.text.concat(links);\n                result.textContent.fileID = this.createFileId();\n                // \n                if (settings.saveText) {\n                    result.textContent.text.push(text);\n                }\n            }\n        }\n        //  article \n        if (data.type === 'article') {\n            let linkTexts = [];\n            let text = ''; // \n            for (const block of data.body.blocks) {\n                if (block.type === 'p' || block.type === 'header') {\n                    // \n                    // \n                    block.text && linkTexts.push(block.text);\n                    if (block.links && block.links.length > 0) {\n                        // \n                        for (const links of block.links) {\n                            linkTexts.push(links.url);\n                        }\n                    }\n                    // \n                    if (block.text) {\n                        if (block.type === 'p') {\n                            // \n                            text += block.text + '\\r\\n';\n                        }\n                        else if (block.type === 'header') {\n                            // \n                            text += `\\r\\n${block.text}\\r\\n\\r\\n`;\n                        }\n                    }\n                    else if (block.text === '') {\n                        // \n                        text += '\\r\\n';\n                    }\n                }\n            }\n            for (const link of linkTexts) {\n                const links = this.getTextLinks(link);\n                result.textContent.text = result.textContent.text.concat(links);\n                result.textContent.fileID = this.createFileId();\n            }\n            // \n            // \n            if (result.textContent.text.length > 0) {\n                result.textContent.text.push('');\n            }\n            if (settings.saveText && text) {\n                result.textContent.text.push(text);\n            }\n            // \n            for (const block of data.body.blocks) {\n                if (block.type === 'image') {\n                    const imageData = data.body.imageMap[block.imageId];\n                    if (!imageData) {\n                        continue;\n                    }\n                    index++;\n                    const resource = this.getImageData(imageData, index);\n                    resource !== null && result.files.push(resource);\n                }\n            }\n            //  file \n            for (const block of data.body.blocks) {\n                if (block.type === 'file') {\n                    const fileData = data.body.fileMap[block.fileId];\n                    if (!fileData) {\n                        continue;\n                    }\n                    index++;\n                    const resource = this.getFileData(fileData, index);\n                    resource !== null && result.files.push(resource);\n                }\n            }\n            // \n            const embedDataArr = [];\n            for (const [id, embedData] of Object.entries(data.body.embedMap)) {\n                embedDataArr.push([embedData.serviceProvider, embedData.contentId]);\n            }\n            const embedLinks = this.getEmbedLinks(embedDataArr, data.id);\n            result.textContent.text = result.textContent.text.concat(embedLinks);\n            result.textContent.fileID = this.createFileId();\n            //  URL\n            if (settings.saveLink) {\n                const urlArr = [];\n                for (const val of Object.values(data.body.urlEmbedMap)) {\n                    if (val.type === 'default') {\n                        urlArr.push(val.url);\n                    }\n                    else if (val.type === 'html' || val.type === 'html.card') {\n                        //  html  url\n                        const testURL = val.html.match('iframe src=\"(http.*)\"');\n                        if (testURL && testURL.length > 1) {\n                            let url = testURL[1];\n                            //  Google Drive \n                            if (url.includes('preview?usp=embed_googleplus')) {\n                                url = url.replace('preview?usp=embed_googleplus', 'edit?usp=drive_link');\n                            }\n                            if (url.includes('embeddedfolderview?id=')) {\n                                url = url\n                                    .replace('embeddedfolderview?id=', 'drive/folders/')\n                                    .replace('#list', '?usp=drive_link');\n                            }\n                            urlArr.push(url);\n                        }\n                        else {\n                            urlArr.push(val.html);\n                        }\n                    }\n                }\n                if (urlArr.length > 0) {\n                    result.textContent.text = result.textContent.text.concat(urlArr.join('\\n\\n'));\n                    result.textContent.fileID = this.createFileId();\n                }\n            }\n        }\n        //  image \n        if (data.type === 'image') {\n            // \n            for (const imageData of data.body.images) {\n                if (!imageData) {\n                    continue;\n                }\n                index++;\n                const resource = this.getImageData(imageData, index);\n                resource !== null && result.files.push(resource);\n            }\n        }\n        //  entry \n        // \n        if (data.type === 'entry') {\n            const LinkList = data.body.html.match(/<a.*?>/g);\n            if (LinkList) {\n                for (const a of LinkList) {\n                    const matchUrl = a.match('https.*(jpeg|jpg|png|gif|bmp)');\n                    if (!matchUrl) {\n                        continue;\n                    }\n                    //  imageData\n                    index++;\n                    const url = matchUrl[0];\n                    const { name, ext } = this.getUrlNameAndExt(url);\n                    let width = 0;\n                    const widthMatch = a.match(/width=\"(\\d*?)\"/);\n                    if (widthMatch && widthMatch.length > 1) {\n                        width = parseInt(widthMatch[1]);\n                    }\n                    let height = 0;\n                    const heightMatch = a.match(/height=\"(\\d*?)\"/);\n                    if (heightMatch && heightMatch.length > 1) {\n                        height = parseInt(heightMatch[1]);\n                    }\n                    const imageData = {\n                        id: name,\n                        extension: ext,\n                        originalUrl: url,\n                        thumbnailUrl: url,\n                        width: width,\n                        height: height,\n                    };\n                    const resource = this.getImageData(imageData, index);\n                    resource !== null && result.files.push(resource);\n                }\n            }\n        }\n        //  file \n        if (data.type === 'file') {\n            //  file \n            for (const fileData of data.body.files) {\n                if (!fileData) {\n                    continue;\n                }\n                index++;\n                const resource = this.getFileData(fileData, index);\n                resource !== null && result.files.push(resource);\n            }\n        }\n        //  video  video \n        // video \n        if (data.type === 'video') {\n            const video = data.body.video;\n            const embedDataArr = [\n                [video.serviceProvider, video.videoId],\n            ];\n            const embedLinks = this.getEmbedLinks(embedDataArr, data.id);\n            result.textContent.text = result.textContent.text.concat(embedLinks);\n            result.textContent.fileID = this.createFileId();\n        }\n        if (result.textContent.text.length > 0) {\n            const findURL = result.textContent.text.some((text) => text.includes('https://'));\n            if (findURL) {\n                msgBox.once('tipLinktext', lang.transl('_txt'));\n            }\n        }\n        store.addResult(result);\n    }\n    getImageData(imageData, index) {\n        if (filter.check({\n            ext: imageData.extension,\n        })) {\n            return {\n                fileID: imageData.id,\n                name: imageData.id,\n                ext: imageData.extension,\n                size: null,\n                index,\n                url: imageData[settings.imageSize === 'original' ? 'originalUrl' : 'thumbnailUrl'],\n                retryUrl: imageData.thumbnailUrl,\n            };\n        }\n        return null;\n    }\n    getFileData(fileData, index) {\n        if (filter.check({\n            ext: fileData.extension,\n            name: fileData.name,\n        })) {\n            return {\n                fileID: fileData.id,\n                name: fileData.name,\n                ext: fileData.extension,\n                size: fileData.size,\n                index,\n                url: fileData.url,\n                retryUrl: null,\n            };\n        }\n        return null;\n    }\n    // \n    getTextLinks(text) {\n        const links = [];\n        if (!settings.saveLink) {\n            return links;\n        }\n        // \n        const textArray = text.split('\\n');\n        const Reg = /http[s]*:\\/\\/[\\w=\\?\\.\\/&\\-\\#\\!\\%]+/g;\n        for (const str of textArray) {\n            const match = Reg.exec(str);\n            Reg.lastIndex = 0;\n            if (match && match.length > 0) {\n                for (const link of match) {\n                    links.push(link);\n                }\n            }\n        }\n        return links;\n    }\n    // \n    getEmbedLinks(dataArr, postId) {\n        const links = [];\n        if (!settings.saveLink) {\n            return links;\n        }\n        for (const data of dataArr) {\n            const [serviceProvider, contentId] = data;\n            let link = this.providerDict[serviceProvider] + contentId;\n            // \n            if (serviceProvider === 'google_forms') {\n                link = link + '/viewform';\n            }\n            links.push(link);\n        }\n        return links;\n    }\n    //  txt  id id\n    // \n    createFileId() {\n        return (new Date().getTime().toString() +\n            Math.random().toString(16).replace('.', ''));\n    }\n    //  url\n    getUrlNameAndExt(url) {\n        const split = url.split('/');\n        const fileName = split[split.length - 1];\n        const name = fileName.split('.')[0];\n        const ext = fileName.split('.')[1];\n        return {\n            name,\n            ext,\n        };\n    }\n}\nconst saveData = new SaveData();\nexport { saveData };\n","import { lang } from './Lang';\nimport { Config } from './Config';\nimport { msgBox } from './MsgBox';\nimport { EVT } from './EVT';\nimport { settings, setSetting } from './setting/Settings';\nclass ShowHowToUse {\n    constructor() {\n        this.bindEvents();\n    }\n    bindEvents() {\n        window.addEventListener(EVT.list.settingInitialized, () => {\n            this.check();\n        });\n    }\n    check() {\n        if (settings.showHowToUse) {\n            this.show();\n            setSetting('showHowToUse', false);\n        }\n    }\n    show() {\n        msgBox.show(lang.transl('_HowToUse') +\n            '<br><br>' +\n            lang.transl('_'), {\n            title: Config.appName,\n            btn: lang.transl('_'),\n        });\n    }\n}\nnew ShowHowToUse();\n","import { EVT } from './EVT';\nimport { lang } from './Lang';\nimport { settings } from './setting/Settings';\nimport { Tools } from './Tools';\nclass ShowNotification {\n    constructor() {\n        this.iconURL = '';\n        this.iconURL = chrome.runtime.getURL('icon/logo128.png');\n        this.bindEvents();\n    }\n    bindEvents() {\n        // \n        window.addEventListener(EVT.list.settingChange, (ev) => {\n            const data = ev.detail.data;\n            if (data.name === 'showNotificationAfterDownloadComplete' && data.value) {\n                this.requstPremission();\n            }\n        });\n        // \n        window.addEventListener(EVT.list.downloadComplete, () => {\n            window.setTimeout(() => {\n                // \n                //  crawlTagList \n                // \n                if (settings.showNotificationAfterDownloadComplete) {\n                    this.show(lang.transl('_2'), Tools.getPageTitle());\n                }\n            }, 0);\n        });\n    }\n    async show(title, text) {\n        await this.requstPremission();\n        new Notification(title, {\n            body: text,\n            //  tag tag\n            // tag: '',\n            icon: this.iconURL,\n        });\n    }\n    requstPremission() {\n        if (Notification.permission !== 'granted') {\n            return Notification.requestPermission();\n        }\n    }\n}\nnew ShowNotification();\n","import { lang } from './Lang';\nimport { Config } from './Config';\nimport { msgBox } from './MsgBox';\nimport { EVT } from './EVT';\nimport { setSetting, settings } from './setting/Settings';\n// \nclass ShowWhatIsNew {\n    constructor() {\n        this.flag = '4.8.0';\n        this.bindEvents();\n    }\n    bindEvents() {\n        window.addEventListener(EVT.list.settingInitialized, () => {\n            //  settingInitialized \n            let msg = `\n      ${lang.transl('_480')}\n      <br>\n      <br>\n      ${lang.transl('_bug')}\n      <br>\n      <br>\n      ${lang.transl('_')}\n      `;\n            // <strong>${lang.transl('_')}: ${lang.transl(\n            //   '_'\n            // )}</strong>\n            // ${lang.transl('_bug')}\n            // ${lang.transl('_')}\n            // \n            msg += `\n      <br>\n      <br>\n      ${lang.transl('_')}`;\n            this.show(msg);\n        });\n    }\n    show(msg) {\n        if (settings.whatIsNewFlag !== this.flag) {\n            msgBox.show(msg, {\n                title: Config.appName + ` ${lang.transl('_')}`,\n                btn: lang.transl('_'),\n            });\n            setSetting('whatIsNewFlag', this.flag);\n        }\n    }\n}\nnew ShowWhatIsNew();\n","import { EVT } from './EVT';\n// \n// \n// \nclass States {\n    constructor() {\n        /** settings  */\n        this.settingInitialized = false;\n        /**\n         *\n         * \n         */\n        this.busy = false;\n        /**\n         *\n         * \n         *\n         *  true false\n         */\n        this.quickCrawl = false;\n        /** */\n        this.downloading = false;\n        // \n        this.crawlCompleteTime = 1;\n        this.downloadCompleteTime = 0;\n        this.bindEvents();\n    }\n    bindEvents() {\n        window.addEventListener(EVT.list.settingInitialized, () => {\n            this.settingInitialized = true;\n        });\n        const idle = [\n            EVT.list.crawlFinish,\n            EVT.list.downloadPause,\n            EVT.list.downloadStop,\n            EVT.list.downloadComplete,\n        ];\n        idle.forEach((type) => {\n            window.addEventListener(type, () => {\n                this.busy = false;\n            });\n        });\n        const busy = [EVT.list.crawlStart, EVT.list.downloadStart];\n        busy.forEach((type) => {\n            window.addEventListener(type, () => {\n                this.busy = true;\n            });\n        });\n        // \n        const resetQuickState = [\n            EVT.list.crawlEmpty,\n            EVT.list.downloadStop,\n            EVT.list.downloadPause,\n            EVT.list.downloadComplete,\n        ];\n        for (const ev of resetQuickState) {\n            window.addEventListener(ev, () => {\n                this.quickCrawl = false;\n            });\n        }\n        window.addEventListener(EVT.list.downloadStart, () => {\n            this.downloading = true;\n        });\n        const downloadIdle = [\n            EVT.list.downloadPause,\n            EVT.list.downloadStop,\n            EVT.list.downloadComplete,\n        ];\n        for (const ev of downloadIdle) {\n            window.addEventListener(ev, () => {\n                this.downloading = false;\n            });\n        }\n    }\n}\nconst states = new States();\nexport { states };\n","import { EVT } from './EVT';\n// \nclass Store {\n    constructor() {\n        this.postIdList = [];\n        /** */\n        this.resultMeta = [];\n        /** */\n        this.result = [];\n        /** */\n        this.date = new Date();\n        /** */\n        this.skipDueToFee = 0;\n        this.bindEvents();\n    }\n    bindEvents() {\n        window.addEventListener(EVT.list.crawlStart, () => {\n            this.resetResult();\n        });\n    }\n    getCommonData(data) {\n        return {\n            postId: data.postId,\n            type: data.type,\n            title: data.title,\n            date: data.date,\n            fee: data.fee,\n            user: data.user,\n            uid: data.uid,\n            createID: data.createID,\n            tags: data.tags,\n        };\n    }\n    // \n    addResult(data) {\n        this.resultMeta.push(data);\n        //   \n        //  URL URL\n        if (data.textContent.text.length > 0) {\n            const result = Object.assign(this.getCommonData(data), data.textContent);\n            this.result.push(result);\n        }\n        //  files \n        const files = data.files;\n        for (const fileData of files) {\n            const result = Object.assign(this.getCommonData(data), fileData);\n            this.result.push(result);\n        }\n    }\n    resetResult() {\n        this.postIdList = [];\n        this.resultMeta = [];\n        this.result = [];\n        this.skipDueToFee = 0;\n    }\n}\nconst store = new Store();\nexport { store };\n","\"use strict\";\n// \nclass Tip {\n    constructor() {\n        this.tipEl = document.createElement('div'); // tip \n        this.addTipEl();\n    }\n    // \n    addTipEl() {\n        const tipHTML = `<div id=\"tip\"></div>`;\n        document.body.insertAdjacentHTML('beforeend', tipHTML);\n        this.tipEl = document.getElementById('tip');\n        const tips = document.querySelectorAll('.has_tip');\n        for (const el of tips) {\n            for (const ev of ['mouseenter', 'mouseleave']) {\n                el.addEventListener(ev, (event) => {\n                    const e = (event || window.event);\n                    const text = el.dataset.tip;\n                    if (!text) {\n                        console.log(el);\n                    }\n                    this.showTip(text, {\n                        type: ev === 'mouseenter' ? 1 : 0,\n                        x: e.clientX,\n                        y: e.clientY,\n                    });\n                });\n            }\n        }\n    }\n    //  arg \n    showTip(text, arg) {\n        if (!text) {\n            throw new Error('No tip text.');\n        }\n        if (arg.type === 1) {\n            this.tipEl.innerHTML = text;\n            this.tipEl.style.left = arg.x + 30 + 'px';\n            this.tipEl.style.top = arg.y - 30 + 'px';\n            this.tipEl.style.display = 'block';\n        }\n        else if (arg.type === 0) {\n            this.tipEl.style.display = 'none';\n        }\n    }\n}\nnew Tip();\n","import { Colors } from './Colors';\n// \n// \nclass Toast {\n    constructor() {\n        this.defaultCfg = {\n            msg: '',\n            color: Colors.white,\n            bgColor: Colors.bgBrightBlue,\n            dealy: 1500,\n            enter: 'up',\n            leave: 'fade',\n            position: 'mouse',\n        };\n        this.successCfg = {\n            msg: '',\n            color: Colors.white,\n            bgColor: Colors.bgSuccess,\n            dealy: 1500,\n            enter: 'up',\n            leave: 'fade',\n            position: 'mouse',\n        };\n        this.warningCfg = {\n            msg: '',\n            color: Colors.white,\n            bgColor: Colors.bgWarning,\n            dealy: 1500,\n            enter: 'up',\n            leave: 'fade',\n            position: 'mouse',\n        };\n        this.errorCfg = {\n            msg: '',\n            color: Colors.white,\n            bgColor: Colors.bgError,\n            dealy: 1500,\n            enter: 'up',\n            leave: 'fade',\n            position: 'mouse',\n        };\n        this.tipClassName = 'xzToast';\n        this.mousePosition = { x: 0, y: 0 };\n        this.minTop = 20;\n        this.once = 1; // \n        this.total = 20; // \n        this.bindEvents();\n    }\n    bindEvents() {\n        //  mousemove  click\n        window.addEventListener('mousemove', (ev) => {\n            this.mousePosition.x = ev.x;\n            this.mousePosition.y = ev.y;\n        });\n    }\n    show(msg, arg) {\n        this.create(Object.assign({}, this.defaultCfg, arg, { msg: msg }));\n    }\n    success(msg, arg) {\n        this.create(Object.assign({}, this.successCfg, arg, { msg: msg }));\n    }\n    warning(msg, arg) {\n        this.create(Object.assign({}, this.warningCfg, arg, { msg: msg }));\n    }\n    error(msg, arg) {\n        this.create(Object.assign({}, this.errorCfg, arg, { msg: msg }));\n    }\n    create(arg) {\n        const span = document.createElement('span');\n        span.textContent = arg.msg;\n        span.style.color = arg.color;\n        //  color\n        span.style.backgroundColor = arg.bgColor;\n        span.style.opacity = '0'; // \n        // \n        span.classList.add(this.tipClassName);\n        document.body.appendChild(span);\n        //  left\n        // \n        let centerPoint = window.innerWidth / 2;\n        if (arg.position === 'mouse') {\n            // \n            centerPoint = this.mousePosition.x;\n        }\n        //  left\n        const rect = span.getBoundingClientRect();\n        let left = centerPoint - rect.width / 2;\n        const minLeft = 0; // \n        const maxLeft = window.innerWidth - rect.width; // \n        if (left < minLeft) {\n            left = minLeft;\n        }\n        if (left > maxLeft) {\n            left = maxLeft;\n        }\n        span.style.left = left + 'px';\n        //  top\n        let lastTop = 0;\n        if (arg.position === 'topCenter') {\n            lastTop = this.minTop;\n        }\n        if (arg.position === 'center') {\n            lastTop = window.innerHeight / 2 - this.minTop;\n        }\n        if (arg.position === 'mouse') {\n            // \n            // top \n            let y = this.mousePosition.y - 40;\n            if (y < this.minTop) {\n                y = this.minTop;\n            }\n            lastTop = y;\n        }\n        // \n        if (arg.enter === 'none') {\n            span.style.top = lastTop + 'px';\n            span.style.opacity = '1';\n        }\n        else {\n            this.enter(span, arg.enter, lastTop);\n        }\n        // \n        window.setTimeout(() => {\n            if (arg.leave === 'none') {\n                span.remove();\n            }\n            else {\n                this.leave(span, arg.leave, lastTop);\n            }\n        }, arg.dealy);\n    }\n    // \n    enter(el, way, lastTop) {\n        const startTop = lastTop + this.total; //  top \n        const once = 2;\n        const total = this.total;\n        let numberOfTimes = 0; // \n        const frame = function (timestamp) {\n            numberOfTimes++;\n            // \n            const move = once * numberOfTimes;\n            // \n            const opacity = move / total;\n            if (move <= total && opacity <= 1) {\n                if (way === 'up') {\n                    el.style.top = startTop - move + 'px';\n                }\n                el.style.opacity = opacity.toString();\n                // \n                window.requestAnimationFrame(frame);\n            }\n        };\n        window.requestAnimationFrame(frame);\n    }\n    // \n    leave(el, way, lastTop) {\n        const startTop = lastTop; //  top \n        const once = this.once;\n        const total = this.total;\n        let numberOfTimes = 0; // \n        const frame = function (timestamp) {\n            numberOfTimes++;\n            // \n            const move = once * numberOfTimes;\n            // \n            const opacity = 1 - move / total;\n            if (move < total && opacity > 0) {\n                if (way === 'up') {\n                    el.style.top = startTop - move + 'px';\n                }\n                el.style.opacity = opacity.toString();\n                // \n                window.requestAnimationFrame(frame);\n            }\n            else {\n                // \n                el.remove();\n            }\n        };\n        window.requestAnimationFrame(frame);\n    }\n}\nconst toast = new Toast();\nexport { toast };\n","import { lang } from './Lang';\nclass Tools {\n    static getUserId() {\n        const Reg = /creator\\/(\\d*)?/;\n        const testString = [location.href, document.head.innerHTML];\n        for (const string of testString) {\n            const result = Reg.exec(string);\n            if (result && result.length > 1) {\n                return result[1];\n            }\n        }\n        throw new Error('getUserId failed!');\n    }\n    //  css \n    static addStyle(css) {\n        const e = document.createElement('style');\n        e.innerHTML = css;\n        document.body.append(e);\n    }\n    //  slot slot  data-name \n    static findSlot(name) {\n        const slot = document.querySelector(`slot[data-name=${name}]`);\n        if (!slot) {\n            throw new Error(`No such slot: ${name}`);\n        }\n        return slot;\n    }\n    // \n    static useSlot(name, element) {\n        const slot = this.findSlot(name);\n        if (typeof element === 'string') {\n            // \n            const wrap = document.createElement('div');\n            wrap.innerHTML = element;\n            const el = wrap.children[0];\n            slot.appendChild(el);\n            return el;\n        }\n        else {\n            //  html \n            slot.appendChild(element);\n            return element;\n        }\n    }\n    // \n    static clearSlot(name) {\n        this.findSlot(name).innerHTML = '';\n    }\n    // \n    //  textFlag  titleFlag  LangText \n    //  text  title \n    static addBtn(slot, bg = '', textFlag = '', titleFlag = '') {\n        const e = document.createElement('button');\n        e.type = 'button';\n        e.style.backgroundColor = bg;\n        textFlag && e.setAttribute('data-xztext', textFlag);\n        titleFlag && e.setAttribute('data-xztitle', titleFlag);\n        this.useSlot(slot, e);\n        lang.register(e);\n        return e;\n    }\n    /** */\n    // \n    static getPageTitle() {\n        let result = document.title\n            .replace(/\\[(||||||| )\\]/, '')\n            .replace(/^ (\\d+) /, '');\n        // \n        if (result.startsWith(' ')) {\n            result = result.replace(/ */, '');\n        }\n        return result;\n    }\n}\nexport { Tools };\n","import { EVT } from './EVT';\nclass UnifiedURL {\n    constructor() {\n        this.bindEvents();\n    }\n    bindEvents() {\n        window.addEventListener(EVT.list.settingChange, (ev) => {\n            const data = ev.detail.data;\n            if (data.name === 'unifiedURL' && data.value) {\n                this.check();\n            }\n        });\n    }\n    check() {\n        // \n        // https://www.fanbox.cc/\n        const test = location.hostname.match(/(.*)\\.fanbox.cc/);\n        if (!test || test.length < 2) {\n            return;\n        }\n        const subDomain = test[1];\n        // \n        if (subDomain === 'www' ||\n            subDomain === 'api' ||\n            subDomain === 'downloads') {\n            return;\n        }\n        // \n        // \n        // fanbox \n        const metaElement = document.head.querySelector('meta#metadata');\n        if (!metaElement) {\n            return;\n        }\n        const content = metaElement.getAttribute('content');\n        if (!content) {\n            return;\n        }\n        const data = JSON.parse(content);\n        // null  string id\n        if (data.context.user.userId === null) {\n            return;\n        }\n        // path  404path \n        let path = location.pathname;\n        if (path.endsWith('/')) {\n            path = path.substring(0, path.length - 1);\n        }\n        //  https://www.fanbox.cc/ \n        const newURL = `https://www.fanbox.cc/@${subDomain}` + path;\n        location.href = newURL;\n    }\n}\nnew UnifiedURL();\n","// \nimport { EVT } from '../EVT';\nimport { fileName } from '../FileName';\nimport { progressBar } from '../ProgressBar';\nimport { downloadRecord } from './DownloadRecord';\nimport { lang } from '../Lang';\nimport { log } from '../Log';\nimport { states } from '../States';\nimport { downloadInterval } from './DownloadInterval';\nclass Download {\n    constructor(progressBarIndex, data) {\n        this.fileName = '';\n        this.progressBarIndex = progressBarIndex;\n        this.arg = data;\n        this.download(data);\n        this.bindEvents();\n    }\n    bindEvents() {\n        window.addEventListener(EVT.list.downloadSuccess, (event) => {\n            const donwloadSuccessData = event.detail.data;\n            if (donwloadSuccessData.url === this.arg.data.url) {\n                this.setProgressBar(1024, 1024);\n            }\n        });\n    }\n    // \n    skipDownload(data, msg) {\n        if (msg) {\n            log.warning(msg);\n        }\n        if (states.downloading) {\n            EVT.fire('skipDownload', data);\n        }\n    }\n    // \n    setProgressBar(loaded, total) {\n        progressBar.setProgress(this.progressBarIndex, {\n            name: this.fileName,\n            loaded: loaded,\n            total: total,\n        });\n    }\n    // \n    async download(arg) {\n        this.fileName = fileName.getFileName(arg.data);\n        // \n        const url = arg.data.url;\n        if (!url.startsWith('blob')) {\n            const duplicate = await downloadRecord.checkDeduplication(arg.data);\n            if (duplicate) {\n                return this.skipDownload({\n                    id: arg.id,\n                    reason: 'duplicate',\n                }, lang.transl('_', this.fileName));\n            }\n        }\n        await downloadInterval.wait();\n        // \n        this.setProgressBar(0, 0);\n        // \n        this.browserDownload(url, this.fileName, arg.id, arg.taskBatch);\n    }\n    // \n    browserDownload(url, fileName, id, taskBatch) {\n        const sendData = {\n            msg: 'send_download',\n            fileUrl: url,\n            fileName: fileName,\n            id,\n            taskBatch,\n        };\n        chrome.runtime.sendMessage(sendData);\n    }\n}\nexport { Download };\n","// \nimport { EVT } from '../EVT';\nimport { Tools } from '../Tools';\nimport { store } from '../Store';\nimport { log } from '../Log';\nimport { lang } from '../Lang';\nimport { Colors } from '../Colors';\nimport { Download } from './Download';\nimport { progressBar } from '../ProgressBar';\nimport { settings } from '../setting/Settings';\nimport { states } from '../States';\nimport { ShowSkipCount } from './ShowSkipCount';\nimport { msgBox } from '../MsgBox';\nimport { downloadStates } from './DownloadStates';\nimport { toast } from '../Toast';\nimport { Config } from '../Config';\nimport { getTotalDownload } from './GetTotalDownload';\nclass DownloadControl {\n    constructor() {\n        this.downloadThread = 2; // \n        this.taskBatch = 0; // \n        this.taskList = {}; //  id  key\n        this.downloaded = 0; // \n        this.reTryTimer = 0; // \n        this.wrapper = document.createElement('div');\n        this.downStatusEl = document.createElement('span');\n        this.stop = false; // \n        this.pause = false; // \n        this.createDownloadArea();\n        this.bindEvents();\n        const skipTipWrap = this.wrapper.querySelector('.skip_tip');\n        new ShowSkipCount(skipTipWrap);\n    }\n    bindEvents() {\n        window.addEventListener(EVT.list.crawlStart, () => {\n            this.hideDownloadArea();\n            this.reset();\n        });\n        for (const ev of [EVT.list.crawlFinish, EVT.list.resume]) {\n            window.addEventListener(ev, (ev) => {\n                // \n                this.pause = ev.type === 'resume';\n                // \n                window.setTimeout(() => {\n                    this.readyDownload();\n                }, 0);\n            });\n        }\n        window.addEventListener(EVT.list.skipDownload, (ev) => {\n            //  downloadSuccess \n            const data = ev.detail.data;\n            this.downloadSuccess(data);\n        });\n        // \n        chrome.runtime.onMessage.addListener((msg) => {\n            var _a;\n            if (!this.taskBatch) {\n                return;\n            }\n            //  Blob URL UUID\n            //  Fanbox  URL URL \n            if ((_a = msg.data) === null || _a === void 0 ? void 0 : _a.uuid) {\n                log.log(lang.transl('_uuid'), 1, false, 'filenameUUID');\n                msgBox.once('uuidTip', lang.transl('_uuid'), 'show');\n                this.pauseDownload();\n            }\n            // \n            if (msg.msg === 'downloaded') {\n                EVT.fire('downloadSuccess', msg.data);\n                this.downloadSuccess(msg.data);\n            }\n            else if (msg.msg === 'download_err') {\n                // \n                // \n                // \n                //  IDM \n                if (msg.err === 'USER_CANCELED') {\n                    log.error(lang.transl('_user_canceled_tip', msg.data.url, msg.err || 'unknown'));\n                    this.downloadSuccess(msg.data);\n                    return;\n                }\n                else if (msg.err === 'SERVER_BAD_CONTENT') {\n                    // 404 \n                    log.error(`${msg.data.url} Download error! Code: ${msg.err}. 404: file does not exist.`);\n                }\n                else if (msg.err === 'SERVER_FAILED') {\n                    //  500 \n                    log.error(`${msg.data.url} Download error! Code: ${msg.err}. This is a server-side error, not a downloader bug. The downloader will retry the download.`);\n                    this.downloadError(msg.data, msg.err);\n                }\n                else {\n                    // \n                    log.error(`${msg.data.url} Download error! Code: ${msg.err}. Will try again later.`);\n                    // \n                    this.downloadError(msg.data, msg.err);\n                }\n                EVT.fire('downloadError');\n            }\n        });\n        window.addEventListener(EVT.list.downloadComplete, () => {\n            this.setDownStateText(lang.transl('_2'), Colors.textSuccess);\n            log.success(lang.transl('_'), 2);\n            toast.success(lang.transl('_2'), {\n                position: 'topCenter',\n            });\n        });\n    }\n    setDownloaded() {\n        this.downloaded = downloadStates.downloadedCount();\n        const text = `${this.downloaded} / ${store.result.length}`;\n        log.log(text, 2, false);\n        // \n        progressBar.setTotalProgress(this.downloaded);\n        // \n        if (this.downloaded === store.result.length) {\n            window.setTimeout(() => {\n                // \n                EVT.fire('downloadComplete');\n            }, 0);\n            this.reset();\n        }\n    }\n    // \n    showDownloadArea() {\n        this.wrapper.style.display = 'block';\n    }\n    hideDownloadArea() {\n        this.wrapper.style.display = 'none';\n    }\n    // \n    setDownStateText(str, color = '') {\n        const el = document.createElement('span');\n        el.textContent = str;\n        if (color) {\n            el.style.color = color;\n        }\n        this.downStatusEl.innerHTML = '';\n        this.downStatusEl.appendChild(el);\n    }\n    reset() {\n        this.pause = false;\n        this.stop = false;\n        clearTimeout(this.reTryTimer);\n    }\n    createDownloadArea() {\n        const html = `<div class=\"download_area\">\n    <div class=\"centerWrap_btns\">\n    <button class=\"startDownload\" type=\"button\" style=\"background:${Colors.bgBlue};\" data-xztext=\"_\"></button>\n    <button class=\"pauseDownload\" type=\"button\" style=\"background:${Colors.bgYellow};\" data-xztext=\"_\"></button>\n    <button class=\"stopDownload\" type=\"button\" style=\"background:${Colors.bgRed};\" data-xztext=\"_\"></button>\n    <button class=\"previewFileName\" type=\"button\" style=\"background:${Colors.bgGreen};\" data-xztext=\"_\"></button>\n    </div>\n    <div class=\"download_status_text_wrap\">\n    <span data-xztext=\"_\"></span>\n    <span class=\"down_status\" data-xztext=\"_\"></span>\n    <span class=\"skip_tip warn\"></span>\n    </div>\n    </div>`;\n        this.wrapper = Tools.useSlot('downloadArea', html);\n        lang.register(this.wrapper);\n        this.downStatusEl = this.wrapper.querySelector('.down_status');\n        this.wrapper\n            .querySelector('.startDownload')\n            .addEventListener('click', () => {\n            this.startDownload();\n        });\n        this.wrapper\n            .querySelector('.pauseDownload')\n            .addEventListener('click', () => {\n            this.pauseDownload();\n        });\n        this.wrapper\n            .querySelector('.stopDownload')\n            .addEventListener('click', () => {\n            this.stopDownload();\n        });\n        this.wrapper\n            .querySelector('.previewFileName')\n            .addEventListener('click', () => {\n            EVT.fire('previewFileName');\n        });\n    }\n    // \n    setDownloadThread() {\n        const setThread = settings.downloadThread;\n        if (setThread < 1 ||\n            setThread > Config.downloadThreadMax ||\n            isNaN(setThread)) {\n            // \n            this.downloadThread = Config.downloadThreadMax;\n        }\n        else {\n            this.downloadThread = setThread; // \n        }\n        // \n        if (store.result.length - this.downloaded < this.downloadThread) {\n            this.downloadThread = store.result.length - this.downloaded;\n        }\n        // \n        progressBar.reset(this.downloadThread, this.downloaded);\n    }\n    // \n    readyDownload() {\n        if (states.busy || store.result.length === 0) {\n            return;\n        }\n        this.showDownloadArea();\n        this.setDownloaded();\n        this.setDownloadThread();\n        // \n        if (settings.autoStartDownload || states.quickCrawl) {\n            this.startDownload();\n        }\n    }\n    // \n    startDownload() {\n        // \n        if (states.busy || store.result.length === 0) {\n            return;\n        }\n        if (this.pause) {\n            // \n            // \n            downloadStates.resume();\n        }\n        else {\n            // \n            // \n            downloadStates.init();\n        }\n        // \n        this.reset();\n        this.setDownloaded();\n        this.taskBatch = new Date().getTime(); // \n        this.setDownloadThread();\n        EVT.fire('downloadStart');\n        msgBox.resetOnce('totalDownloadLimit');\n        // \n        for (let i = 0; i < this.downloadThread; i++) {\n            this.createDownload(i);\n        }\n        this.setDownStateText(lang.transl('_'));\n        log.log(lang.transl('_'));\n        if (Config.mobile) {\n            log.warning(lang.transl('_'));\n        }\n    }\n    // \n    pauseDownload() {\n        clearTimeout(this.reTryTimer);\n        if (store.result.length === 0) {\n            return;\n        }\n        // \n        if (this.stop === true) {\n            return;\n        }\n        if (this.pause === false) {\n            // \n            if (states.busy) {\n                this.pause = true; // \n                EVT.fire('downloadPause');\n                this.setDownStateText(lang.transl('_'), '#f00');\n                log.warning(lang.transl('_'), 2);\n            }\n            else {\n                // \n                return;\n            }\n        }\n    }\n    // \n    stopDownload() {\n        clearTimeout(this.reTryTimer);\n        if (store.result.length === 0 || this.stop) {\n            return;\n        }\n        this.stop = true;\n        EVT.fire('downloadStop');\n        this.setDownStateText(lang.transl('_'), '#f00');\n        log.error(lang.transl('_'), 2);\n        this.pause = false;\n    }\n    downloadError(data, err) {\n        if (this.pause || this.stop) {\n            return false;\n        }\n        const task = this.taskList[data.id];\n        // \n        downloadStates.setState(task.index, -1);\n        // \n        // \n        this.createDownload(task.progressBarIndex, err === 'SERVER_FAILED');\n    }\n    async downloadSuccess(data) {\n        const task = this.taskList[data.id];\n        // \n        downloadStates.setState(task.index, 1);\n        // \n        this.setDownloaded();\n        // \n        // \n        if (settings.totalDownloadLimitSwitch) {\n            const total = await getTotalDownload.getToday();\n            if (total > settings.totalDownloadLimitByte) {\n                this.pauseDownload();\n                const msg = lang.transl('_') +\n                    '<br>' +\n                    lang.transl('_');\n                log.warning(msg, 1, false, 'totalDownloadLimit');\n                msgBox.once('totalDownloadLimit', msg, 'warning', {\n                    title: lang.transl('_'),\n                });\n            }\n        }\n        // \n        const no = task.progressBarIndex;\n        if (this.checkContinueDownload()) {\n            this.createDownload(no);\n        }\n    }\n    // \n    checkContinueDownload() {\n        // \n        if (this.downloaded < store.result.length) {\n            // \n            if (this.pause || this.stop) {\n                return false;\n            }\n            //   \n            if (this.downloaded + this.downloadThread - 1 < store.result.length) {\n                return true;\n            }\n            else {\n                return false;\n            }\n        }\n        else {\n            return false;\n        }\n    }\n    // \n    //  url  url \n    createDownload(progressBarIndex, useThumb = false) {\n        const index = downloadStates.getFirstDownloadItem();\n        if (index === undefined) {\n            throw new Error('There are no data to download');\n        }\n        else {\n            let result = store.result[index];\n            //  URL\n            if (result.text && result.text.length > 0) {\n                const text = result.text.join('\\r\\n');\n                const blob = new Blob([text], {\n                    type: 'text/plain',\n                });\n                result.url = URL.createObjectURL(blob);\n                result.size = blob.size;\n            }\n            // \n            if (useThumb) {\n                if (result.retryUrl) {\n                    ;\n                    [result.url, result.retryUrl] = [result.retryUrl, result.url];\n                }\n                else {\n                    log.error(`${result.url} Unable to retry, this file has been skipped.`);\n                    const data = {\n                        url: result.url,\n                        id: result.fileID,\n                        tabId: 0,\n                        uuid: false,\n                        size: -1,\n                    };\n                    return this.downloadSuccess(data);\n                }\n            }\n            const data = {\n                id: result.fileID,\n                data: result,\n                index: index,\n                progressBarIndex: progressBarIndex,\n                taskBatch: this.taskBatch,\n            };\n            // \n            this.taskList[data.data.fileID] = {\n                index,\n                progressBarIndex: progressBarIndex,\n            };\n            // \n            new Download(progressBarIndex, data);\n        }\n    }\n}\nnew DownloadControl();\n","import { EVT } from '../EVT';\nimport { lang } from '../Lang';\nimport { log } from '../Log';\nimport { settings } from '../setting/Settings';\nclass DownloadInterval {\n    constructor() {\n        /** */\n        //  0\n        // \n        this.allowDownloadTime = 0;\n        this.bindEvents();\n    }\n    bindEvents() {\n        window.addEventListener(EVT.list.settingChange, (ev) => {\n            const data = ev.detail.data;\n            if (data.name === 'downloadInterval') {\n                if (data.value === 0) {\n                    this.reset();\n                }\n            }\n        });\n        const resetEvents = [\n            EVT.list.crawlFinish,\n            EVT.list.downloadStart,\n            EVT.list.downloadPause,\n            EVT.list.downloadStop,\n            EVT.list.downloadComplete,\n        ];\n        resetEvents.forEach((evt) => {\n            window.addEventListener(evt, () => {\n                this.reset();\n            });\n        });\n        window.addEventListener(EVT.list.downloadStart, () => {\n            // \n            if (settings.downloadInterval > 0) {\n                const msg = lang.transl('_') +\n                    `: ${settings.downloadInterval} ` +\n                    lang.transl('_');\n                log.warning(msg, 1, false, 'downloadInterval');\n            }\n        });\n    }\n    reset() {\n        this.allowDownloadTime = 0;\n    }\n    addTime() {\n        //  settings.downloadInterval  0.8  1.2 \n        const randomFactor = 0.8 + Math.random() * 0.4;\n        const interval = settings.downloadInterval * 1000 * randomFactor;\n        this.allowDownloadTime = new Date().getTime() + interval;\n    }\n    wait() {\n        return new Promise(async (resolve) => {\n            // \n            if (settings.downloadInterval === 0) {\n                return resolve(true);\n            }\n            // \n            if (new Date().getTime() >= this.allowDownloadTime) {\n                this.addTime();\n                return resolve(true);\n            }\n            // \n            const timer = window.setInterval(() => {\n                if (new Date().getTime() >= this.allowDownloadTime) {\n                    window.clearInterval(timer);\n                    this.addTime();\n                    return resolve(true);\n                }\n            }, 50);\n        });\n    }\n}\nconst downloadInterval = new DownloadInterval();\nexport { downloadInterval };\n","import { EVT } from '../EVT';\nimport { lang } from '../Lang';\nimport { log } from '../Log';\nimport { settings } from '../setting/Settings';\nimport { IndexedDB } from '../utils/IndexedDB';\nimport { Utils } from '../utils/Utils';\nimport { toast } from '../Toast';\nimport { msgBox } from '../MsgBox';\n// \nclass DownloadRecord {\n    constructor() {\n        this.DBName = 'DLRecord';\n        this.DBVer = 1;\n        this.storeName = 'record';\n        this.IDB = new IndexedDB();\n        this.init();\n    }\n    async init() {\n        await this.initDB();\n        this.bindEvents();\n    }\n    // \n    async initDB() {\n        // \n        const onUpdate = (db) => {\n            if (!db.objectStoreNames.contains(this.storeName)) {\n                const store = db.createObjectStore(this.storeName, { keyPath: 'url' });\n                store.createIndex('url', 'url', { unique: true });\n            }\n        };\n        return new Promise(async (resolve, reject) => {\n            resolve(await this.IDB.open(this.DBName, this.DBVer, onUpdate));\n        });\n    }\n    /** url  */\n    removeHttp(url) {\n        // url \n        // https://downloads.fanbox.cc/files/post/1745346/kDCd7V1aaHQPltLU2ZTxxfuX.jpeg\n        return url.replace('https://downloads.fanbox.cc/', '');\n    }\n    bindEvents() {\n        // \n        window.addEventListener(EVT.list.downloadSuccess, (ev) => {\n            const successData = ev.detail.data;\n            //  Blob URL \n            // \n            if (!successData.url.startsWith('blob') && !successData.uuid) {\n                this.addRecord({\n                    url: this.removeHttp(successData.url),\n                });\n            }\n        });\n        // \n        {\n            const btn = document.querySelector('#importDownloadRecord');\n            if (btn) {\n                btn.addEventListener('click', () => {\n                    EVT.fire('importDownloadRecord');\n                });\n            }\n        }\n        // \n        window.addEventListener(EVT.list.importDownloadRecord, () => {\n            this.importRecordFromJSON();\n        });\n        // \n        {\n            const btn = document.querySelector('#exportDownloadRecord');\n            if (btn) {\n                btn.addEventListener('click', () => {\n                    EVT.fire('exportDownloadRecord');\n                });\n            }\n        }\n        // \n        window.addEventListener(EVT.list.exportDownloadRecord, () => {\n            this.exportRecord();\n        });\n        // \n        {\n            const btn = document.querySelector('#clearDownloadRecord');\n            if (btn) {\n                btn.addEventListener('click', () => {\n                    EVT.fire('clearDownloadRecord');\n                });\n            }\n        }\n        // \n        window.addEventListener(EVT.list.clearDownloadRecord, () => {\n            this.clearRecords();\n        });\n    }\n    // \n    async addRecord(record) {\n        this.IDB.put(this.storeName, record);\n    }\n    /** \n     *\n     *  true false \n     */\n    async checkDeduplication(result) {\n        return new Promise(async (resolve, reject) => {\n            // \n            if (!settings.deduplication) {\n                return resolve(false);\n            }\n            // \n            const data = (await this.IDB.get(this.storeName, this.removeHttp(result.url)));\n            return resolve(!!data);\n        });\n    }\n    // \n    clearRecords() {\n        this.IDB.clear(this.storeName);\n        toast.success(lang.transl('_'));\n    }\n    // \n    async exportRecord() {\n        const record = (await this.IDB.getAll(this.storeName));\n        const blob = Utils.json2BlobSafe(record);\n        const url = URL.createObjectURL(blob);\n        Utils.downloadFile(url, `record-${Utils.replaceUnsafeStr(new Date().toLocaleString())}.json`);\n        toast.success(lang.transl('_'));\n    }\n    // \n    async importRecord(record) {\n        log.warning(lang.transl('_'));\n        log.log(record.length.toString());\n        await this.IDB.batchAddData(this.storeName, record, 'url');\n        log.success(lang.transl('_'));\n        toast.success(lang.transl('_'));\n        msgBox.success(lang.transl('_'), {\n            title: lang.transl('_'),\n        });\n    }\n    //  json \n    async importRecordFromJSON() {\n        const record = (await Utils.loadJSONFile().catch((err) => {\n            msgBox.error(err);\n            return;\n        }));\n        if (!record) {\n            return;\n        }\n        // \n        if (Array.isArray(record) === false || record[0].url === undefined) {\n            return msgBox.error(lang.transl('_'));\n        }\n        this.importRecord(record);\n    }\n}\nconst downloadRecord = new DownloadRecord();\nexport { downloadRecord };\n","import { EVT } from '../EVT';\nimport { store } from '../Store';\n// \nclass DownloadStates {\n    constructor() {\n        this.states = [];\n        this.bindEvents();\n    }\n    bindEvents() {\n        // \n        window.addEventListener(EVT.list.crawlFinish, () => {\n            this.init();\n        });\n    }\n    // \n    init() {\n        this.states = new Array(store.result.length).fill(-1);\n    }\n    // \n    downloadedCount() {\n        let count = 0;\n        const length = this.states.length;\n        for (let i = 0; i < length; i++) {\n            if (this.states[i] === 1) {\n                count++;\n            }\n        }\n        return count;\n    }\n    // \n    // \n    replace(states) {\n        this.states = states;\n    }\n    // \n    // \n    resume() {\n        const length = this.states.length;\n        for (let i = 0; i < length; i++) {\n            if (this.states[i] === 0) {\n                this.setState(i, -1);\n            }\n        }\n    }\n    // \n    getFirstDownloadItem() {\n        const length = this.states.length;\n        for (let i = 0; i < length; i++) {\n            if (this.states[i] === -1) {\n                this.setState(i, 0);\n                return i;\n            }\n        }\n        return undefined;\n    }\n    // \n    setState(index, value) {\n        this.states[index] = value;\n    }\n    clear() {\n        this.states = [];\n    }\n}\nconst downloadStates = new DownloadStates();\nexport { downloadStates };\n","import { EVT } from '../EVT';\nimport { lang } from '../Lang';\nimport { msgBox } from '../MsgBox';\nclass GetTotalDownload {\n    constructor() {\n        this.bindEvents();\n    }\n    bindEvents() {\n        window.addEventListener(EVT.list.totalDownloadHistory, (ev) => {\n            this.getHistory30Day();\n        });\n    }\n    async getToday() {\n        return new Promise((resolve, reject) => {\n            chrome.runtime.sendMessage({\n                msg: 'getTotalDownload',\n            }, (response) => {\n                // response: { total: number }\n                const total = (response === null || response === void 0 ? void 0 : response.total) || -1;\n                return resolve(total);\n            });\n        });\n    }\n    getHistory30Day() {\n        chrome.runtime.sendMessage({\n            msg: 'getTotalDownloadHistory30',\n        }, (response) => {\n            // response.history \n            // [{date: '2025-08-03', bytes: 18431824}]\n            if (response.history.length === 0) {\n                msgBox.warning(lang.transl('_'));\n                return;\n            }\n            const array = [];\n            response.history.forEach(({ date, bytes }) => {\n                // \n                let size = '';\n                const MiB = bytes / 1024 / 1024;\n                const GiB = MiB / 1024;\n                if (GiB < 1) {\n                    size = `${MiB.toFixed(2)} MiB`;\n                }\n                else {\n                    size = `${GiB.toFixed(2)} GiB`;\n                }\n                array.push(`<p><span>${date}</span> <span>${size}</span></p>`);\n            });\n            // \n            const html = `<div id=\"downloadTotal30Day\">\n        <style>\n          #downloadTotal30Day span{width:30%;display: inline-block;}\n        </style>\n        ${array.join('')}\n        </div>`;\n            msgBox.show(html, {\n                title: lang.transl('_30'),\n            });\n        });\n    }\n}\nconst getTotalDownload = new GetTotalDownload();\nexport { getTotalDownload };\n","import { EVT } from '../EVT';\nimport { log } from '../Log';\nimport { lang } from '../Lang';\nimport { store } from '../Store';\nimport { states } from '../States';\nimport { downloadStates } from './DownloadStates';\nimport { IndexedDB } from '../utils/IndexedDB';\nimport { toast } from '../Toast';\n// \nclass Resume {\n    constructor() {\n        this.DBName = 'PFD';\n        this.DBVer = 1;\n        this.dataName = 'taskData'; // \n        this.statesName = 'taskStates'; // \n        this.putStatesTime = 1000; // \n        this.needPutStates = false; // \n        this.IDB = new IndexedDB();\n        this.init();\n    }\n    async init() {\n        await this.initDB();\n        this.bindEvents();\n        if (states.settingInitialized) {\n            this.restoreData();\n        }\n        this.regularPutStates();\n        this.clearExired();\n    }\n    // \n    async initDB() {\n        // \n        const onUpdate = (db) => {\n            if (!db.objectStoreNames.contains(this.dataName)) {\n                const dataStore = db.createObjectStore(this.dataName, {\n                    keyPath: 'id',\n                });\n                dataStore.createIndex('id', 'id', { unique: true });\n                dataStore.createIndex('url', 'url', { unique: true });\n            }\n            if (!db.objectStoreNames.contains(this.statesName)) {\n                const statesStore = db.createObjectStore(this.statesName, {\n                    keyPath: 'id',\n                });\n                statesStore.createIndex('id', 'id', { unique: true });\n            }\n        };\n        // \n        return new Promise(async (resolve, reject) => {\n            resolve(await this.IDB.open(this.DBName, this.DBVer, onUpdate));\n        });\n    }\n    // \n    async restoreData() {\n        // \n        if (states.busy) {\n            return;\n        }\n        // \n        const url = this.getURL();\n        const taskData = (await this.IDB.get(this.dataName, url, 'url'));\n        if (taskData === null) {\n            return;\n        }\n        log.warning(lang.transl('_'));\n        store.result = taskData.data;\n        store.date = taskData.date;\n        this.taskId = taskData.id;\n        // \n        const taskStates = (await this.IDB.get(this.statesName, this.taskId, 'id'));\n        if (taskStates) {\n            downloadStates.replace(taskStates.states);\n        }\n        // \n        log.success(lang.transl('_'), 2);\n        EVT.fire('resume');\n    }\n    bindEvents() {\n        // \n        window.addEventListener(EVT.list.crawlFinish, async () => {\n            this.saveData();\n        });\n        // \n        const saveEv = [EVT.list.downloadSuccess, EVT.list.skipDownload];\n        saveEv.forEach((val) => {\n            window.addEventListener(val, () => {\n                this.needPutStates = true;\n            });\n        });\n        // \n        const clearDataEv = [EVT.list.downloadComplete, EVT.list.downloadStop];\n        for (const ev of clearDataEv) {\n            window.addEventListener(ev, async () => {\n                this.clearData();\n            });\n        }\n        // \n        const restoreEvt = [EVT.list.pageSwitch, EVT.list.settingInitialized];\n        restoreEvt.forEach((evt) => {\n            window.addEventListener(evt, () => {\n                this.restoreData();\n            });\n        });\n        // \n        window.addEventListener(EVT.list.clearSavedCrawl, () => {\n            this.clearSavedCrawl();\n        });\n    }\n    // \n    async saveData() {\n        if (store.result.length === 0) {\n            return;\n        }\n        this.taskId = store.date.getTime();\n        const url = this.getURL();\n        // \n        const taskData = (await this.IDB.get(this.dataName, url, 'url'));\n        if (taskData) {\n            await this.IDB.delete(this.dataName, taskData.id);\n            await this.IDB.delete(this.statesName, taskData.id);\n        }\n        // \n        if (downloadStates.downloadedCount() === store.result.length) {\n            return;\n        }\n        // \n        log.log(lang.transl('_'));\n        const resultData = {\n            id: this.taskId,\n            url: url,\n            data: store.result,\n            date: store.date,\n        };\n        try {\n            await this.IDB.add(this.dataName, resultData);\n        }\n        catch (error) {\n            // \n            console.error(error);\n            if (error.target && error.target.error && error.target.error.message) {\n                const msg = error.target.error.message;\n                log.error('IndexedDB: ' + msg);\n            }\n        }\n        //  states \n        const statesData = {\n            id: this.taskId,\n            states: downloadStates.states,\n        };\n        this.IDB.add(this.statesName, statesData);\n        log.success(lang.transl('_'), 2);\n    }\n    //  put \n    async regularPutStates() {\n        window.setInterval(() => {\n            if (this.needPutStates) {\n                const statesData = {\n                    id: this.taskId,\n                    states: downloadStates.states,\n                };\n                this.needPutStates = false;\n                // \n                if (downloadStates.downloadedCount() === store.result.length) {\n                    return;\n                }\n                this.IDB.put(this.statesName, statesData);\n            }\n        }, this.putStatesTime);\n    }\n    async clearData() {\n        if (!this.taskId) {\n            return;\n        }\n        //  taskId URL\n        //  URL URL \n        const taskData = (await this.IDB.get(this.dataName, this.taskId, 'id'));\n        if (!taskData) {\n            return;\n        }\n        this.IDB.delete(this.dataName, this.taskId);\n        this.IDB.delete(this.statesName, this.taskId);\n    }\n    // \n    async clearExired() {\n        //  31 31*24*60*60*1000\n        const expiryTime = 2678400000;\n        // \n        const nowTime = new Date().getTime();\n        let lastCheckTime = 0;\n        const storeName = 'lastCheckExired';\n        const data = localStorage.getItem(storeName);\n        if (data === null) {\n            localStorage.setItem(storeName, lastCheckTime.toString());\n        }\n        else {\n            lastCheckTime = Number.parseInt(data);\n        }\n        if (nowTime - lastCheckTime < 86400000) {\n            return;\n        }\n        localStorage.setItem(storeName, nowTime.toString());\n        // \n        const callback = (item) => {\n            if (item) {\n                const data = item.value;\n                if (nowTime - data.date.getTime() > expiryTime) {\n                    this.IDB.delete(this.dataName, data.url);\n                    this.IDB.delete(this.statesName, data.id);\n                }\n                item.continue();\n            }\n        };\n        this.IDB.openCursor(this.dataName, callback);\n    }\n    // \n    async clearSavedCrawl() {\n        await Promise.all([\n            this.IDB.clear(this.dataName),\n            this.IDB.clear(this.statesName),\n        ]);\n        toast.success(lang.transl('_'));\n    }\n    //  url\n    getURL() {\n        return window.location.href.split('#')[0];\n    }\n}\nnew Resume();\n","import { API } from '../API';\nimport { lang } from '../Lang';\nimport { log } from '../Log';\nimport { msgBox } from '../MsgBox';\nimport { Utils } from '../utils/Utils';\n// \n//  Fanbox  Fanbox \nclass SaveFanCard {\n    constructor() {\n        this.displayName = true; // \n        this.busy = false; // \n        this.errorCount = 0;\n        this.config = {\n            canvasWidth: 1280,\n            canvasHeight: 800,\n            fontFamily: 'Arial, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Droid Sans, Helvetica Neue, Hiragino Kaku Gothic ProN, Meiryo, sans-serif',\n            assets: {\n                cardMask: '',\n                logoDark: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASQAAAAoCAYAAABXTIcjAAAPPUlEQVR4Xu1d7bXbNhIFpALWrmDtCiKTBcSpIEkFa1cQuwI7FcRbQeIK1qlgXwoQ87aCOBXELoDEntEB34EozNwLENJ7yrH+igTxNRd3LgYD7778vvTAlx742/TAbrd7tN1uvw0hPPHeP08bFkK49d5/HMfx19vb248PsdG+7/tQWrEQwkdpWAjhZpomadwtWwb6Xgjhx2EY3qbl9X3/i3Pun9Y3xnF8iTq567qfvfdPtHJCCP8bhuFV+n/XdTfe+6+tb+/3ez//33XdO+/9D6g/0nesZ5nvO+fe7/f7F+ib6f+73W633W5/KnlHe3a/339jlRPH71/Mt0IIL4dhkPGmfrvd7vl2u/0vengcx29ub29vtOdQObn30TtGnaQen5xzN+M4/lZiP0b9n2w2mzfee3YeyLd/tPpEvtV13Svv/bfA9lqV87IKkDKVux3H8TVqnLxXA0hd173w3v9sdUoI4fUwDO+MARMD/B2UcWIMDCCk4NL3/XfOuf+sNZD5fdRf8lypEcs7K4zppGkIXLuu+8NaCBYFFoFrQTvMcne73ZPtdvuHNm6NAWn5GQoctLr1ff9DCOGt9/4RmnfL/0MI76ZpEkARgDz5oX6JL/y63+9l3qu/ruv+suoXQvhtGIbnrQDpUBFp3DAMr62KIQPLMaQIZNJh/9DKFtY2DMNTY9Bk1VVX6RDCn8MwnLCnUkCKlPkvNDEYECEngxvH8Slih8v6FBgyaoqzAIltw/wRNI617QghfJqmSfopa3hxjqnewpkBabaft8Mw/Ag7PHkgsn6WFWlFC6EQBpntm77vPzjnEEtS5yBDKOb+bQpIEZR+GYbhpQEMpouoAVLXdbICvLEGS6PlAhKbzUZWaXUF0QCiFJCkfl3Xia/+lVXXEMK/l+5hjbFpQIom9aUAiZmMy7qWAGxJO9AiYC2WlwCkaD8nkoU2lo3AaC5eBSWmjzW7jUAvLvWRnpW2KZ3DzQEJdWotQ4rMQ4Q4lSVpWgoyCsuoKwEJ6kgzRbWAgwHhGv1IvslMMgRq8/8WQyrRjxKWROtIhe24sfSuhwBI0gfjOD5DuhI5N9ghnJ9T+wfZgcZsGYacLhRnAaTYqVkKVwtIkXkwLOnxknoiDcNaOdFASL2WBsnqSEh7YagyWvW1GVloyObEBoAkut2u0DJoHam0HRb7eiiAJGK3BZxxQ8LUQwv7++5xbT6R/fz9fr8X9+7uhxakJRk4GyA557JC1xpAYljSUtwmOvLzfr9XXbkaQGJ1JOSa9H0PjRmVcZ+AxPbDso4lOhIxvkfFA9fiXjWktKIAOE0XqBaMonfzcZomYWgnehJhC0c2XyOVMID0fhzHu23YzWYjvqDsepnb8BpLWgNIDEtaTmYCoU2fnRiErKjbdZ2ERqA+OllRFqsL0tuyQjwzIUsN2SpTY0gsU8yVzQJtaTsssGvNkJZuubgv0X6E6aMwlmyYQkl7JYwlhufIgitxSWg+HoZC27Fmvp2OW41UAgEpt6JE5PuA4nOcczkKh4zMBAjGJ50FSOLZz+M4PrF2XmoBCQFhHHi1rczg1+pH8m2mfBS7g4DPiskSY3HOPTKMxATr+dtMO5b11Np1bkBK6iybLLLxoQKEBgrMvHLOybz+Lg3DiTYrMUXmxtDMkrQda7TQpnhBSCUnoTpVgBQntBm3oRncWoYk5RKDctAgkPBn0fd58tQCElodYv8cYi9yhk2+T4u/y28whrwWkIDL+V4ASdtOZnYhWWDN9G9Wo7oUIEWmb8bWGbvNZjxP9ExUURzZxNxXmrCO5uXMQIn5lSUD1YAUO9WMYlairlcxJBYMx3F8vNlsfjcC8iA7Ytooz+RcFoKdCTVWY6eYiG/WrckBHjFhZLfHjG62GBLSj4QBRIakrdi3+/3+GWJhTDuWZWgxSZcEJFRvxXaYoFsUACpHS9ButcxNNSwFsSTxjJxzUlcr7i/rHawCJLQLdC5AIlmShOdbsQ9UvEctQ4pgBnUkAc4aAbE2/qjE1VkDSEg/krKlLtaxD61vUoBBhq0BWm436SEBUq7vGXZDhgysCktBLEl2CS3biy5lViq5WkBiGIi1urLsYg0gEa6lykJQqP0a/Yh1ddYAEmJ4wiqJMYQ6Ui0g5bbWLwlIyKhzwEIQAGqTgw0bsMI5CJakmp8llawCJGSsOWGuhYY0t5QxeKVX6DgX1EbNZWN0Ak1nIwy16vxaKbNYCUiqOx8PMR9ik/q+V48EMTrSCkA6OXJzSUDq+17dujeOMaEzgfS8RnZIaFHwfKlie6ZUUg1ISCOIDTrRIFBHMEJziduR6xSWHa3RkFitK8d0GCMracN9aEhgnO8MBwA+1JGIvvqsRfcv59olACnJsmDJCdmD4oTtmAfM03nALLTWgsTEBNaQgWpAYs7R5DQAolMpbWduLNOxi46hV5G1gIQYQKzXidEhrWCtfsS6bCEEiT8z8+ZM0/R+ebAXgUTKnJFrh3Qk5lve+2yalUzMWtPASBHPvfd3qXlCCDt0Ij9lj+dktMj909j7AtTgyYklKKGFtBiQYjzDTyjvinZWqzUgoQlZ2iHL5xnAA0cn4EnpzNETMzPBWv2IBSRVBEj+qBFf03cILWVtHqOnVlqRNFauNUNi+i99RsBomqbnuU0OZp6XuNho0WMAqYIlQTLAANIhGVvScSrVXHRuNkamNSCxLCbWDeZtaQ1IMcGVmQhtOZHQkZHa82ulKy5jUAogmeEgKetBAity4ZGhCtgDNnBnJPcJSLKAT9MkwYxaXiKYiA6djSxlN6jvo+3RLAmxIykPAhIzKZfPWC7FOQCJFbcZkbQ1ICGDiyvREXijPmIGFo0bMmT0/vx/DpCs+ufmBnheDR5lmF4EJDN+ZwbI+wKk6Nq9HcdR3N9rAyRK3JY2DsPwGM2rswCSRR2RsTGovFjpJdALJkSLhg+TdLUGJCnP2kmK9boLQkMA1kI/YgwZTRwNkAigO2GpKH8USABnMof5XbCbd1gQ7guQ5r6MwPRyeWKeHa/7YEiIzTNeU/pMc0BC7kRrQGJ84UWn0DsRrDuIJgISEFO9DWkqLfQjdoIzoLRcfNB4GDnT1ahesNtDARIQzw8bC/cNSAkwncgdBNCbmTszCy10tRA5YOq0sD0zq2tzlw2BUWQLq4+OzI1k0htk3EnYKek7a0XtCGpyqNHUkWZQIwy6+vzagllCTaIGkBD41ojglmEgo0gOWps51cUNPkNO7c9y08cRAwAXRiTM8+g8GmqnvHdpUduKpdLmDsKIJgwp7g68QFnuWgMSMt7aTmkNSMgNi5PpkNAOAWAL/ejMDMk8/JnbxkfGZmXXRO8udvTU1MKiL1q3xdSksM3VOy6iorugG1+OkrShdpYCElo4og2okfJMfXL2h3JdVQNSTB8h1yB9YG4bmSvXymWrYUcJJaZZEgIIKRO5bAwQz9vP4MiImUyOYTQJu4QMqWTFjSBnshBN/2KCbLU+RoaxACSVqcarvdQrsloB0tz/5O7rEUsibIeWI5h5bZ2Lq2FHCftTQzkYQDpK0CaBcqU3XKSGQnQqFRhJaC2mfSLqmEyconvZtI+iCSBuyTRN74BAXxy2oNUHGXLpisu4pmL0zrnsnWve+6O7+Jb11owDtSMFEgb4tP5qDUixv8zD10tXlTg/BuN8WGJgLbTM0SawOKopeiEgIWGrZFVmmAL7PSL5058gQ56Zt/gMgGSKiDEO5a11+h3dPVcyFsiQawCJdANKqnn3bG0Ww0yMFwo6zdbvTIAE50SaLwv1L3KHEnbM3FEol6Zmc6GjMBthwig7pca+rxKQEDuSDpEgM3QxJOOSIGbDumwIACJ7EB1D1RaY1BKstaP61AASkaGArV7uuSw7RO3IABKTU+jk+2cCJHOzY6lBMZopM0fQcR1pvBazx7CjuEEgYr51Q1CWEFwrIJmnnmeWRYAJZElEGZSGxLBD55wcM9FuAG2mH0ldkCGXAhIj3K9BIy2wDrVD2dWDeaoyLuOJ7oG+ja66QgCzfB/lmIp1hgna0B2FsZysoE2wo0MgK2pbnF8nNxNdHSAhdpQ2lHzWvAOrJSAxZRlG20w/OgcgMSLtGkCK43oyVggUFECCCcouBEjF6USQBqv1UyJBwPijWMZJ4kCGHc3aLPNsLqbu6gCJiAw9WiFQlDQKNGRAhNllk0FmVg3NaFvqR+cAJLRyrgWj6Eac7CLVABJpLEdVbu2yMXOhJog09pOcSPh+ufvddd0btHkQG51d/JCrt9xFRZpXjiVdFSChyZdzM1AnatQxWVGa7LKxIKAZLqMNlBh9TV9a5aNNhpK6lbBE1A5NJ0THVc7FkJ49e/b1ZrN5Zbjmd5/OjTlq76LeNyEESScrP4l9UsMa0vcU8GWuoz/aIa9xMa8KkFDsQy7OhVwNVb+7JUNase3cVD9iwZER/WNZzA00MMIcgUROR0IGagASdSh0NtQahrQGhNde7177bU33YhhdLmiXCFWQCPM79/BqAAlNvEhVtZQnMCeRFgHdEpCi26ZGC5cwg9oJN7/H9CcLSKRWl71aPW1HDZtF7dDaUJrL5x4ASQ1yRG1eMzdq2ZEmfTDaYuqaXg0gIXZk3WTAUEfjHqxmLlsEpGJBtbV+1JohEfoRxfDIcTpadJBxgswTdEzSJQFJyxpZCt4VwKRpR1AIB8BvZuNIr6W6CkBa63ZFIEBRsdnUJK0ZEmN0Gf3C3AmsmHhNt/0J/YjaIawZ5zWAhN4ldBV4/KZibCQJvmSNPDqUmysHubgl346xezvlSi4UZmPedkIsWBL3dNCfrgKQmAYh0beUOs6D2RqQKnQkil2UTL6WDIkBETb6nlw4js4hIlBBbiejcUi9LsSQaDCKYyhCszD4r0rHf/G8+l3GHUcMHo1RlFsOCdwePCCRE97MKjgPHkrklrvRtDUgVehIFLsonZDMJEHGLN9kGB9Tzlz/0q1i1A70bUasvRAgyZnRtzXnRBntTZsfKHUuwX7ZG6ChdioxTA8ekBh2xB6UrSnrTIBE60ho9SkFotaiNmMMbJxWBGuYOyod77WAxCx45wAkAQLJVS/b8jFjRjZ1LTu+0g+bzUbmFcWWRKeSmKRcdsrEO2B2IqkDvSTT+ujZBv8dnpPJ55xDsRifGP/92vtDXEc5QQLaIV2xylCuvZ+urf5yhGez2byQsfXey/jO58nmZHEfpmm6ufQcJ+eb+z8OR7gT9SZ7mwAAAABJRU5ErkJggg==',\n                logoLight: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASQAAAAoCAYAAABXTIcjAAAOXUlEQVR4Xu1d7bEltRGVIsBEYIgAiMBLBIYIYCPAROAlAkMEZiMAR2CIAIjASwRABHKdKWlqrkbd5+hj7nuX2qna2h9v7ow+uo9OH7V6Ynh7vR2BtyPwpxmBlNJfQgh/DyG8F0J4UXXs5xDCmxDCf2KM+P/ZXTGllAZahc7g3w+5c+iodAnv+yrG+Or4sJTStyGEv5IXvGSDnFL6d54o61G/xBj/Ub0bffyb9+4YYyx/Tyl9HUL4gg3G8TfevSkl+v4QwusY4+fsnVW/Pgwh/KvnN9a9McaPSR8wf5+J78I84n7pSinB6f4r3PxxjBFj2byE55x+L/zGeh3a8Xv2nx9jjLL/OO0HAP0zhKDaAdoAXzPHBO9KKcEfAHDeteo5L0cBqW4cBvRL1rncQQaALUDCIANMvAvvBxhYBgcH/Ik84+QMCiBUgPRJCOG7WQcpvxcAHLd2OXGeB9WRaVcYuKaU/kcWguM7usC1AxTc56aU4NBop3WtBKT6HRI4OLaNBRCLONhR7wWfgc8BIE+XMC74DRgX7N68Ukq/kfYBmF+sAqTSkK9jjF+ShnUDUnYgDNg7zrPfxBjfdyaNrdK/xhhhlDfXACDBKDD47KIgIhoD3vM+Y4eNft0FkDr6UJrozuNEP2A/GKem42Ub82zzSkAq3XoVY/yKGc7x75n1q6zIejQIBfpngdL3AksybTClpBCKbXxXAxI6/G2M8aUDDKOAhBUAlNS7mrQ8x9VY/bwVpAkQvYCUDRsT/AFp6zd1eDjobE0gZUbdwSzYo4LHkERjrN8hA2xnP9xFgLDRewASxuEUITi+hKhhFozK401QEsfYbHdKCSF1rWcdu7Xb8BWA5A6qEII0O5ZBBbqVx5KatFxwCtOpBwFJ0ZE2iup5e0pJAeGuEKe8TzQyCka4gQASY6atd1D2ONiPHzy965kAErr2EdOVRNuQ5u9wkzk+gh80ma3IkPf5vgqQ0MfmKjcKSJl5KA76bk09BQ3DdABhIk4OmVKSdCRBe1Gosuy8FdW/V8gG3Q76Xc8lg+wAsHqhxVOHbGWMGHAqemjPeB/vtSIFxV4+jTHCZvcrb0h5Gxo3ZOBKQGoKXZOAhJCLsaQbcVsw2D9ijGYoNwhIqo7khiYpJcWZ5fDm3oCUWa2ip9XOI+tIwvzWz/ZCi+cCSOaCnhdmFgKNghF+B/8CQzvpSYIv3Pj8iFSiANJr6EKHHgIpEbeybfjmoM4AksiSboxZQGg3ZhcmoRmypJQwsWyMTitKBRpMbxvSj/I4KiueZNgW01OZovESCWgHAMkEuwtCtpuwPIcvGHcwfWYblh7aM2+/ZIDBAokNG/bOMhXNHWtxrPd5G5FKFEBqbcOjg6Bmbn5OCKFF4ZiTMYBg27MY1G0yhfj1D0wU2XmheUAthxSAEO30VmvF8OTQpnZ60bjc3B2GViQnC84CO7KcxAXr8m6xH3VTLWdfzZCaOmFmDhCRPYCwQEHR5GDXnxzTcPI7kVPENoY2lmTtWAsL7W7TglRy6uMQIOUVVgGGFphNAVJ+N5uUzVEF4Y/uaEwwJGWr0xS2hdUFQzGkH3UwpFlA8kJOMO+SVdzCNroL2dGP+vnW5sddACm3m9mHtbnD8nnweFMUF3yijFXzGYJdbmAmLBRNMjAMSHlQGXu4CpAUMHw3J0KecovyiFN2JPbRCtmUNnorkbJTJ4U1LW8XDGZnmowJGc9nOhry1XCPtWL/HGP8iL1b7Ef9mGZO0tUhWxWOMwbc8h1ls4QlgCo6LJpqLggCS/oUDI1k5zcBdxaQ2C7QJYAksiSApbetTtnRDCDl3yo60mlXUHzvsH7UwSyGGZKgH5XjJt6xj+bYdDq2hWmtrPx7MiQGSK28J2WXWUkZUBa7GfbOfM8kA48MSAoD8RZYiV2MhmwiaJosREi1H9aP7gRIrtFDdxM0PqojDTIkDMFpa/3ODImFbCdgSSkxAiAtUiklKW2A5Jcpi63lfyYZmAUkFrKdRKvZXbZqdWRakjUgsjNPAhIzOrSvxSIVsB3Wj+4ESJ5t4BDzlpuUUvKOBFEdaQKQ8PqbRenOgORt3VvHmNiZwB67Zlou06IU2275nyuVDAOSmGPSop1sIKRQqsOpWoMisSMxdDIzlQUGgFecjEh0MrkPhsbDQgaTvTFdJ4+bN897nwngUx1JGCs4gJXdf2Nr9wCkzE5QZcGTE6wdNuY77gHzajFnZMKdf/HkRMtUXNCcASTlHE0ra5oNqgxIKmBUoyKvIurzCbVlh4JPTifshEjU3AMOwZHxczBQVjcH43lzj/Ds3XGEci2ujqS8yymzUuesrdaQMPfH0iJghexE/s4eB7QyWfMTwr8me6/apGhatRm6C2k3IGVkBMKzQ31WDsZqQFJW+uOgdDGLmZAtAxqL+1tHT1go2gWqEwxJIUMj4uv+G2EbebaOESpAeGVFdp3qAoakjN/xHuRmvTCypBU77wEkBUxYTqC6Y1f6SO1WAaRSjK081D0Qehhd60zMUkBSWUxuF63bUlvQAkBCMhorhHZjSMKRkSn9aDLcrYeoBUgsHNhZjyCwMqdwHTWL596icAwfVzOkHkD6MSczWiVAKCCxs5ED7IZGKwKb7yIDCiD1DGq51zs9fwUgMUZR2kVF0gsASdnRuAEYQfjvYnlPwJC8OT7ZBumvWxWBhWwZkFj+zgaQT8iQAEJgLADHRwMkVdz+PcaI3ED3ugqQTOooOBtF5QrpWQLe8XZapGs1IGU2wnSkHSgFxjCtH13JkBhAtKoLppTc+lFEo6MMSZiDbUF4QkAqZgc7QVtuTsyr8/VEDEk5AF76R5n9FYA0UwQLDe8FJCUWPuKMvBOhhoPMEAQBcWcBgqZC43C2CqkGrjynnBss9woU3qqZ7pWo8BY4FZC8vKhtY+EZAJLpuALQu3WpGgut4jdT4XLDfmgVh9WARBFwJUMSyxvU40IHpWJgTA+hhpALpbs6UgE1waHpGCtAohi48pwGIDERf0QEnzmEXA5as9CZid8jFSORclAX8GcH0suw3yRGivN1b1F7pAyKa7+rAAm7A5+zKnd5ZV6mIQnOa/mU7NSzonbuM3MG3LbpQsL7pvWjixkSO/zZSgVhgq13jIH99rij54WG35CvxYwA0qndeRGF7sI2Om4yyS8AJLZwwEzMTHmxPS3/cwnBDCABhMAevle+NnKg9EsAaZAdlWbILEkACMqQRCDeJp8cGXGLyYmMZrtNNCh5xRWB18pApjqgU3OpB5C8HU/sJlsHsdG9JYB08ANl97VmScx3ZDlCsWtSNWCEHZXum3alAFJdoA3OzJLlTN9YFbIJWgvzT4klKRPHNCRRi8LXJqBzeBUWu9MWrEG4CJCYk8FurG+u3XyLr9FuqxxGDyBR4HOMZikgZZtg58HqTHJ2v6wvCn44ewLB8z+zRK8CSF0iM0MBYSCk9wnFn34lBbDcusWHlWxaQ8rGx0RE5KHgHu/0u7wCCvPAHLnJCrznCuI9a5b399EqhnWOl5oiUrflCkCiNnH8EIQwvhLzF3Zy0fdmxni2ZTaGzPdM23pIQBLYEQYEuSfsw5A0JFnIkBgAYPWDjuFpC7S0hOrxFzEkph+pzWvdZ9VoZ+NaAxLLSbLaeAUgMUZZl8BlAIa2UxsRjuvgOc2cPfF8JjYIoNd5XwhqEoJHBSR26nljWQKYUJYkPEPSkPLKwjQACI3WF0CX6UdXaEjiqjsDSM3EOgFYW0DCQp9WO68AJAYwNSApYKoUaGPfKET/m4K2UJp5a7O44XTaoHk4QBLYEQaz7FgpWaTuirIYkGj453jsMv3oIkBiq/0MGJXftmoEdTGk3HelQNk9Qja2sLYqQbBFzWVJIlDgGa3dULksjsikTv17REBimaE3nST1djDwbEWhIKKI2qKO1K2hjHq5wCy6NCRh5Rxt6vF3rfpaI4CkONalgCQCw0gSKdqNjG8wHNjufqWUUC6YbR7gfis8ZkB+s4sqaF47eSiNfChAGnEiMV72Ph64EpCY83hOS7WBHo8fGUvv+cImQ0/zrHtPjiL0w/rCiPK582M7loRsKSUkRoJNWqH58Z0jjPD4e9huASVEC15aA+srdihZqFfvCnaHmI8GSCz3oXVwU1kNTZa0OGQb3XZeqh+tDtlEek7TLNiZNqz89QHNCUBSwnnmpDMLDAPoqc+7s4c7f7fKBjG968R2sp0pet0eHj4MIAmGh/5bJU+UrFTr09/LGFKeoN6V2aTQE0a3NDGyR9cjLIuFBCejF+zCYki9tXxGGNLMFJkpHkKfZ97b6qfCjqxPSyna4s6sHgmQGDsya/UKX8DABFrfwVoNSIrT1Qa1LP+oPFg0apoWkUGW5aVIDE+cp7pUC2Mp3sFc1u6nYkhmDtBh/kbsiAGVpR0p7MgDfvY59b0Kx0MAkhgSMHGaUUfrW12rAUmJq2vDWaofXRCysd0iaYdwZJ4FYB2uFFBNwr0YEhZWVI2sD+WewEQIcRkAHf+O3L0PjWqVbH7dkjjihsdGCB4FkJSVjG3fd1HHw0q0GpB6dSSJXfRY3kpAEkFEyr4XNYe6DvYwQxLfV4b2HoAkg1FuO2wJ9vlB7/xX95vvFcNxl8ELiwaas+mDzx6QRIN3qwoeJk+mjlcB0oCOJLGLXoMUjYSGbGKYRZ9zGO8uvU/oh/tucfsdzbsakHBm9NXIOVFxJ9kyEVY6l7Ej9QvQinb68hEASWFHdAdH1DpwW61RLGVIuR098f9y/WgxQ6J9UfO0crsUJrvP0QJAUnZhrwAkAAFkhFIxo1m6Vl1o8jhgLlS2hGodAMBTdcrD4qDsREoHekWm9SaqHf4z3JfZFsvFAHWk8fujj0cu37J9rNG5UElxylEefZwerf35CA+ABHOLf+U8WSkWBwDCkam72rhob+H/WrvKYRGXdawAAAAASUVORK5CYII=',\n            },\n        };\n    }\n    async save(scope) {\n        if (this.busy) {\n            const msg = lang.transl('_');\n            msgBox.error(msg);\n            return;\n        }\n        this.busy = true;\n        this.displayName = window.confirm(lang.transl('_'));\n        this.loadMaskURL();\n        let createIds = [];\n        if (scope === 'all') {\n            const allPlan = await API.getAllSupportingPlan();\n            if (Array.isArray(allPlan.body) && allPlan.body.length > 0) {\n                createIds = allPlan.body.map((plan) => plan.creatorId);\n            }\n            else {\n                const msg = lang.transl('_');\n                log.error(msg);\n                msgBox.error(msg);\n                return;\n            }\n        }\n        else {\n            const createId = API.getCreatorId(window.location.href);\n            createIds.push(createId);\n        }\n        const total = createIds.length;\n        let no = 0;\n        log.success(lang.transl('_'));\n        log.log(`${no} / ${total}`, 1, false, 'saveFanCard');\n        for (const createId of createIds) {\n            const data = await this.getFanCardData(createId);\n            if (data) {\n                await this.generateSupporterCard(data.backgroundURL, data.title, data.fee, data.creatorName, data.yourName, data.sinceDate);\n                log.log(lang.transl('_') + ': ' + data.creatorName);\n            }\n            no++;\n            log.log(`${no} / ${total}`, 1, false, 'saveFanCard');\n            if (no < total) {\n                await Utils.sleep(1000);\n            }\n        }\n        // \n        if (this.errorCount < total) {\n            const msg = lang.transl('_');\n            log.success(msg);\n            msgBox.success(msg);\n        }\n        // \n        log.log('');\n        // \n        this.busy = false;\n        this.errorCount = 0;\n    }\n    async getFanCardData(createId) {\n        let supportInfo = null;\n        try {\n            supportInfo = await API.getSupportingPlanForOneCreator(createId);\n        }\n        catch (error) {\n            this.errorCount++;\n            //  404 \n            let msg = lang.transl('_xx', createId);\n            if ((error === null || error === void 0 ? void 0 : error.status) !== 404) {\n                msg = lang.transl('_xx', createId);\n            }\n            log.error(msg);\n            msgBox.error(msg);\n            return null;\n        }\n        return Object.assign(Object.assign({}, supportInfo.body.plan), { creatorName: supportInfo.body.plan.user.name, yourName: supportInfo.body.supportTransactions[0].supporter.name, backgroundURL: supportInfo.body.plan.coverImageUrl, sinceDate: supportInfo.body.supportStartDatetime });\n    }\n    // \n    loadMaskURL() {\n        if (!this.config.assets.cardMask) {\n            this.config.assets.cardMask = chrome.runtime.getURL('images/cardMask.png');\n        }\n    }\n    async loadImage(url) {\n        //  pixiv \n        // https://pixiv.pximg.net/c/1280x800_90_a2_g5/fanbox/public/images/plan/335879/cover/VyxOduCIButmyx17qGlmYOW4.jpeg\n        //  img  canvas  blob URL\n        //  chrome-extension://  URL  img  src\n        if (url.startsWith('http') || url.startsWith('chrome-extension://')) {\n            // const fetchOptions = url.startsWith('http') ? { credentials: 'same-origin' } : {}\n            const res = await fetch(url, { credentials: 'same-origin' });\n            const blob = await res.blob();\n            url = URL.createObjectURL(blob);\n        }\n        return new Promise((resolve, reject) => {\n            const img = document.createElement('img');\n            img.onload = () => {\n                if (url.startsWith('blob')) {\n                    URL.revokeObjectURL(url);\n                }\n                return resolve(img);\n            };\n            img.onerror = (err) => reject(new Error(`Failed to load image: ${url}`));\n            img.src = url;\n        });\n    }\n    //  maxWidth\n    truncateText(ctx, text, fontSize, maxWidth) {\n        ctx.font = `${fontSize}px ${this.config.fontFamily}`;\n        if (ctx.measureText(text).width <= maxWidth) {\n            return text;\n        }\n        let truncatedText = text;\n        while (truncatedText.length > 1 &&\n            ctx.measureText(truncatedText + '...').width > maxWidth) {\n            truncatedText = truncatedText.slice(0, -1);\n        }\n        return truncatedText.length < text.length ? `${truncatedText}...` : text;\n    }\n    drawTextWithOutline(ctx, text, x, y, fontSize, textAlign, fontWeight = 'normal') {\n        ctx.textAlign = textAlign;\n        ctx.font = `${fontWeight} ${fontSize}px ${this.config.fontFamily}`;\n        // multiply\n        ctx.globalCompositeOperation = 'multiply';\n        // /\n        ctx.lineJoin = 'round';\n        ctx.lineWidth = 5;\n        ctx.strokeStyle = '#bbb';\n        ctx.strokeText(text, x, y);\n        // /\n        ctx.fillStyle = '#ddd';\n        ctx.lineWidth = 4;\n        ctx.strokeText(text, x + 2, y + 2);\n        // \n        ctx.globalCompositeOperation = 'source-over';\n        ctx.fillStyle = '#fff';\n        ctx.lineWidth = 0;\n        ctx.fillText(text, x, y);\n        return ctx.measureText(text).width;\n    }\n    drawCroppedBackgroundImage(ctx, image) {\n        const canvasWidth = ctx.canvas.width;\n        const canvasHeight = ctx.canvas.height;\n        const imgWidth = image.width;\n        const imgHeight = image.height;\n        const canvasAspectRatio = canvasWidth / canvasHeight;\n        const imgAspectRatio = imgWidth / imgHeight;\n        let sourceX = 0, sourceY = 0, sourceWidth = imgWidth, sourceHeight = imgHeight;\n        if (imgAspectRatio > canvasAspectRatio) {\n            //  Image  canvas \n            sourceWidth = imgHeight * canvasAspectRatio;\n            sourceX = (imgWidth - sourceWidth) / 2;\n        }\n        else {\n            //  Image  canvas /\n            sourceHeight = imgWidth / canvasAspectRatio;\n            sourceY = (imgHeight - sourceHeight) / 2;\n        }\n        ctx.drawImage(image, sourceX, sourceY, sourceWidth, sourceHeight, 0, 0, canvasWidth, canvasHeight);\n    }\n    drawAdaptiveLogo(ctx, logoLight, logoDark, x, y, width, height) {\n        const imageData = ctx.getImageData(x, y, width, height);\n        const data = imageData.data;\n        let r = 0, g = 0, b = 0;\n        // \n        for (let i = 0; i + 3 < data.length; i += 16) {\n            r += data[i];\n            g += data[i + 1];\n            b += data[i + 2];\n        }\n        const pixelCount = data.length / 16;\n        const avgBrightness = (r / pixelCount + g / pixelCount + b / pixelCount) / 3;\n        //  Logo Logo\n        const useDarkLogo = avgBrightness > 210;\n        ctx.drawImage(useDarkLogo ? logoDark : logoLight, x, y, width, height);\n    }\n    drawCanvasContent(canvas, cardMaskImage, logoLightImage, logoDarkImage, backgroundImage, planTitle, fee, name, since) {\n        canvas.width = this.config.canvasWidth;\n        canvas.height = this.config.canvasHeight;\n        const ctx = canvas.getContext('2d');\n        // 1. \n        ctx.fillStyle = '#fff';\n        ctx.fillRect(0, 0, this.config.canvasWidth, this.config.canvasHeight);\n        this.drawCroppedBackgroundImage(ctx, backgroundImage);\n        // 2. \n        let rightEdge = this.config.canvasWidth - 96;\n        let currentY = 96;\n        const truncatedTitle = this.truncateText(ctx, planTitle, 32, rightEdge - this.config.canvasWidth / 3);\n        this.drawTextWithOutline(ctx, truncatedTitle, rightEdge, currentY, 32, 'right', 'bold');\n        // 3. \n        currentY += 64;\n        let currentX = rightEdge;\n        currentX -=\n            this.drawTextWithOutline(ctx, 'month', currentX, currentY, 40, 'right') +\n                8;\n        currentX -=\n            this.drawTextWithOutline(ctx, '/', currentX, currentY, 40, 'right') + 8;\n        currentX -=\n            this.drawTextWithOutline(ctx, 'JPY', currentX, currentY, 40, 'right') + 16;\n        this.drawTextWithOutline(ctx, new Intl.NumberFormat('ja-JP').format(fee), currentX, currentY, 56, 'right');\n        // 4. \n        const leftEdge = 96;\n        currentY = this.config.canvasHeight - 64;\n        this.drawTextWithOutline(ctx, since, leftEdge, currentY, 48, 'left');\n        this.drawTextWithOutline(ctx, 'SINCE', leftEdge, currentY - 56, 32, 'left');\n        // 5. \n        currentY -= 80;\n        // \n        const _name = this.displayName ? name : '';\n        const truncatedUserName = this.truncateText(ctx, _name, 48, this.config.canvasWidth / 2 - leftEdge);\n        this.drawTextWithOutline(ctx, truncatedUserName, leftEdge, currentY - 56, 48, 'left');\n        this.drawTextWithOutline(ctx, 'NAME', leftEdge, currentY - 56 - 56, 32, 'left');\n        // 6.  PIXIV FANBOX Logo\n        const logoX = this.config.canvasWidth - 64 - 400;\n        const logoY = this.config.canvasHeight - 64 - 54;\n        this.drawAdaptiveLogo(ctx, logoLightImage, logoDarkImage, logoX, logoY, 400, 54);\n        // 7. \n        ctx.globalCompositeOperation = 'destination-in';\n        ctx.drawImage(cardMaskImage, 0, 0, this.config.canvasWidth, this.config.canvasHeight);\n    }\n    /**  Blob URL */\n    async generateSupporterCard(bgImageUrl, planTitle, fee, creatorName, yourName, sinceDate) {\n        // \n        const [cardMask, logoLight, logoDark, background] = await Promise.all([\n            this.loadImage(this.config.assets.cardMask),\n            this.loadImage(this.config.assets.logoLight),\n            this.loadImage(this.config.assets.logoDark),\n            this.loadImage(bgImageUrl),\n        ]);\n        const canvas = document.createElement('canvas');\n        //  \"2025.12.25\"\n        const options = {\n            year: 'numeric',\n            month: '2-digit',\n            day: '2-digit',\n        };\n        const since = new Date(sinceDate)\n            .toLocaleDateString('ja-JP', options)\n            .replace(/\\//g, '.');\n        //  canvas \n        this.drawCanvasContent(canvas, cardMask, logoLight, logoDark, background, planTitle, fee, yourName, since);\n        // \n        const blobUrl = await this.canvasToBlobUrl(canvas);\n        const creator = Utils.replaceUnsafeStr(creatorName);\n        const fileName = `fanbox/${creator}/fancard-${creator}.png`;\n        this.download(blobUrl, fileName);\n    }\n    async canvasToBlobUrl(canvas) {\n        return new Promise((resolve, reject) => {\n            canvas.toBlob((blob) => {\n                if (blob) {\n                    const blobUrl = URL.createObjectURL(blob);\n                    resolve(blobUrl);\n                }\n                else {\n                    reject(new Error('Failed to convert canvas to Blob'));\n                }\n            }, 'image/png');\n        });\n    }\n    download(blobUrl, fileName) {\n        const sendData = {\n            msg: 'save_file_no_replay',\n            fileUrl: blobUrl,\n            fileName,\n            id: 'fake',\n            taskBatch: 0,\n        };\n        chrome.runtime.sendMessage(sendData);\n    }\n}\nconst saveFanCard = new SaveFanCard();\nexport { saveFanCard };\n","import { EVT } from '../EVT';\nimport { lang } from '../Lang';\n// \nclass ShowSkipCount {\n    constructor(el) {\n        this.count = 0; // \n        this.el = el;\n        lang.register(this.el);\n        this.bindEvents();\n    }\n    bindEvents() {\n        window.addEventListener(EVT.list.crawlStart, () => {\n            this.reset();\n        });\n        window.addEventListener(EVT.list.downloadStop, () => {\n            // \n            this.count = 0;\n        });\n        window.addEventListener(EVT.list.skipDownload, () => {\n            this.addCount();\n        });\n        window.addEventListener(EVT.list.downloadStart, () => {\n            if (this.count === 0) {\n                this.reset();\n            }\n        });\n        window.addEventListener(EVT.list.downloadComplete, () => {\n            // \n            this.count = 0;\n        });\n    }\n    addCount() {\n        this.count++;\n        lang.updateText(this.el, '_n', this.count.toString());\n    }\n    reset() {\n        this.count = 0;\n        lang.updateText(this.el, '');\n    }\n}\nexport { ShowSkipCount };\n","import { pageType } from '../PageType';\nimport { EVT } from '../EVT';\nimport { states } from '../States';\nimport { Tools } from '../Tools';\n/**\n \n \n \n \n \n \n \n*/\nvar Flags;\n(function (Flags) {\n    Flags[\"crawling\"] = \"\\u2191\";\n    Flags[\"waiting\"] = \"\\u2192\";\n    Flags[\"readyDownload\"] = \"\\u25B6\";\n    Flags[\"downloading\"] = \"\\u2193\";\n    Flags[\"paused\"] = \"\\u2551\";\n    Flags[\"stopped\"] = \"\\u25A0\";\n    Flags[\"completed\"] = \"\\u2713\";\n    Flags[\"space\"] = \" \";\n})(Flags || (Flags = {}));\n// \nclass ShowStatusOnTitle {\n    constructor() {\n        this.bindEvents();\n    }\n    bindEvents() {\n        window.addEventListener(EVT.list.crawlStart, () => {\n            this.set(Flags.crawling);\n        });\n        window.addEventListener(EVT.list.worksUpdate, () => {\n            this.set(Flags.waiting);\n        });\n        for (const ev of [EVT.list.crawlFinish, EVT.list.resume]) {\n            window.addEventListener(ev, () => {\n                this.set(Flags.readyDownload);\n            });\n        }\n        window.addEventListener(EVT.list.downloadStart, () => {\n            this.set(Flags.downloading);\n        });\n        //  pixiv \n        // \n        //  pixiv \n        //  pageSwitch  pixiv pixiv  pageSwitch \n        //  pixiv \n        window.addEventListener(EVT.list.pageSwitch, () => {\n            window.clearInterval(this.pageSwitchTimer);\n            if (!states.downloading) {\n                return;\n            }\n            const nowTitle = Tools.getPageTitle();\n            this.pageSwitchTimer = window.setInterval(() => {\n                if (Tools.getPageTitle() !== nowTitle) {\n                    this.set(Flags.downloading);\n                    window.clearInterval(this.pageSwitchTimer);\n                }\n            }, 500);\n        });\n        window.addEventListener(EVT.list.downloadComplete, () => {\n            this.set(Flags.completed);\n        });\n        window.addEventListener(EVT.list.downloadPause, () => {\n            this.set(Flags.paused);\n        });\n        window.addEventListener(EVT.list.downloadStop, () => {\n            this.set(Flags.stopped);\n        });\n        window.addEventListener(EVT.list.crawlEmpty, () => {\n            this.reset();\n        });\n    }\n    // \n    includeFlag(flag) {\n        if (!flag) {\n            // \n            for (const value of Object.values(Flags)) {\n                const str = `[${value}]`;\n                if (document.title.includes(str)) {\n                    return true;\n                }\n            }\n        }\n        else {\n            // \n            const str = `[${flag}]`;\n            return document.title.includes(str);\n        }\n        return false;\n    }\n    //  title\n    reset() {\n        window.clearInterval(this.flashingTimer);\n        const metaTagPage = [pageType.list.UserHome, pageType.list.UserPostList];\n        //  og:title og:title  og:title \n        if (metaTagPage.includes(pageType.type)) {\n            const ogTitle = document.querySelector('meta[property=\"og:title\"]');\n            if (ogTitle) {\n                document.title = ogTitle.content;\n                return;\n            }\n        }\n        //  title \n        const index = document.title.indexOf(']');\n        document.title = document.title.substring(index + 1);\n    }\n    // \n    set(flag) {\n        const str = `[${flag}]`;\n        //  title \n        if (!this.includeFlag()) {\n            document.title = `${str} ${document.title}`;\n        }\n        else {\n            // \n            document.title = document.title.replace(/\\[.?\\]/, str);\n        }\n        // \n        if (flag === Flags.readyDownload || flag === Flags.waiting) {\n            this.flashing(flag);\n        }\n        else {\n            window.clearInterval(this.flashingTimer);\n        }\n    }\n    // \n    flashing(flag) {\n        window.clearInterval(this.flashingTimer);\n        const str = `[${flag}]`;\n        const whiteSpace = `[${Flags.space}]`;\n        this.flashingTimer = window.setInterval(() => {\n            if (this.includeFlag(flag)) {\n                // \n                document.title = document.title.replace(str, whiteSpace);\n            }\n            else {\n                if (this.includeFlag(Flags.space)) {\n                    // \n                    document.title = document.title.replace(whiteSpace, str);\n                }\n                else {\n                    // \n                    window.clearInterval(this.flashingTimer);\n                }\n            }\n        }, 500);\n    }\n}\nnew ShowStatusOnTitle();\n","// \n// \n// {} \n// <br>  \\n \nconst langText = {\n    _: [\n        '',\n        '',\n        'start crawling',\n        '',\n        ' ',\n        ' ',\n    ],\n    _: ['  ', '  ', ' or ', '  ', '  ', '  '],\n    _: ['  ', '  ', ' and ', '  ', '  ', '  '],\n    _: [\n        '',\n        '',\n        'Task starts',\n        '',\n        ' ',\n        ' ',\n    ],\n    _: [\n        '',\n        '',\n        'Crawl finished but did not find files that match the filter criteria.',\n        '',\n        '       .',\n        ' ,  ,   ,  .',\n    ],\n    _: [\n        '',\n        '',\n        'The current task has not yet been completed',\n        '',\n        '    ',\n        '    ',\n    ],\n    _2: [\n        '',\n        '',\n        'The current task has not yet been completed, please wait for completion before downloading.',\n        '',\n        '    .    .',\n        '    , ,    .',\n    ],\n    _: ['', '', 'close', '', '', ''],\n    _: [\n        '',\n        '',\n        'Output information',\n        '',\n        ' ',\n        ' ',\n    ],\n    _: ['', '', 'Copy', '', '', ''],\n    _: [\n        '',\n        '',\n        'Has been copied to the clipboard, ready to paste',\n        '',\n        ' .   .',\n        '   ,  .',\n    ],\n    _: [\n        '',\n        '',\n        'Download settings',\n        '',\n        ' ',\n        ' ',\n    ],\n    _: [\n        '/',\n        '/',\n        'Collapse/expand settings',\n        '/',\n        ' /',\n        '/ ',\n    ],\n    _github: [\n        'Github  star',\n        'Github  star',\n        'Github page, if you like, please star it',\n        'Github  star ',\n        'Github ,  Star .',\n        '  Github, ,  ',\n    ],\n    _pixivDownloader: [\n        'Pixiv ',\n        'Pixiv ',\n        'Pixiv Downloader',\n        'Pixiv ',\n        'Pixiv ',\n        ' Pixiv',\n    ],\n    _: ['', '', 'Crawl', '', '', ''],\n    _: ['', '', 'Download', '', '', ''],\n    _: ['', '', 'Other', '', ' ', ''],\n    _: [\n        ' Alt + X',\n        ' Alt + X',\n        'Use Alt + X to show and hide the download panel',\n        'Alt + X /',\n        'Alt + X       .',\n        ' Alt + X      ',\n    ],\n    _n: [\n        ' {} ',\n        ' {} ',\n        'Crawl a total of {} files',\n        ' {} ',\n        ' {}  .',\n        '  {} ',\n    ],\n    _: [\n        '<span class=\"key\"></span>',\n        '<span class=\"key\"></span>',\n        '<span class=\"key\">Naming</span> rule',\n        '<span class=\"key\"></span>',\n        '<span class=\"key\"></span> ',\n        '<span class=\"key\"></span> ',\n    ],\n    _: [\n        ` '<span class=\"key\">/</span>' `,\n        `<span class=\"key\">/</span>`,\n        `You can create a directory with '<span class=\"key\">/</span>'. Example:`,\n        ` '<span class=\"key\">/</span>' `,\n        `'<span class=\"key\">/</span>'     . :`,\n        `     '<span class=\"key\">/</span>'. :`,\n    ],\n    _user: [\n        ``,\n        ``,\n        `Creator's name`,\n        ``,\n        ` `,\n        ` `,\n    ],\n    _creator_id: [\n        ` ID ID`,\n        ` ID ID`,\n        `Creator's ID. It is usually the creator's English name or Romanized name. After you enter a certain creator's page, you can see this ID in the address bar.`,\n        ` ID ID `,\n        ` ID.       .         ID   .`,\n        `ID .        .           ID   `,\n    ],\n    _uid: [\n        ` ID Pixiv  ID`,\n        ` ID Pixiv  ID`,\n        `Creator's user ID, it is a pure number. It is usually his Pixiv user ID.`,\n        ` ID Pixiv  ID `,\n        `  ID,  .   Pixiv  ID.`,\n        `ID  ,   .    ID  Pixiv.`,\n    ],\n    _: [\n        '',\n        '',\n        'Preview file name',\n        '',\n        ' ',\n        '  ',\n    ],\n    _: [\n        '<span class=\"key\"></span>',\n        '<span class=\"key\"></span>',\n        'Download <span class=\"key\">number</span>',\n        '<span class=\"key\"></span>',\n        ' <span class=\"key\"></span>',\n        '<span class=\"key\"></span> ',\n    ],\n    _: [\n        ' 1-3 ',\n        ' 1-3 ',\n        'You can type a number between 1-3 to set the number of concurrent downloads',\n        '1-3 ',\n        '1-3         .',\n        '   1  3,     ',\n    ],\n    _1: [\n        '',\n        '',\n        'Start download',\n        '',\n        ' ',\n        ' ',\n    ],\n    _2: [\n        '',\n        '',\n        'Pause download',\n        '',\n        ' ',\n        ' ',\n    ],\n    _3: [\n        '',\n        '',\n        'Stop download',\n        '',\n        ' ',\n        ' ',\n    ],\n    _4: [\n        ' url',\n        'url',\n        'Copy URLs',\n        'URL',\n        'URL ',\n        ' URL',\n    ],\n    _: [\n        ' ',\n        ' ',\n        'Current state ',\n        ' ',\n        '  ',\n        '  ',\n    ],\n    _: [\n        '',\n        '',\n        'Not yet started downloading',\n        '',\n        '   .',\n        '   ',\n    ],\n    _: [\n        '',\n        '',\n        'Common problems',\n        '',\n        '  ',\n        '  ',\n    ],\n    _uuid: [\n        `<br>\n<br>\n<br>\n1.  Chrome  Edge  Google  Microsoft  Pixiv  Fanbox \n<br>\n2. IDM Integration ModuleChrono mage Downloade <br>\n<br>\n<br>\n chrome.downloads.onDeterminingFilename <br>\nuser/image.jpg<br>\n onDeterminingFilename  URL <br>\n URL <br>`,\n        `<br>\n<br>\n<br>\n1.  Chrome  Edge  Google  Microsoft  Pixiv  Fanbox \n<br>\n2. IDM Integration ModuleChrono mage Downloade <br>\n<br>\n<br>\n chrome.downloads.onDeterminingFilename <br>\nuser/image.jpg<br>\n onDeterminingFilename  URL <br>\n URL <br>`,\n        `The downloader detects that the file name after downloading may be abnormal. If the file name is a string of random letters and numbers, or does not use the naming rules in the downloader settings, it means that this problem has occurred. <br>\nThis is not a problem with the downloader itself, but it is affected by other extensions, causing the file name set by the downloader to be lost. <br>\nWhen you encounter this problem, you can consider the following solutions: <br>\n1. Recommended: You can create a new browser local user to use this downloader. For Chrome and Edge browsers, you can click the avatar icon in the upper right corner of the browser and create a new profile (no need to log in to a Google or Microsoft account). Each user has a separate browser window, so you can install this downloader for the new user and do not install other extensions. When you need to download files from Pixiv or Fanbox, use this user to download to avoid being affected by other extensions. <br>\n2. You can find out the extensions that cause this problem and temporarily disable them when using this downloader. These extensions usually have the functions of downloading files and managing downloads, such as: IDM Integration Module, Chrono Download Manager, mage Downloade, etc. If you are not sure which extension is causing the problem, you can disable all extensions, then enable them one by one and use the downloader to download to identify which extension is causing the issue. <br>\n<br>\nTechnical details: <br>\nSome extensions listen to the chrome.downloads.onDeterminingFilename event, which can easily cause the preset file name to be lost. <br>\nSuppose this downloader sets a custom file name for a file: user/image.jpg. <br>\nIf another extension listens to the onDeterminingFilename event, the browser will ask it for suggestions for the file name (giving it a chance to modify the file name). The problem is: the file name passed by the browser is the default (the last path in the URL), not the file name set by the downloader. <br>\nSo the file name set by the downloader is lost, and the file name becomes the last path in the URL. <br>`,\n        `<br>\n<br>\n<br>\n1. ChromeEdgeGoogleMicrosoftPixivFanbox <br>\n2. IDM Integration ModuleChrono Download Managermage Downloade 1<br>\n<br>\n: <br>\n chrome.downloads.onDeterminingFilename <br>\nuser/image.jpg<br>\n onDeterminingFilename URL <br>\n URL <br>`,\n        `        .                  . <br>\n                . <br>\n       . <br>\n1.  :          . Chrome  Edge             (Google  Microsoft    ).                  . Pixiv  Fanbox              . <br>\n2.              .     IDM  , Chrono Download Manager, mage Downloade         .        ,                  . <br>\n<br>\n  : <br>\n   chrome.downloads.onDeterminingFilename  ,          . <br>\n      (user/image.jpg)   . <br>\n   onDeterminingFilename   ,               .           (URL  ) . <br>\n     ,   URL   . <br>`,\n        ` ,        .               ,    ,     .<br>\n    ,    , -   ,  , .<br>\n     ,    :<br>\n1. :           .   Chrome  Edge                (      Google  Microsoft).      ,              .       Pixiv  Fanbox,     ,     .<br>\n2.    ,   ,        .          , : IDM Integration Module, Chrono Download Manager, mage Downloade  . .    ,    ,     ,          ,  ,    .<br>\n<br>\n :<br>\n    chrome.downloads.onDeterminingFilename,         .<br>\n,      : user/image.jpg.<br>\n     onDeterminingFilename,         (     ).   ,           (      URL),    ,  .<br>\n ,  ,  , ,         URL.<br>`,\n    ],\n    _: [\n        '',\n        '',\n        'Downloading',\n        '',\n        ' ',\n        ' ',\n    ],\n    _: [\n        ' !',\n        ' !',\n        ' Download finished!',\n        ' ',\n        '  !',\n        '  !',\n    ],\n    _: [\n        '',\n        '',\n        'Download is paused',\n        '',\n        ' ',\n        ' ',\n    ],\n    _: [\n        '',\n        '',\n        'Download stopped',\n        '',\n        ' ',\n        ' ',\n    ],\n    _: [\n        '',\n        '',\n        'Downloaded',\n        '',\n        '',\n        '',\n    ],\n    _: [\n        '',\n        '',\n        'Crawl finished!',\n        '',\n        ' !',\n        ' !',\n    ],\n    _: [\n        '<span class=\"key\"></span>',\n        '<span class=\"key\"></span>',\n        '<span class=\"key\">Automatic</span> download start',\n        '<span class=\"key\"></span>',\n        '<span class=\"key\"></span>  ',\n        '<span class=\"key\"></span>  ',\n    ],\n    _: [\n        '',\n        '',\n        'When the \"Start Download\" status is available, the download starts automatically without needing to click the download button.',\n        '',\n        '\" \"         .',\n        '    ,        .',\n    ],\n    _: [\n        ' {} ',\n        ' {} ',\n        'File {} download failed',\n        ' {} ',\n        '{}   ',\n        '    {}',\n    ],\n    _: [\n        '',\n        '',\n        'Do you want to reset the settings?',\n        '',\n        ' ?',\n        ' ?',\n    ],\n    _id: [\n        '<span class=\"key\">ID</span> ',\n        '<span class=\"key\">ID</span> ',\n        '<span class=\"key\">ID</span> range',\n        '<span class=\"key\">ID</span>',\n        '<span class=\"key\">ID</span> ',\n        '<span class=\"key\"> ID</span>',\n    ],\n    _id: [\n        ' ID',\n        ' ID',\n        'You can enter a post ID to crawl posts that are newer or older than it.',\n        'ID',\n        ' ID        .',\n        '   ID ,   ,     .',\n    ],\n    _: ['', '', 'Greater than', '', ' ', ''],\n    _: ['', '', 'Less than', '', ' ', ''],\n    _: [\n        '<span class=\"key\"></span>',\n        '<span class=\"key\"></span>',\n        '<span class=\"key\">Posting</span> time',\n        '<span class=\"key\"></span>',\n        ' <span class=\"key\"></span>',\n        '<span class=\"key\"></span> ',\n    ],\n    _: [\n        '',\n        '',\n        'You can download posts published within a specified time',\n        '',\n        '       .',\n        '   ,     ',\n    ],\n    _: [\n        '',\n        '',\n        'No data is available.',\n        '',\n        '   .',\n        '  .',\n    ],\n    _: [\n        '',\n        '',\n        'Minimum value',\n        '',\n        '',\n        ' ',\n    ],\n    _: [\n        '',\n        '',\n        'Maximum value',\n        '',\n        '',\n        ' ',\n    ],\n    _: [\n        '<span class=\"key\"></span>',\n        '<span class=\"key\"></span>',\n        '<span class=\"key\">File</span> type',\n        '<span class=\"key\"></span>',\n        '<span class=\"key\"></span> ',\n        '<span class=\"key\"></span> ',\n    ],\n    _: ['', '', 'Image', '', '', ''],\n    _: ['', '', 'Video', '', '', ''],\n    _: ['', '', 'Audio', '', '', ''],\n    _: [\n        '',\n        '',\n        'Compressed file',\n        '',\n        ' ',\n        ' ',\n    ],\n    _PS: [\n        '',\n        '',\n        'Source file',\n        '',\n        ' ',\n        ' ',\n    ],\n    _: [\n        '<span class=\"key\"></span>',\n        '<span class=\"key\"></span>',\n        '<span class=\"key\">Fee</span> type',\n        '<span class=\"key\"></span>',\n        '<span class=\"key\"></span> ',\n        '<span class=\"key\"></span> ',\n    ],\n    _: [\n        '',\n        '',\n        'Free post',\n        '',\n        ' ',\n        ' ',\n    ],\n    _: [\n        '',\n        '',\n        'Paid post',\n        '',\n        ' ',\n        ' ',\n    ],\n    _: [\n        '<span class=\"key\"></span>',\n        '<span class=\"key\"></span>',\n        '<span class=\"key\">Price</span> range',\n        '<span class=\"key\"></span>',\n        '<span class=\"key\"></span> ',\n        '<span class=\"key\"></span> ',\n    ],\n    _: [\n        '<span class=\"key\"></span>',\n        '<span class=\"key\"></span>',\n        'Save external <span class=\"key\">links</span> in the posts',\n        '<span class=\"key\"></span>',\n        '  <span class=\"key\"></span> ',\n        '  <span class=\"key\"></span>  ',\n    ],\n    _: [\n        '<span class=\"key\"></span>',\n        '<span class=\"key\"></span>',\n        'Save the <span class=\"key\">text</span> in the posts',\n        '<span class=\"key\"></span>',\n        ' <span class=\"key\"></span> ',\n        ' <span class=\"key\"></span>  ',\n    ],\n    _: [\n        ' {} ',\n        ' {} ',\n        '{} files acquired',\n        '{} ',\n        '{}  ',\n        ' {} ',\n    ],\n    _: ['', '', 'Earlier than', '', ' ', ''],\n    _: ['', '', 'Later than', '', ' ', ''],\n    _: [\n        '',\n        '',\n        'Crawl all sponsored posts',\n        '',\n        '     ',\n        '    ',\n    ],\n    _: [\n        '',\n        '',\n        `There is no available data, probably because you don't have a sponsored creator. If you think it's a program error, please give feedback to the author.`,\n        '',\n        '   .      .      .',\n        '  , ,       .   ,    , ,  .',\n    ],\n    _: [\n        '',\n        '',\n        'Crawl all posts of followed users',\n        '',\n        '     .',\n        '    ',\n    ],\n    _: [\n        `\\n\\n\\n\\n`,\n        `\\n\\n\\n\\n`,\n        `Tip: Followed users do not include sponsored users. \\n\\nIf you have multiple followed users, crawling all their posts may generate a large number of network requests. You can set some filtering conditions as needed to avoid unnecessary crawling. For example, set \"fee type\", \"post time\", etc. \\n\\nDo you want to start crawling now?`,\n        `\\n\\n\\n\\n`,\n        `     . \\n\\n    ,         .           .  , \" \", \" \"  . \\n\\n  ?`,\n        `:      .\\n\\n    ,           .      ,    . ,   ,    ..\\n\\n  ?`,\n    ],\n    _: [\n        '',\n        '',\n        'Followed creators',\n        '',\n        '  ',\n        ' ',\n    ],\n    _: [\n        '',\n        '',\n        'No followed users found',\n        '',\n        '     .',\n        '   ',\n    ],\n    _: [\n        ' Fanbox ',\n        ' Fanbox ',\n        'You can use this feature on the Fanbox homepage and the followed creators page.',\n        'Fanbox',\n        '  Fanbox       .',\n        '        Fanbox     .',\n    ],\n    _: [\n        '',\n        '',\n        \"Crawl this user's posts\",\n        '',\n        '   ',\n        '   ',\n    ],\n    _tag: [\n        ' tag ',\n        ' tag ',\n        'Crawl posts with this tag',\n        '',\n        '   ',\n        '    ',\n    ],\n    _: [\n        '',\n        '',\n        'Crawl this post',\n        '',\n        '  ',\n        '  ',\n    ],\n    _: [\n        '',\n        '',\n        'Crawl the cover image of the product',\n        '',\n        '   ',\n        '  ',\n    ],\n    _postid: [\n        ' ID',\n        ' ID',\n        'Post ID',\n        'ID',\n        ' ID',\n        'ID ',\n    ],\n    _title: [\n        '',\n        '',\n        'Post title',\n        '',\n        ' ',\n        ' ',\n    ],\n    _tags: [\n        ' tag ',\n        ' tag ',\n        \"Post's tag list (may be empty)\",\n        '',\n        '   (  )',\n        '   (  )',\n    ],\n    _date: [\n        ' 2019-08-29',\n        ' 2019-08-29',\n        'The publication date of the post, such as 2019-08-29',\n        ' 2019-08-29',\n        ' , : 2019-08-29',\n        ' , , 2019-08-29',\n    ],\n    _fee: [\n        '',\n        '',\n        'Post price',\n        '',\n        ' ',\n        ' ',\n    ],\n    _index: [\n        '',\n        '',\n        'The serial number of the file in the post it belongs to',\n        '',\n        '  ',\n        '    ',\n    ],\n    _name: [\n        '',\n        '',\n        'File name in the post',\n        '',\n        ' ',\n        '   ',\n    ],\n    _ext: [\n        '',\n        '',\n        'File extension',\n        '',\n        ' ',\n        ' ',\n    ],\n    _: [\n        '{postid}-{title}<br> {postid}  {index}',\n        '{postid}-{title}<br> {postid}  {index}',\n        'You can use multiple tags; it is recommended to add separator characters between different tags. Example: {postid}-{title} <br>It is recommended to include {postid} and {index} in the naming rules to prevent duplicate file names.',\n        '{postid}-{title} <br>{postid}{index}',\n        '    .         . : {postid}-{title} <br>      {postid} {index}   .',\n        '    ;      . : {postid}-{title}<br>  {postid}  {index}   ,     .',\n    ],\n    _: [\n        '<span class=\"key\"></span>',\n        '<span class=\"key\"></span>',\n        'Date and time <span class=\"key\">format</span>',\n        '<span class=\"key\"></span>',\n        '   <span class=\"key\"></span>',\n        '<span class=\"key\"></span>   ',\n    ],\n    _: [\n        ' {date}  {task_date}<br> 2021-04-30T06:40:08',\n        ' {date}  {task_date}<br>2021-04-30T06:40:08',\n        'You can use the following tags to set the date and time format. This will affect {date} and {task_date} in the naming rules. <br>For time such as 2021-04-30T06:40:08',\n        '{date}{task_date}<br>2021-04-30T06:40:08',\n        '         .    {date} {task_date}  . <br>: 2021-04-30T06:40:08',\n        '          .    {date}  {task_date}   .<br> , , 2021-04-30T06:40:08',\n    ],\n    _taskDate: [\n        '2020-10-21',\n        '2020-10-21',\n        'The time when the task was completed. For example: 2020-10-21',\n        '2020-10-21',\n        '  . : 2020-10-21',\n        '   . : 2020-10-21',\n    ],\n    _: ['', '', 'Tip', '', '', ''],\n    _: [\n        '<span class=\"key\"></span>',\n        '<span class=\"key\"></span>',\n        'Save the <span class=\"key\">cover</span> image in the posts',\n        '<span class=\"key\"></span>',\n        ' <span class=\"key\"></span>  ',\n        ' <span class=\"key\"></span>   ',\n    ],\n    _: [\n        '',\n        '',\n        'The list page crawl is complete',\n        '',\n        '   ',\n        '   ',\n    ],\n    _x: [\n        ' {}  ',\n        ' {}  ',\n        'There are currently {} posts',\n        ' {} ',\n        ' {}  ',\n        '  {} ',\n    ],\n    _: [\n        '',\n        '',\n        'Start retrieving post information',\n        '',\n        '   ',\n        '   ',\n    ],\n    _: [\n        '',\n        '',\n        'Pending',\n        '',\n        ' ',\n        ' ',\n    ],\n    _n: [\n        ' {} ',\n        ' {} ',\n        'Crawl a total of {} posts',\n        ' {} ',\n        ' {}  ',\n        '  {} ',\n    ],\n    _: [\n        '',\n        '',\n        'Recent updates',\n        '',\n        ' ',\n        ' ',\n    ],\n    _: [\n        '',\n        '',\n        'Got it',\n        '',\n        '',\n        '',\n    ],\n    _: [\n        '',\n        '',\n        'Format error',\n        '',\n        ' ',\n        ' ',\n    ],\n    _: [\n        '',\n        '',\n        'Imported successfully',\n        '',\n        ' ',\n        ' ',\n    ],\n    _: [\n        '',\n        '',\n        'Exported successfully',\n        '',\n        ' ',\n        ' ',\n    ],\n    _: ['', '', 'Confirm', '', '', ''],\n    _: [\n        '',\n        '',\n        'Time range',\n        '',\n        ' ',\n        ' ',\n    ],\n    _: [\n        '<span class=\"key\"></span>',\n        '<span class=\"key\"></span>',\n        '<span class=\"key\">Background</span> image',\n        '<span class=\"key\"></span>',\n        '<span class=\"key\"></span> ',\n        '<span class=\"key\"></span> ',\n    ],\n    _: [\n        '',\n        '',\n        'Select a file',\n        '',\n        ' ',\n        ' ',\n    ],\n    _: [\n        '',\n        '',\n        'Opacity',\n        '',\n        '',\n        '',\n    ],\n    _: [\n        '',\n        '',\n        'Alignment',\n        '',\n        ' ',\n        '',\n    ],\n    _: ['', '', 'Top', '', '', ''],\n    _: ['', '', 'Center', '', '', ''],\n    _: [\n        `\n    <br><br>\n    \n    <br><br>\n    \n    <br><br>\n    \n    <br><br>\n    \n    <br><br>\n     QQ 853021998\n    <br><br>\n     <a href=\"https://mofacgb.cc/register?code=GYjQWDob\" title=\"\" target=\"_blank\">https://mofacgb.cc</a>9.9  768 GB  1x70 MB/s\n    <br>\n    <a href=\"https://mofmiao.com\" title=\"\" target=\"_blank\">https://mofmiao.com</a>\n    <br>\n    <a href=\"https://saber.love/?p=12736\" title=\"\" target=\"_blank\"></a>\n    <br>\n    GYjQWDob\n    <br><br>\n    `,\n        `<br><br><br><br><br><br><br><br><br><br>`,\n        `The downloader cannot bypass paid restrictions.<br><br>The downloaded files are saved in the browser's download directory. If you want to save to another location, you need to modify the downloader's download directory.<br><br>It is recommended to disable \"Ask where to save each file before downloading\" in the browser's download settings.<br><br>If the file name after downloading is abnormal, please disable other browser extensions with download capabilities.<br><br>If your browser stops responding at startup, it may be due to too many download records in the browser. You can try clearing the browser's download history.<br><br>`,\n        `<br><br><br><br><br><br><br><br><br><br>`,\n        `     .<br><br>     .        .<br><br>   \"      \"   .<br><br>     ,        .<br><br>     ,        .     .<br><br>`,\n        `     .<br><br>      .        ,       .<br><br>            .<br><br>     ,       .<br><br>     ,          .     .<br><br>`,\n    ],\n    _: [\n        '',\n        '',\n        'Sponsor me',\n        '',\n        '',\n        ' ',\n    ],\n    _: [\n        `<br>\n     Patreon <br>\n    <a href=\"https://www.patreon.com/xuejianxianzun\" target=\"_blank\">https://www.patreon.com/xuejianxianzun</a><br>\n    <br>\n    <a href=\"https://afdian.com/a/xuejianxianzun\" target=\"_blank\">https://afdian.com/a/xuejianxianzun</a><br>\n    <br>\n    <a href=\"https://github.com/xuejianxianzun/PixivFanboxDownloader#%E6%94%AF%E6%8C%81%E5%92%8C%E6%8D%90%E5%8A%A9\" target=\"_blank\"> Github </a>\n    `,\n        `<br>\n     Patreon <br>\n    <a href=\"https://www.patreon.com/xuejianxianzun\" target=\"_blank\">https://www.patreon.com/xuejianxianzun</a><br>\n    <br>\n    <a href=\"https://afdian.com/a/xuejianxianzun\" target=\"_blank\">https://afdian.com/a/xuejianxianzun</a>\n    `,\n        `If you find this tool helpful, please consider sponsoring me. Thank you! <br>\nYou can sponsor me on Patreon: <br>\n<a href=\"https://www.patreon.com/xuejianxianzun\" target=\"_blank\">https://www.patreon.com/xuejianxianzun</a>\n    `,\n        `<br>\n     Patreon <br>\n    <a href=\"https://www.patreon.com/xuejianxianzun\" target=\"_blank\"> https://www.patreon.com/xuejianxianzun </a>\n    `,\n        `     , ,   . ! <br>\n     Patreon: <br>\n<a href=\"https://www.patreon.com/xuejianxianzun\" target=\"_blank\">https://www.patreon.com/xuejianxianzun</a>\n`,\n    ],\n    _: [\n        'Alt + X',\n        'Alt + X',\n        'Hide the download panel (Alt + X)',\n        'Alt + X',\n        '   (Alt + X)',\n        '   (Alt + X)',\n    ],\n    _: [\n        ' (Alt + X)',\n        ' (Alt + X)',\n        'Show download panel (Alt + X)',\n        ' (Alt + X)',\n        '   (Alt + X)',\n        '   (Alt + X)',\n    ],\n    _: [\n        '',\n        '',\n        'Because the output is too much, it has been saved to a file.',\n        'txt ',\n        '   ,  .',\n        '-         .',\n    ],\n    _: ['', '', 'Save', '', '', ''],\n    _: ['', '', 'Load', '', '', ''],\n    _: [\n        ' 20 ',\n        ' 20 ',\n        'Save naming rule, up to 20',\n        ' 20 ',\n        '  ,  20',\n        '  ,  20.',\n    ],\n    _: [\n        '',\n        '',\n        'Naming rule saved',\n        '',\n        '  .',\n        '  ',\n    ],\n    _: [\n        ' (Alt + Q)',\n        ' (Alt + Q)',\n        'Download this work quickly (Alt + Q)',\n        ' (Alt + Q)',\n        '   (Alt + Q)',\n        '    (Alt + Q)',\n    ],\n    _: [\n        '<span class=\"key\"></span>',\n        '<span class=\"key\"></span>',\n        '<span class=\"key\">Highlight</span> keywords',\n        '<span class=\"key\"></span>',\n        '<span class=\"key\"></span>  ',\n        '<span class=\"key\"></span>  ',\n    ],\n    _: [\n        '',\n        '',\n        'Export',\n        '',\n        '',\n        '',\n    ],\n    _: ['', '', 'Import', '', '', ''],\n    _: ['', '', 'Clear', '', '', ''],\n    _2: ['', '', 'Tip', '', '', ''],\n    _: [\n        '<span class=\"key\"></span>',\n        '<span class=\"key\"></span>',\n        'Manage <span class=\"key\">settings</span>',\n        '<span class=\"key\"></span>',\n        '<span class=\"key\"></span> ',\n        ' <span class=\"key\"></span>',\n    ],\n    _: [\n        '',\n        '',\n        'Export settings',\n        '',\n        '',\n        ' ',\n    ],\n    _: [\n        '',\n        '',\n        'Import settings',\n        '',\n        '',\n        ' ',\n    ],\n    _: [\n        '',\n        '',\n        'Reset settings',\n        '',\n        ' ',\n        ' ',\n    ],\n    _: [\n        '',\n        '',\n        'Auto',\n        '',\n        '',\n        '',\n    ],\n    _: [\n        '<span class=\"key\"></span>',\n        '<span class=\"key\"></span>',\n        'Show <span class=\"key\">advanced</span> settings',\n        '<span class=\"key\"></span>',\n        '<span class=\"key\"></span>  ',\n        ' <span class=\"key\"></span> ',\n    ],\n    _: [\n        '',\n        '',\n        'Hidden settings will still work',\n        '',\n        '   .',\n        '     .',\n    ],\n    _: [\n        '<span class=\"key\"></span>',\n        '<span class=\"key\"></span>',\n        'Show <span class=\"key\">notification</span> after download is complete',\n        '<span class=\"key\"></span>',\n        '  <span class=\"key\"></span> ',\n        ' <span class=\"key\"></span>   ',\n    ],\n    _: [\n        '',\n        '',\n        'Show a system notification when all files have been downloaded. May require notification permission.',\n        '',\n        '     .     .',\n        '       .     .',\n    ],\n    _2: [\n        '',\n        '',\n        'Download complete',\n        '',\n        ' ',\n        ' ',\n    ],\n    _0: [\n        '<span class=\"key\"> 0</span>',\n        '<span class=\"key\"> 0</span>',\n        '<span class=\"key\">Add 0</span> in front of the serial number',\n        '<span class=\"key\">0</span>',\n        '  <span class=\"key\">0 </span>',\n        ' <span class=\"key\">0</span>   ',\n    ],\n    _0: [\n        '',\n        '',\n        'This can solve the problem that some software cannot correctly sort files by file name.',\n        '',\n        '             .',\n        '  ,          .',\n    ],\n    _: [\n        '',\n        '',\n        'Total length of serial number',\n        '',\n        '  ',\n        '  ',\n    ],\n    _: [\n        '<span class=\"key\"></span>',\n        '<span class=\"key\"></span>',\n        'Don`t download <span class=\"key\">duplicate</span> files',\n        '<span class=\"key\"></span>',\n        '<span class=\"key\"></span>  ',\n        '  <span class=\"key\"></span> ',\n    ],\n    _: [\n        `<br>\n    <br>\n    <br>\n    <br>\n    - <br>\n    -  IndexedDB <br>\n    - Cookie <br>\n    - <br>\n    - <br>\n    `,\n        `<br>\n    <br>\n    <br>\n    <br>\n    - <br>\n    -  IndexedDB <br>\n    - Cookie <br>\n    - <br>\n    - <br>\n    `,\n        `This downloader will save its own download history. Each file that is successfully downloaded (saved to disk) will have a download record saved. Files that fail to download will not have a download record. <br>\n    If you enable the \"Do not download duplicate files\" feature, the downloader will check the download record before downloading each file. If it is a duplicate file, the downloader will skip it (not download it). <br>\n    <br>\n    Additional notes: <br>\n    - This is not a reliable feature. The downloader does not have permission to read files on the disk, so it can only rely on its own saved download records. If you delete a downloaded file, the downloader will not know and will still think that the file has been downloaded and skip the download. If you do need to re-download sometimes, you can turn this feature off. <br>\n    - The download history of the Downloader is saved in the browser's IndexedDB. It is not the browser's download history, so clearing the browser's download history will not affect this feature. As an extra note, if the browser has too many download history, it will cause the browser to get stuck for a while when it starts. If you encounter this problem, you should clear the browser's download history. <br>\n    - Note: When clearing the browser's data, clearing \"Cookies and other website data\" will cause the Downloader's download history to be cleared! If you want to clear this item, you can export the download history in advance to avoid losing the download history. <br>\n    - If you use multiple devices or browsers, you can click the \"Export\" button to export the Downloader's download history, and then import it on a new device. <br>\n    - If you want to clear the Downloader's download history, you can click the \"Clear\" button to the right of this setting. <br>\n    `,\n        `<br>\n    <span class=\"key\"></span><br>\n    <br>\n    <br>\n    - <br>\n    - IndexedDB<br>\n    - Cookie <br>\n    - <br>\n    - <br>\n    `,\n        `     .  ( )     .      . <br>\n    \"<span class=\"key\"></span>   \"          .   ,    ( ). <br>\n    <br>\n      : <br>\n    -     .            .            .         . <br>\n    -     IndexedDB .             . ,          .        . <br>\n    - :     \"    \"     !              . <br>\n    -      , \"\"            . <br>\n    -         \"\"  . <br>\n    `,\n        `    .     (  )     . ,    ,  .<br>\n          <span class=\"key\"></span> ,         .    ,    (  ).<br>\n    <br>\n     :<br>\n    -    .         ,         .     ,       ,    ,  .      ,     .<br>\n    -     IndexedDB .     ,          . :         ,        .      ,    .<br>\n    - :      Cookies          !      ,    ,    .<br>\n    -       ,     ,    ,       .<br>\n    -       ,       .<br>\n    `,\n    ],\n    _: [\n        '',\n        '',\n        'Clear download record',\n        '',\n        '  ',\n        '  ',\n    ],\n    _: [\n        '',\n        '',\n        'Download record has been cleared',\n        '',\n        '  ',\n        '  ',\n    ],\n    _: [\n        ' {} ',\n        ' {} ',\n        'Skip downloading duplicate files {}',\n        ' {} ',\n        ' {}()   ,  ',\n        ',   {}  ,  ',\n    ],\n    _: [\n        '',\n        '',\n        'Import download record',\n        '',\n        '  ',\n        '  ',\n    ],\n    _: ['', '', 'Completed', '', '', ''],\n    _HowToUse: [\n        '<br><br><br><br><br><br><br><strong></strong>',\n        '<br><br><br><br><br><br><br><strong></strong>',\n        'Click the blue button on the right side of the page to open the downloader panel.<br>The downloader can download different content on different pages, such as the home page, user home page, and article page.<br><br>The downloaded file is saved in the browser`s download directory. <br><br>It is recommended to turn off \"Ask where to save each file before downloading\" in the browser`s download settings.<br><br><strong>Downloaders cannot bypass paid restrictions.</strong>',\n        '<br><br><br><br><br>    <br><br><strong></strong>',\n        '        .<br> ,  ,          .<br><br>     .<br><br>   \"      \"   .<br><br><strong>     .</strong>',\n        '     ,    .<br>       , ,   ,     .<br><br>      .<br><br>            .<br><br><strong>     .</strong>',\n    ],\n    _: [\n        ``,\n        ``,\n        `Code refactored and new features added. E.g:`,\n        ` `,\n        `    . :`,\n        `     . :`,\n    ],\n    _: [\n        '',\n        '',\n        'Start download',\n        '',\n        ' ',\n        ' ',\n    ],\n    _: [\n        '',\n        '',\n        'Pause download',\n        '',\n        ' ',\n        ' ',\n    ],\n    _: [\n        '',\n        '',\n        'Stop download',\n        '',\n        ' ',\n        ' ',\n    ],\n    _url: [\n        ' URL',\n        '',\n        'Copy URLs',\n        'URL ',\n        'URL ',\n        ' URL',\n    ],\n    _: [\n        '',\n        '',\n        'Total progress',\n        '',\n        ' ',\n        ' ',\n    ],\n    _: [\n        '',\n        '',\n        'Data cleared',\n        '',\n        ' ',\n        ' ',\n    ],\n    _n: [\n        ' {} ',\n        ' {} ',\n        '{} files skipped',\n        '{} ',\n        '{}  ',\n        ' {} ',\n    ],\n    _: [\n        '<span class=\"key\"></span>',\n        '<span class=\"key\"></span>',\n        'Unified <span class=\"key\">URL</span> Format',\n        ' <span class=\"key\">URL</span> ',\n        ' <span class=\"key\">URL</span> ',\n        '  <span class=\"key\">URL</span>',\n    ],\n    _: [\n        'https://www.fanbox.cc/@creator_id',\n        'https://www.fanbox.cc/@creator_id',\n        'Keep the username after the domain name, for example: https://www.fanbox.cc/@creator_id',\n        ': https://www.fanbox.cc/@creator_id',\n        '     .    . https://www.fanbox.cc/@creator_id',\n        '    , : https://www.fanbox.cc/@creator_id',\n    ],\n    _: [\n        '',\n        '',\n        'Saving crawl results',\n        '',\n        '   ',\n        '  ',\n    ],\n    _: [\n        '',\n        '',\n        'Crawl results saved',\n        '',\n        '  ',\n        '  ',\n    ],\n    _: [\n        '',\n        '',\n        'Restoring crawl results',\n        '',\n        '   ',\n        '  ',\n    ],\n    _: [\n        '',\n        '',\n        'Crawl results resumed',\n        '',\n        '  ',\n        '  ',\n    ],\n    _: [\n        '',\n        '',\n        'Clear saved crawl results',\n        '',\n        '   ',\n        '   ',\n    ],\n    _: [\n        '',\n        '',\n        'Resume unfinished download tasks',\n        ' ',\n        '    ',\n        '   ',\n    ],\n    _: [\n        '',\n        '',\n        'Price limit',\n        '',\n        ' ',\n        '  ',\n    ],\n    _: [\n        '',\n        '',\n        \"Can't crawl post due to price limit: \",\n        ': ',\n        '      : ',\n        '-      :',\n    ],\n    _: [\n        '',\n        '',\n        'Number of posts skipped due to price limit: ',\n        ': ',\n        '     : ',\n        ' ,  -   :',\n    ],\n    _: [\n        '',\n        '',\n        '',\n        '',\n        '     ',\n        '       ',\n    ],\n    _: [\n        '<span class=\"key\"></span>',\n        '<span class=\"key\"></span>',\n        'Post <span class=\"key\">title</span> must contain text',\n        '<span class=\"key\"></span>',\n        ' <span class=\"key\"></span>   ',\n        ' <span class=\"key\"></span>   ',\n    ],\n    _: [\n        '<span class=\"key\"></span>',\n        '<span class=\"key\"></span>',\n        'Post <span class=\"key\">title</span> cannot contain text',\n        '<span class=\"key\"></span>',\n        ' <span class=\"key\"></span>    ',\n        ' <span class=\"key\"></span>    ',\n    ],\n    _: [\n        '<span class=\"key\"></span>',\n        '<span class=\"key\"></span>',\n        '<span class=\"key\">File names</span> must contain text',\n        '<span class=\"key\"></span>',\n        '<span class=\"key\"> </span>   ',\n        '<span class=\"key\"> </span>   ',\n    ],\n    _: [\n        '<span class=\"key\"></span>',\n        '<span class=\"key\"></span>',\n        '<span class=\"key\">File names</span> cannot contain text',\n        '<span class=\"key\"></span>',\n        '<span class=\"key\"> </span>    ',\n        '<span class=\"key\"> </span>    ',\n    ],\n    _: [\n        '',\n        '',\n        'The file here refers to the attachment uploaded by the author (the file name will be displayed), usually a compressed file, video, or audio.',\n        ' () ',\n        '    ( .)    , ,  .',\n        '    ,   (   ),   ,   .',\n    ],\n    _: [\n        '(,)',\n        '(,)',\n        'You can set multiple texts, not case sensitive, and separate each with a comma (,)',\n        ' (,) ',\n        '         (,)   .',\n        '    ,   ;    (,).',\n    ],\n    _: [\n        '',\n        '',\n        'wrong datetime format',\n        '',\n        ' / ',\n        '    ',\n    ],\n    _: [\n        ' {} ',\n        ' {} ',\n        'Skip {} because: ',\n        '{} : ',\n        '   {} .',\n        ' {}  :',\n    ],\n    _: [\n        '',\n        '',\n        'Optimize performance and user experience.',\n        ' ',\n        '   .',\n        '    .',\n    ],\n    _bug: [\n        ' bug',\n        ' bug',\n        'fix bugs',\n        '',\n        ' ',\n        ' ',\n    ],\n    _: [\n        ``,\n        ``,\n        `Optimize User Experience`,\n        ``,\n        `  `,\n        `  `,\n    ],\n    _: [\n        '<br> Chrome  Edge ',\n        '<br> Chrome  Edge ',\n        'Your browser cannot use this extension properly. The main reason may be that the browser kernel version is too low, or there is a compatibility problem. <br>We recommend that you switch to the latest version of Chrome or Edge.',\n        '   <br> Chrome  Edge ',\n        '       .             . <br>  Chrome  Edge   .',\n        '       .              .<br>      Chrome  Edge.',\n    ],\n    _: [\n        '',\n        '',\n        'Added setting items',\n        '',\n        '   ',\n        '   ',\n    ],\n    _: [\n        '',\n        '',\n        'New feature',\n        '',\n        ' ',\n        ' ',\n    ],\n    _: [\n        '',\n        '',\n        'Added some tips',\n        '',\n        '   .',\n        '  ',\n    ],\n    _user_canceled_tip: [\n        `{} code{}`,\n        `{} code{}`,\n        `{} not saved, code: {}.`,\n        `{} code{}`,\n        `{}  , : {}.`,\n        `{}  , : {}.`,\n    ],\n    _yandex: [\n        ` Yandex Android Pixiv Fanbox Downloader Kiwi <br>\n     Manifest version 3 Yandex  Manifest version 3 `,\n        ` Yandex Android Pixiv Fanbox Downloader Kiwi <br>\n     Manifest version 3 Yandex  Manifest version 3 `,\n        `If you are using Pixiv Fanbox Downloader on Yandex browserAndroid, please switch to Kiwi browser. <br>\n    Because the downloader will be upgraded to Manifest version 3 in the near future, but Yandex browser does not support Manifest version 3, so it cannot use the new version of the downloader.`,\n        `YandexAndroid  Pixiv Fanbox Downloader Kiwi  <br>\n      3 Yandex   3 `,\n        `Yandex Browser(Android) Pixiv Fanbox Downloader   Kiwi  . <br>\n        Manifest  3  Yandex  Manifest  3        .`,\n        `   Pixiv Fanbox Downloader   Yandex (Android), ,    Kiwi.<br>\n         Manifest  3,   Yandex   Manifest  3,        .`,\n    ],\n    _: [\n        '',\n        '',\n        'Add named tag',\n        '',\n        '  ',\n        '  ',\n    ],\n    _manifest_v3: [\n        ' Manifest V3<br>',\n        ' Manifest V3<br>',\n        'Downloader has been upgraded to Manifest V3. <br>If you encounter problems when downloading, please open the extension management page and reload this extension.',\n        'Downloader  Manifest V3  <br>',\n        ' Manifest V3 . <br>            .',\n        '   Manifest V3.<br>      ,        .',\n    ],\n    _: [\n        '<span class=\"key\"></span>',\n        '<span class=\"key\"></span>',\n        '<span class=\"key\">Naming rule</span> for image files',\n        '<span class=\"key\"></span>',\n        ' <span class=\"key\"> </span>',\n        '<span class=\"key\"> </span>   ',\n    ],\n    _: [\n        '<span class=\"key\"></span>',\n        '<span class=\"key\"></span>',\n        'Naming rule for <span class=\"key\">non-image files</span>',\n        '<span class=\"key\"></span>',\n        '<span class=\"key\"> </span>   ',\n        '<span class=\"key\"> </span>   ',\n    ],\n    _: [\n        `<br>\n    `,\n        `<br>\n    `,\n        `Now you can set separate naming rules for image files and non-image files. <br>\n    Also, the default names of non-image files have been changed to their original filenames instead of serial numbers.`,\n        ` <br>\n    `,\n        `            . <br>\n                .`,\n        `            .<br>\n     ,              .`,\n    ],\n    _: [\n        '',\n        '',\n        'fix known issues',\n        '',\n        '  ',\n        '  ',\n    ],\n    _API: [\n        ' API ',\n        ' API ',\n        'Fix crawl failure due to API data changes.',\n        'API',\n        'API      .',\n        '   -   API.',\n    ],\n    _: ['', '', 'One', '', '', ''],\n    _txt: [\n        ' TXT ',\n        ' TXT ',\n        'There are some external links in the crawling results this time. The downloader will save them into TXT files. Please handle them manually.',\n        'TXT',\n        '       .   TXT  .   .',\n        '        .     TXT-. ,   .',\n    ],\n    _: [\n        '',\n        '',\n        'The downloader will wait a few minutes before continuing to crawl.',\n        '',\n        '      .',\n        '   ,    .',\n    ],\n    _: [\n        ' Fanbox ',\n        ' Fanbox ',\n        'The downloader will slow down the crawling speed to avoid being restricted by Fanbox.',\n        'Fanbox',\n        ' Fanbox         .',\n        '   ,      Fanbox.',\n    ],\n    _: [\n        '<span class=\"key\"></span>',\n        '<span class=\"key\"></span>',\n        'Crawl <span class=\"key\">interval</span>',\n        '<span class=\"key\"></span>',\n        ' <span class=\"key\"></span>',\n        ' <span class=\"key\"></span>',\n    ],\n    _: [\n        `<br>\n    <br>\n     0`,\n        `<br>\n    <br>\n     0`,\n        `The time interval between each request when crawling posts, in seconds. <br>\n    This is intended to reduce the frequency of requests sent by the downloader (especially when crawling large volumes), thereby reducing the likelihood of your account being blocked. <br>\n    You can modify this setting; the minimum value is 0 (no limit). `,\n        `<br>\n    <br>\n     0`,\n        `       (). <br>\n            (    ).     . <br>\n        ,  0( ). `,\n        `       ,  .<br>\n         ,   (    ),      .<br>\n        ;    0 ( ).`,\n    ],\n    _: [\n        '<span class=\"key\"></span>',\n        '<span class=\"key\"></span>',\n        'Download <span class=\"key\">interval</span>',\n        '<span class=\"key\"></span>',\n        ' <span class=\"key\"></span>',\n        ' <span class=\"key\"></span>',\n    ],\n    _: ['', '', 'seconds', '', '', ''],\n    _: [\n        '',\n        '',\n        'Interval time:',\n        '',\n        ' :',\n        ' :',\n    ],\n    _: [\n        `<br>\n     1 Fanbox  3600 <br>\n     Fanbox <br>\n     0`,\n        `<br>\n     1 Fanbox  3600 <br>\n     Fanbox <br>\n     0`,\n        `The interval at which downloads are initiated, measured in seconds. <br>\n    The default value is 1, meaning a maximum of 3,600 files will be downloaded from Fanbox per hour. <br>\n    This is intended to reduce the frequency of downloads from Fanbox (especially when downloading small images), thereby reducing the likelihood of your account being blocked. <br>\n    You can modify this setting; the minimum value is 0 (no limit). `,\n        `<br>\n    1Fanbox13,600<br>\n    Fanbox<br>\n    0`,\n        `  (). <br>\n     1, Fanbox   3,600  . <br>\n      Fanbox  (    )       . <br>\n        ,  0( ). `,\n        `,    ,   .<br>\n        1,    3600 ,   Fanbox  .<br>\n           Fanbox (    ),      .<br>\n        ;    0 ( ).`,\n    ],\n    _: [\n        '\\n',\n        '\\n',\n        'There are already crawl results on this tab. Restarting the crawl will clear these crawl results. \\nPlease confirm that you want to restart the crawl?',\n        ' \\n?',\n        '     .      . \\n    .',\n        '      .     .\\n, ,     ?',\n    ],\n    _: [\n        `<strong></strong><br>\n    <br>\n    <br><br>`,\n        `<strong></strong><br>\n    <br>\n    <br><br>`,\n        `<strong>Warning</strong>: Frequent and heavy downloading and scraping may result in your account being banned. <br>\n    Downloader will slow down the download and scraping speeds by default. However, if your account is still banned, Downloadloader will not be held responsible. <br>\n    If you need to download a lot of files, it is recommended to set a longer download interval. <br>`,\n        `<strong></strong>: <br>\n    Downloader Downloadloader <br>\n    <br>`,\n        `<strong></strong>:         . <br>\n    Downloader      .       Downloadloader   . <br>\n        ,       . <br>`,\n        `<strong></strong>:            .<br>\n           . ,       ,      .<br>\n         ,      .<br>`,\n    ],\n    _: [\n        `<br> '/'  '-'`,\n        `<br> '/'  '-'`,\n        `If you are using a mobile browser, it may not create a folder. This is not a problem with the downloader. If this happens, you need to modify the naming rules to avoid duplicate file names. A simple way to do this is to change the '/' in the default naming rules to '-'.`,\n        `/-`,\n        `        .    .             .        '/' '-'  .`,\n        `    ,     .    .<br>       ,     .     '/'       '-'.`,\n    ],\n    _: [\n        ``,\n        ``,\n        `The request failed. The downloader will retry the request, no manual processing is required.`,\n        ``,\n        ` .    ,    .`,\n        `  .   ,    .`,\n    ],\n    _: [\n        `<span class=\"key\"></span>`,\n        `<span class=\"key\"></span>`,\n        `Daily download <span class=\"key\">file size</span> limit`,\n        '1<span class=\"key\"></span>',\n        '  <span class=\"key\"> </span> ',\n        '  <span class=\"key\"></span>    ',\n    ],\n    _: [\n        `<br>\n    <br>\n    <br>\n    <br>\n    <br>\n    1.  24 <br>\n    2. \n    `,\n        `<br>\n    <br>\n    <br>\n    <br>\n    <br>\n    1.  24 <br>\n    2. `,\n        `After each file download, the downloader will check the total size of files downloaded today. <br>\n    If the limit is reached, the downloader will automatically pause the download. <br>\n    This feature is to prevent your account from being banned due to excessive file downloads. <br>\n    <br>\n    Note: <br>\n    1. \"Today\" refers to the calendar day, not the last 24 hours. <br>\n    2. The downloader only counts the size of successfully downloaded files.`,\n        `<br>\n    <br>\n    <br>\n    <br>\n    : <br>\n    1. 24<br>\n    2. `,\n        `          . <br>\n          . <br>\n               . <br>\n    <br>\n    : <br>\n    1. \"\"  24    . <br>\n    2.      .`,\n        `        ,  .<br>\n      ,    .<br>\n            -   .<br>\n    <br>\n    :<br>\n    1.    ,    24 .<br>\n    2.       .`,\n    ],\n    _: [\n        ``,\n        ``,\n        `Downloads paused due to:`,\n        `:`,\n        `   :`,\n        `   :`,\n    ],\n    _: [\n        '',\n        ``,\n        `View historical data`,\n        ``,\n        `  `,\n        `  `,\n    ],\n    _30: [\n        ' 30 ',\n        ` 30 `,\n        `File size downloaded in the last 30 days`,\n        `30`,\n        ` 30    `,\n        ` ,    30 `,\n    ],\n    _: [\n        '<span class=\"key\"></span>',\n        '<span class=\"key\"></span>',\n        'Image <span class=\"key\">size</span>',\n        '<span class=\"key\"></span>',\n        ' <span class=\"key\"></span>',\n        '<span class=\"key\"></span> ',\n    ],\n    _: [\n        ``,\n        ``,\n        `When downloading images in the post, which size is used?`,\n        ``,\n        `       `,\n        `    ,   ?`,\n    ],\n    _: ['', '', 'Original', 'Original', '', ''],\n    _: ['', '', 'Thumbnail', '', '', ''],\n    _: [\n        ``,\n        ``,\n        `Save all fan cards`,\n        ``,\n        `   `,\n        `   `,\n    ],\n    _: [\n        ``,\n        ``,\n        `Save this user's fan card`,\n        ``,\n        `    `,\n        `    `,\n    ],\n    _: [\n        ``,\n        ``,\n        `Fan card of this creator has been saved`,\n        ``,\n        `    `,\n        `    `,\n    ],\n    _: [\n        ``,\n        ``,\n        `Saving fan card, please try again later.`,\n        ``,\n        `   ,     .`,\n        `  ,  .`,\n    ],\n    _xx: [\n        ` {} `,\n        ` {} `,\n        `You are not a supporter of {}, so you cannot generate a fan card.`,\n        ` {} `,\n        `{}       .`,\n        `   {},      .`,\n    ],\n    _xx: [\n        ` {} `,\n        ` {} `,\n        `Error occurred when the downloader fetches your sponsorship plan for {}`,\n        ` {} `,\n        ` {}       `,\n        `       {}  `,\n    ],\n    _: [\n        `\n\n`,\n        `\n\n`,\n        `Do you want to display your username on the fan card?\nSelecting \"Yes\" will show the username,\nSelecting \"No\" will hide the username.`,\n        `\n\n`,\n        `    ?\n\"\"    ,\n\"\"    .`,\n        `         ?\n    ,\n    .`,\n    ],\n    _: [\n        ``,\n        ``,\n        `You have not sponsored any creators, so you cannot generate a fan card.`,\n        ``,\n        `        .`,\n        `     ,      .`,\n    ],\n    _: [\n        ``,\n        ``,\n        `Start saving fan card`,\n        ``,\n        `   `,\n        `   `,\n    ],\n    _: [\n        ``,\n        ``,\n        `Fan card saved successfully`,\n        ``,\n        `   `,\n        `  `,\n    ],\n    _480: [\n        `<strong class=\"blue\">: </strong>\n      <br>\n      \n      <br>\n      <br>\n      <strong class=\"blue\"></strong>\n      <br>\n      \n      <br>\n       Fanbox `,\n        `<strong class=\"blue\">: </strong>\n      <br>\n      \n      <br>\n      <br>\n      <strong class=\"blue\"></strong>\n      <br>\n      \n      <br>\n       Fanbox `,\n        `<strong class=\"blue\">New Setting: Image Size</strong>\n      <br>\n      When downloading images in the post, the downloader used to always download the original image, but now you can choose to download thumbnails.\n      <br>\n      <br>\n      <strong class=\"blue\">New Feature: Save Fan Card</strong>\n      <br>\n      You can save the fan card of the creator you are sponsoring.\n      <br>\n      On the Fanbox homepage and the creator's homepage, the downloader's panel will display a button to save the fan card.`,\n        `<strong class=\"blue\">: </strong>\n      <br>\n      \n      <br>\n      <br>\n      <strong class=\"blue\"></strong>\n      <br>\n      \n      <br>\n      Fanbox `,\n        `<strong class=\"blue\">  :  </strong>\n      <br>\n          ,      ,     .\n      <br>\n      <br>\n      <strong class=\"blue\"> :   </strong>\n      <br>\n              .\n      <br>\n      Fanbox          .`,\n        `<strong class=\"blue\"> :  </strong>\n      <br>\n                ,      .\n      <br>\n      <br>\n      <strong class=\"blue\"> :  -</strong>\n      <br>\n         -   .\n      <br>\n         Fanbox            -.`,\n    ],\n};\nexport { langText };\n","import { EVT } from '../EVT';\nimport { Tools } from '../Tools';\nimport { formHtml } from '../FormHTML';\nimport { settings, setSetting } from '../setting/Settings';\nimport { SaveNamingRule } from './SaveNamingRule';\nimport { FormSettings } from './FormSettings';\nimport { Utils } from '../utils/Utils';\nimport { lang } from '../Lang';\nimport { options } from './Options';\nimport { msgBox } from '../MsgBox';\n// \nclass Form {\n    constructor() {\n        /** */\n        //  input  span \n        // label  \n        this.allBeautifyInput = [];\n        /** */\n        this.tips = [\n            {\n                wrapID: 'tipCreateFolder',\n                wrap: document.createElement('span'),\n                settingName: 'tipCreateFolder',\n            },\n        ];\n        this.form = Tools.useSlot('form', formHtml);\n        lang.register(this.form);\n        this.getElements();\n        const allOptions = this.form.querySelectorAll('.option');\n        options.init(allOptions);\n        new SaveNamingRule(this.form.userSetName);\n        new FormSettings(this.form);\n        this.bindEvents();\n    }\n    getElements() {\n        //  span \n        const allCheckBox = this.form.querySelectorAll('input[type=\"checkbox\"]');\n        const allRadio = this.form.querySelectorAll('input[type=\"radio\"]');\n        const checkboxAndRadio = [allCheckBox, allRadio];\n        for (const arr of checkboxAndRadio) {\n            arr.forEach((input) => {\n                let subOption = null;\n                if (input.classList.contains('checkbox_switch')) {\n                    subOption = this.form.querySelector(`.subOptionWrap[data-show=\"${input.name}\"]`);\n                }\n                this.allBeautifyInput.push({\n                    input: input,\n                    span: input.nextElementSibling,\n                    label: this.form.querySelector(`label[for=\"${input.id}\"]`),\n                    subOption: subOption,\n                });\n            });\n        }\n        // \n        for (const item of this.tips) {\n            const wrap = this.form.querySelector('#' + item.wrapID);\n            if (wrap) {\n                item.wrap = wrap;\n            }\n        }\n    }\n    bindEvents() {\n        // \n        for (const item of this.allBeautifyInput) {\n            const { input, span } = item;\n            //  input \n            span.addEventListener('click', () => {\n                input.click();\n            });\n            //  input \n            span.addEventListener('keydown', (event) => {\n                if ((event.code === 'Enter' || event.code === 'Space') &&\n                    event.target === span) {\n                    event.stopPropagation();\n                    event.preventDefault();\n                    input.click();\n                }\n            });\n        }\n        // \n        window.addEventListener(EVT.list.settingChange, Utils.debounce(() => {\n            this.initFormBeautify();\n            this.showTips();\n        }, 50));\n        // \n        for (const item of this.tips) {\n            if (item.wrap) {\n                const btn = item.wrap.querySelector('button');\n                btn.addEventListener('click', () => {\n                    setSetting(item.settingName, false);\n                });\n            }\n        }\n        // \n        {\n            const el = this.form.querySelector('#selectBG');\n            if (el) {\n                el.addEventListener('click', () => {\n                    EVT.fire('selectBG');\n                });\n            }\n        }\n        // \n        {\n            const el = this.form.querySelector('#clearBG');\n            if (el) {\n                el.addEventListener('click', () => {\n                    EVT.fire('clearBG');\n                });\n            }\n        }\n        // \n        {\n            const el = this.form.querySelector('#resetSettings');\n            if (el) {\n                el.addEventListener('click', () => {\n                    const result = window.confirm(lang.transl('_'));\n                    if (result) {\n                        EVT.fire('resetSettings');\n                    }\n                });\n            }\n        }\n        // \n        {\n            const el = this.form.querySelector('#exportSettings');\n            if (el) {\n                el.addEventListener('click', () => {\n                    EVT.fire('exportSettings');\n                });\n            }\n        }\n        // \n        {\n            const el = this.form.querySelector('#importSettings');\n            if (el) {\n                el.addEventListener('click', () => {\n                    EVT.fire('importSettings');\n                });\n            }\n        }\n        // \n        {\n            const totalDownloadHistory = this.form.querySelector('#totalDownloadHistory');\n            totalDownloadHistory.addEventListener('click', () => {\n                EVT.fire('totalDownloadHistory');\n            });\n        }\n        // \n        const deduplicationHelp = this.form.querySelector('#deduplicationHelp');\n        deduplicationHelp.addEventListener('click', () => {\n            msgBox.show(lang.transl('_'), {\n                title: lang.transl('_'),\n            });\n        });\n        // \n        this.form\n            .querySelector('.showFileNameTip')\n            .addEventListener('click', () => Utils.toggleEl(document.querySelector('.fileNameTip')));\n        // \n        this.form\n            .querySelector('.showDateTip')\n            .addEventListener('click', () => Utils.toggleEl(document.querySelector('.dateFormatTip')));\n        // \n        const centerInputs = this.form.querySelectorAll('input[type=text]');\n        for (const el of centerInputs) {\n            if (el.name !== 'userSetName') {\n                el.addEventListener('focus', function () {\n                    this.select();\n                });\n            }\n        }\n        // \n        const from = this.form.fileNameSelect;\n        const to = this.form.userSetName;\n        from.addEventListener('change', () => {\n            if (from.value !== 'default') {\n                // ,\n                const position = to.selectionStart;\n                to.value =\n                    to.value.substring(0, position) +\n                        from.value +\n                        to.value.substring(position);\n                to.selectionStart = position + from.value.length;\n                to.selectionEnd = position + from.value.length;\n                to.focus();\n            }\n        });\n    }\n    // \n    initFormBeautify() {\n        for (const item of this.allBeautifyInput) {\n            const { input, span, label, subOption } = item;\n            //  label \n            if (label) {\n                const method = input.checked ? 'add' : 'remove';\n                label.classList[method]('active');\n            }\n            // /\n            if (subOption) {\n                subOption.style.display = input.checked ? 'inline' : 'none';\n            }\n        }\n    }\n    // \n    showTips() {\n        for (const item of this.tips) {\n            item.wrap.style.display = settings[item.settingName] ? 'block' : 'none';\n        }\n    }\n}\nnew Form();\n","import { EVT } from '../EVT';\nimport { settings, setSetting } from './Settings';\nimport { DateFormat } from '../utils/DateFormat';\nimport { nameRuleManager } from './NameRuleManager';\nclass FormSettings {\n    constructor(form) {\n        //  userSetName  nameRuleManager \n        this.inputFileds = {\n            checkbox: [\n                'image',\n                'music',\n                'video',\n                'compressed',\n                'ps',\n                'other',\n                'free',\n                'pay',\n                'feeSwitch',\n                'idRangeSwitch',\n                'postDate',\n                'saveLink',\n                'saveText',\n                'autoStartDownload',\n                'showAdvancedSettings',\n                'bgDisplay',\n                'boldKeywords',\n                'showNotificationAfterDownloadComplete',\n                'zeroPadding',\n                'deduplication',\n                'savePostCover',\n                'unifiedURL',\n                'titleMustTextSwitch',\n                'titleCannotTextSwitch',\n                'fileNameIncludeSwitch',\n                'fileNameExcludeSwitch',\n                'totalDownloadLimitSwitch',\n            ],\n            text: [\n                'fee',\n                'idRangeInput',\n                'downloadThread',\n                'dateFormat',\n                'bgOpacity',\n                'zeroPaddingLength',\n                'titleMustText',\n                'titleCannotText',\n                'nameruleForNonImages',\n                'fileNameInclude',\n                'fileNameExclude',\n                'downloadInterval',\n                'crawlInterval',\n                'totalDownloadLimit',\n            ],\n            radio: ['idRange', 'feeRange', 'bgPositionY', 'userSetLang', 'imageSize'],\n            textarea: [],\n            datetime: ['postDateStart', 'postDateEnd'],\n        };\n        this.restoreTimer = 0;\n        this.form = form;\n        nameRuleManager.registerInput(this.form.userSetName);\n        this.bindEvents();\n        this.restoreFormSettings();\n        this.ListenChange();\n    }\n    bindEvents() {\n        window.addEventListener(EVT.list.settingChange, () => {\n            window.clearTimeout(this.restoreTimer);\n            this.restoreTimer = window.setTimeout(() => {\n                this.restoreFormSettings();\n            }, 0);\n        });\n    }\n    // \n    // \n    ListenChange() {\n        for (const name of this.inputFileds.text) {\n            this.saveTextInput(name);\n        }\n        for (const name of this.inputFileds.textarea) {\n            this.saveTextInput(name);\n        }\n        for (const name of this.inputFileds.datetime) {\n            this.saveTextInput(name);\n        }\n        for (const name of this.inputFileds.radio) {\n            this.saveRadio(name);\n        }\n        for (const name of this.inputFileds.checkbox) {\n            this.saveCheckBox(name);\n        }\n    }\n    // \n    restoreFormSettings() {\n        for (const name of this.inputFileds.text) {\n            this.restoreString(name);\n        }\n        for (const name of this.inputFileds.radio) {\n            this.restoreString(name);\n        }\n        for (const name of this.inputFileds.textarea) {\n            this.restoreString(name);\n        }\n        for (const name of this.inputFileds.checkbox) {\n            this.restoreBoolean(name);\n        }\n        for (const name of this.inputFileds.datetime) {\n            this.restoreDate(name);\n        }\n    }\n    // ---------------------\n    //  change  value\n    saveTextInput(name) {\n        const el = this.form[name];\n        el.addEventListener('change', () => {\n            setSetting(name, el.value);\n        });\n    }\n    //  click  checked\n    saveCheckBox(name) {\n        const el = this.form[name];\n        el.addEventListener('click', () => {\n            setSetting(name, el.checked);\n        });\n    }\n    //  click  value\n    saveRadio(name) {\n        const radios = this.form[name];\n        for (const radio of radios) {\n            radio.addEventListener('click', () => {\n                setSetting(name, radio.value);\n            });\n        }\n    }\n    //  Boolean \n    restoreBoolean(name) {\n        if (settings[name] !== undefined) {\n            this.form[name].checked = settings[name];\n        }\n    }\n    //  string \n    restoreString(name) {\n        if (settings[name] !== undefined) {\n            this.form[name].value = settings[name].toString();\n        }\n    }\n    // \n    restoreDate(name) {\n        if (settings[name] !== undefined) {\n            //  input \n            const date = settings[name];\n            this.form[name].value = DateFormat.format(date, 'YYYY-MM-DDThh:mm');\n        }\n    }\n}\nexport { FormSettings };\n","import { Config } from '../Config';\nimport { EVT } from '../EVT';\nimport { Utils } from '../utils/Utils';\nimport { settings, setSetting } from './Settings';\n// \n//  settings.userSetName \n//  nameRuleManager.rule \nclass NameRuleManager {\n    constructor() {\n        // \n        this.inputList = [];\n        this.bindEvents();\n    }\n    bindEvents() {\n        const evts = [\n            EVT.list.settingInitialized,\n            EVT.list.resetSettingsEnd,\n            EVT.list.pageSwitchedTypeChange,\n        ];\n        evts.forEach((evt) => {\n            window.addEventListener(evt, () => {\n                this.setInputValue();\n            });\n        });\n    }\n    get rule() {\n        return settings.userSetName;\n    }\n    set rule(str) {\n        // \n        // \n        str = this.handleUserSetName(str) || Config.defaultNameRule;\n        setSetting('userSetName', str);\n        this.setInputValue();\n    }\n    // \n    registerInput(input) {\n        this.inputList.push(input);\n        this.setInputValue();\n        // \n        let lastValue = input.value;\n        // \n        const evList = ['change', 'focus'];\n        // change \n        //  change  focus \n        evList.forEach((evName) => {\n            input.addEventListener(evName, () => {\n                // \n                // \n                //  change  focus \n                //  111 change \n                // focus \n                if (input.value === lastValue) {\n                    return;\n                }\n                lastValue = input.value;\n                this.rule = input.value;\n            });\n        });\n    }\n    // \n    setInputValue() {\n        const rule = this.rule;\n        this.inputList.forEach((input) => {\n            input.value = rule;\n        });\n        if (rule !== settings.userSetName) {\n            setSetting('userSetName', rule);\n        }\n    }\n    // \n    // \n    // \n    // /{page_tag}/|/{user}////<//{rank}/{px}/{sl}/{page_tag}///{id}-{user}-{user_id}\"\"-?{tags_transl_only}////\n    handleUserSetName(str) {\n        // \n        str = Utils.replaceUnsafeStr(str);\n        // replaceUnsafeStr  /  \n        str = str.replace(//g, '/');\n        //  /\n        str = str.replace(/\\/{2,100}/g, '/');\n        //  / \n        if (str.startsWith('/')) {\n            str = str.replace('/', '');\n        }\n        if (str.endsWith('/')) {\n            str = str.substring(0, str.length - 1);\n        }\n        return str;\n    }\n}\nconst nameRuleManager = new NameRuleManager();\nexport { nameRuleManager };\n","import { EVT } from '../EVT';\nimport { lang } from '../Lang';\nimport { settings } from './Settings';\n// \n// /\nclass Options {\n    constructor() {\n        //  id\n        this.whiteList = [2, 21, 32, 51, 13, 17, 33];\n        //  hideOption  id \n        //  whiteList\n        this.hiddenList = [];\n        // 90  new \n        this.now = Date.now();\n        this.newRange = 1000 * 60 * 60 * 24 * 90;\n        this.newOptions = [\n            {\n                // \n                id: 59,\n                // 2025-12-27\n                time: 1766767774489,\n            },\n        ];\n    }\n    init(allOption) {\n        this.allOption = allOption;\n        this.handleShowAdvancedSettings();\n        this.bindEvents();\n    }\n    bindEvents() {\n        window.addEventListener(EVT.list.settingChange, (ev) => {\n            const data = ev.detail.data;\n            if (data.name === 'showAdvancedSettings') {\n                this.handleShowAdvancedSettings();\n            }\n        });\n        const list = [\n            EVT.list.pageSwitchedTypeNotChange,\n            EVT.list.pageSwitchedTypeChange,\n        ];\n        list.forEach((ev) => {\n            window.addEventListener(ev, () => {\n                this.hiddenList = [];\n                window.setTimeout(() => {\n                    this.handleShowAdvancedSettings();\n                });\n            });\n        });\n    }\n    handleShowAdvancedSettings() {\n        this.showNewIcon();\n        for (const option of this.allOption) {\n            if (option.dataset.no === undefined) {\n                continue;\n            }\n            const no = Number.parseInt(option.dataset.no);\n            // \n            if (!settings.showAdvancedSettings) {\n                // \n                if (this.whiteList.includes(no) && !this.hiddenList.includes(no)) {\n                    this.showOption([no]);\n                }\n                // \n                if (!this.whiteList.includes(no) || this.hiddenList.includes(no)) {\n                    option.style.display = 'none';\n                }\n            }\n            else {\n                // \n                if (this.hiddenList.includes(no)) {\n                    option.style.display = 'none';\n                }\n                else {\n                    this.showOption([no]);\n                }\n            }\n        }\n    }\n    /** new  */\n    showNewIcon() {\n        this.newOptions.forEach((option) => {\n            if (this.now - option.time <= this.newRange) {\n                const el = this.getOption(option.id);\n                el.classList.add('new');\n            }\n        });\n    }\n    // \n    getOption(no) {\n        for (const option of this.allOption) {\n            if (option.dataset.no === no.toString()) {\n                return option;\n            }\n        }\n        throw `Not found this option: ${no}`;\n    }\n    // \n    setOptionDisplay(no, display) {\n        for (const number of no) {\n            this.getOption(number).style.display = display;\n        }\n    }\n    // \n    // \n    showAllOption() {\n        for (const el of this.allOption) {\n            el.style.display = 'block';\n        }\n    }\n    // \n    //  hiddenList\n    // \n    hideOption(no) {\n        this.hiddenList = no;\n        this.setOptionDisplay(no, 'none');\n    }\n    // \n    showOption(no) {\n        this.setOptionDisplay(no, 'block');\n    }\n    //  / \n    setWantPageTip(arg) {\n        lang.updateText(this.wantPageEls.text, arg.text);\n        this.wantPageEls.wrap.dataset.xztip = arg.tip;\n        this.wantPageEls.wrap.dataset.tip = lang.transl(arg.tip);\n        // rangTip \n        if (arg.rangTip.startsWith('_')) {\n            lang.updateText(this.wantPageEls.rangTip, arg.rangTip);\n        }\n        else {\n            // \n            lang.updateText(this.wantPageEls.rangTip, '');\n            this.wantPageEls.rangTip.textContent = arg.rangTip;\n        }\n    }\n}\nconst options = new Options();\nexport { options };\n","import { EVT } from '../EVT';\nimport { Tools } from '../Tools';\nimport { lang } from '../Lang';\nimport { settings, setSetting } from './Settings';\nimport { toast } from '../Toast';\nimport { nameRuleManager } from './NameRuleManager';\n// \nclass SaveNamingRule {\n    constructor(ruleInput) {\n        this.limit = 20; // \n        this._show = false; // \n        this.html = `\n  <div class=\"saveNamingRuleWrap\">\n  <button class=\"nameSave textButton has_tip\" type=\"button\" data-xztip=\"_\" data-xztext=\"_\"></button>\n  <button class=\"nameLoad textButton\" type=\"button\" data-xztext=\"_\"></button>\n  <ul class=\"namingRuleList\"></ul>\n  </div>`;\n        this.ruleInput = ruleInput;\n        Tools.clearSlot('saveNamingRule');\n        const wrap = Tools.useSlot('saveNamingRule', this.html);\n        lang.register(wrap);\n        this.saveBtn = wrap.querySelector('button.nameSave');\n        this.loadBtn = wrap.querySelector('button.nameLoad');\n        this.listWrap = wrap.querySelector('ul.namingRuleList');\n        this.createList();\n        this.bindEvents();\n    }\n    set show(boolean) {\n        this._show = boolean;\n        boolean ? this.showListWrap() : this.hideListWrap();\n    }\n    get show() {\n        return this._show;\n    }\n    bindEvents() {\n        this.saveBtn.addEventListener('click', () => {\n            this.add(this.ruleInput.value);\n        });\n        this.loadBtn.addEventListener('click', () => {\n            this.show = !this.show;\n        });\n        this.listWrap.addEventListener('mouseleave', () => {\n            this.show = false;\n        });\n        // \n        window.addEventListener(EVT.list.settingChange, (ev) => {\n            const data = ev.detail.data;\n            if (data.name === 'namingRuleList') {\n                this.createList();\n            }\n        });\n    }\n    add(rule) {\n        if (settings.namingRuleList.length === this.limit) {\n            this.delete(0);\n        }\n        // \n        if (!settings.namingRuleList.includes(rule)) {\n            const list = Array.from(settings.namingRuleList);\n            list.push(rule);\n            setSetting('namingRuleList', list);\n        }\n        toast.success(lang.transl('_'));\n    }\n    delete(index) {\n        const list = Array.from(settings.namingRuleList);\n        list.splice(index, 1);\n        setSetting('namingRuleList', list);\n    }\n    select(rule) {\n        this.ruleInput.value = rule;\n        nameRuleManager.rule = rule;\n    }\n    createList() {\n        const htmlArr = [];\n        for (let i = 0; i < settings.namingRuleList.length; i++) {\n            const html = `<li>\n      <span class=\"rule\">${settings.namingRuleList[i]}</span>\n      <button class=\"delete textButton\" type=\"button\" data-index=\"${i}\"></button>\n    </li>`;\n            htmlArr.push(html);\n        }\n        if (settings.namingRuleList.length === 0) {\n            htmlArr.push(`<li><i>&nbsp;&nbsp;&nbsp;&nbsp;no data</i></li>`);\n        }\n        this.listWrap.innerHTML = htmlArr.join('');\n        const ruleEls = this.listWrap.querySelectorAll('.rule');\n        for (const el of ruleEls) {\n            el.addEventListener('click', () => {\n                this.select(el.textContent);\n                this.show = false;\n            });\n        }\n        const deleteEls = this.listWrap.querySelectorAll('.delete');\n        for (const el of deleteEls) {\n            el.addEventListener('click', () => {\n                const index = parseInt(el.dataset.index);\n                this.delete(index);\n            });\n        }\n    }\n    showListWrap() {\n        this.listWrap.style.display = 'block';\n    }\n    hideListWrap() {\n        this.listWrap.style.display = 'none';\n    }\n}\nexport { SaveNamingRule };\n","// settings \n// \n// settings[name]\n// \n// setSetting(name, value)\n//  3 \n// EVT.list.settingChange\n// \n// \n// {name: string, value: any}\n//  name \n// \n// EVT.list.settingInitialized\n// \n//  settingChange \n// EVT.list.resetSettingsEnd\n// \n// \n//  settingChange \n//  settings \n//  settings \nimport { EVT } from '../EVT';\nimport { Utils } from '../utils/Utils';\nimport { msgBox } from '../MsgBox';\nimport { Config } from '../Config';\nimport { toast } from '../Toast';\nimport { lang } from '../Lang';\nclass Settings {\n    constructor() {\n        // \n        this.defaultSettings = {\n            image: true,\n            music: true,\n            video: true,\n            compressed: true,\n            ps: true,\n            other: true,\n            free: true,\n            pay: true,\n            feeSwitch: false,\n            feeRange: '>=',\n            fee: 500,\n            idRangeSwitch: false,\n            idRangeInput: 0,\n            idRange: '>',\n            postDate: false,\n            // 2018-01-01\n            postDateStart: 1514764800000,\n            // 2030-01-01\n            postDateEnd: 1893456000000,\n            saveLink: true,\n            saveText: false,\n            userSetName: 'fanbox/{user}/{date}-{title}/{index}',\n            autoStartDownload: true,\n            downloadThread: 2,\n            dateFormat: 'YYYY-MM-DD',\n            savePostCover: true,\n            userSetLang: 'auto',\n            tipCreateFolder: true,\n            whatIsNewFlag: 'xuejian&saber',\n            showAdvancedSettings: false,\n            bgDisplay: false,\n            bgOpacity: 60,\n            bgPositionY: 'center',\n            boldKeywords: true,\n            namingRuleList: [],\n            showNotificationAfterDownloadComplete: false,\n            zeroPadding: false,\n            zeroPaddingLength: 3,\n            deduplication: false,\n            showHowToUse: true,\n            unifiedURL: true,\n            titleMustTextSwitch: false,\n            titleMustText: [],\n            titleCannotTextSwitch: false,\n            titleCannotText: [],\n            nameruleForNonImages: 'fanbox/{user}/{date}-{title}/{name}',\n            fileNameIncludeSwitch: false,\n            fileNameInclude: [],\n            fileNameExcludeSwitch: false,\n            fileNameExclude: [],\n            downloadInterval: 1,\n            crawlInterval: 1,\n            totalDownloadLimitSwitch: true,\n            totalDownloadLimit: 10,\n            totalDownloadLimitByte: 10737418240,\n            imageSize: 'original',\n        };\n        this.allSettingKeys = Object.keys(this.defaultSettings);\n        // \n        this.floatNumberKey = [\n            'downloadInterval',\n            'crawlInterval',\n            'totalDownloadLimit',\n        ];\n        // \n        // \n        this.numberArrayKeys = [];\n        // \n        this.stringArrayKeys = [\n            'namingRuleList',\n            'titleMustText',\n            'titleCannotText',\n            'fileNameInclude',\n            'fileNameExclude',\n        ];\n        // \n        this.settings = Utils.deepCopy(this.defaultSettings);\n        this.store = Utils.debounce(() => {\n            // chrome.storage.local  5 MiB5242880 Byte\n            chrome.storage.local.set({\n                [Config.settingStoreName]: this.settings,\n            });\n        }, 50);\n        this.restore();\n        this.bindEvents();\n    }\n    bindEvents() {\n        // \n        window.addEventListener(EVT.list.settingChange, () => {\n            this.store();\n        });\n        window.addEventListener(EVT.list.resetSettings, () => {\n            this.reset();\n        });\n        window.addEventListener(EVT.list.exportSettings, () => {\n            this.exportSettings();\n        });\n        window.addEventListener(EVT.list.importSettings, () => {\n            this.importSettings();\n        });\n    }\n    // \n    restore() {\n        let restoreData = this.defaultSettings;\n        //  chrome.storage \n        chrome.storage.local.get(Config.settingStoreName, (result) => {\n            if (result[Config.settingStoreName]) {\n                restoreData = result[Config.settingStoreName];\n            }\n            else {\n                //  localStorage  localStorage \n                const savedSettings = localStorage.getItem(Config.settingStoreName);\n                if (savedSettings) {\n                    restoreData = JSON.parse(savedSettings);\n                }\n            }\n            this.assignSettings(restoreData);\n            EVT.fire('settingInitialized');\n        });\n    }\n    //  settings \n    // \n    // 1.  number  stringsetSetting \n    // 2. \n    assignSettings(data) {\n        const origin = Utils.deepCopy(data);\n        for (const [key, value] of Object.entries(origin)) {\n            this.setSetting(key, value);\n        }\n    }\n    exportSettings() {\n        const blob = Utils.json2Blob(this.settings);\n        const url = URL.createObjectURL(blob);\n        Utils.downloadFile(url, Config.appName + ` Settings.json`);\n        toast.success(lang.transl('_'));\n    }\n    async importSettings() {\n        const loadedJSON = (await Utils.loadJSONFile().catch((err) => {\n            return msgBox.error(err);\n        }));\n        if (!loadedJSON) {\n            return;\n        }\n        // \n        if (loadedJSON.downloadThread === undefined) {\n            return msgBox.error(lang.transl('_'));\n        }\n        // \n        this.reset(loadedJSON);\n        toast.success(lang.transl('_'), {\n            position: 'center',\n        });\n    }\n    //   \n    // \n    reset(data) {\n        this.assignSettings(data ? data : this.defaultSettings);\n        EVT.fire('resetSettingsEnd');\n    }\n    tipError(key) {\n        msgBox.error(`${key}: Invalid value`);\n    }\n    // \n    // \n    // \n    // 1.  string  'a,b,c' string[]  ['a','b','c']\n    // 2.  string[] string  'a,b,c' string[]\n    setSetting(key, value) {\n        if (!this.allSettingKeys.includes(key)) {\n            return;\n        }\n        const keyType = typeof this.defaultSettings[key];\n        const valueType = typeof value;\n        // \n        if (keyType === 'string' && valueType !== 'string') {\n            value = value.toString();\n        }\n        if (keyType === 'number' && valueType !== 'number') {\n            //  number \n            if (key === 'postDateStart' || key == 'postDateEnd') {\n                if (valueType === 'string') {\n                    if (value === '') {\n                        // \n                        value = this.defaultSettings[key];\n                    }\n                    else {\n                        // \n                        const date = new Date(value);\n                        value = date.getTime();\n                    }\n                }\n            }\n            else {\n                //  number \n                if (this.floatNumberKey.includes(key)) {\n                    value = Number.parseFloat(value);\n                }\n                else {\n                    value = Number.parseInt(value);\n                }\n            }\n            if (isNaN(value)) {\n                return this.tipError(key);\n            }\n        }\n        if (keyType === 'boolean' && valueType !== 'boolean') {\n            value = !!value;\n        }\n        if (key === 'downloadThread' &&\n            value > Config.downloadThreadMax) {\n            value = Config.downloadThreadMax;\n        }\n        if ((key === 'downloadInterval' || key === 'crawlInterval') &&\n            value < 0) {\n            value = 0;\n        }\n        if ((key === 'downloadInterval' || key === 'crawlInterval') &&\n            value > 3600) {\n            value = 3600;\n        }\n        // \n        if (key === 'totalDownloadLimit') {\n            if (value < 0) {\n                value = 0;\n            }\n            //  102400 GiB 100 TB\n            if (value > 102400) {\n                value = 1024;\n            }\n            //  GiB  byte\n            this.settings.totalDownloadLimitByte =\n                value * 1024 * 1024 * 1024;\n        }\n        // \n        if (Array.isArray(this.defaultSettings[key])) {\n            if (this.stringArrayKeys.includes(key)) {\n                //  string[]\n                if (valueType === 'string') {\n                    value = Utils.string2array(value);\n                }\n            }\n            if (this.numberArrayKeys.includes(key)) {\n                //  number[]\n                if (Array.isArray(value)) {\n                    value = value.map((val) => {\n                        if (typeof val !== 'number') {\n                            return Number(val);\n                        }\n                        else {\n                            return val;\n                        }\n                    });\n                }\n                else {\n                    return;\n                }\n            }\n        }\n        // \n        ;\n        this.settings[key] = value;\n        // \n        EVT.fire('settingChange', { name: key, value: value });\n    }\n}\nconst self = new Settings();\nconst settings = self.settings;\nconst setSetting = self.setSetting.bind(self);\nexport { settings, setSetting };\n","// \nclass DateFormat {\n    // format \n    /*\n    YYYY\n    YY\n    MM\n    MMM\n    MMMM\n    DD\n    hh\n    mm\n    ss\n    */\n    // \n    // \n    // https://www.w3.org/TR/NOTE-datetime\n    // https://en.wikipedia.org/wiki/Date_format_by_country\n    static format(date, format = 'YYYY-MM-DD') {\n        // \n        const _date = new Date(date);\n        const YYYY = _date.getFullYear().toString();\n        const YY = YYYY.substring(YYYY.length - 2, YYYY.length);\n        const MM = (_date.getMonth() + 1).toString().padStart(2, '0');\n        const MMM = this.months[_date.getMonth()];\n        const MMMM = this.Months[_date.getMonth()];\n        const DD = _date.getDate().toString().padStart(2, '0');\n        const hh = _date.getHours().toString().padStart(2, '0');\n        const mm = _date.getMinutes().toString().padStart(2, '0');\n        const ss = _date.getSeconds().toString().padStart(2, '0');\n        // \n        let r = format;\n        r = r.replace('YYYY', YYYY);\n        r = r.replace('YY', YY);\n        r = r.replace('MMMM', MMMM);\n        r = r.replace('MMM', MMM);\n        r = r.replace('MM', MM);\n        r = r.replace('DD', DD);\n        r = r.replace('hh', hh);\n        r = r.replace('mm', mm);\n        r = r.replace('ss', ss);\n        return r;\n    }\n}\nDateFormat.months = [\n    'Jan',\n    'Feb',\n    'Mar',\n    'Apr',\n    'May',\n    'Jun',\n    'Jul',\n    'Aug',\n    'Sept',\n    'Oct',\n    'Nov',\n    'Dec',\n];\nDateFormat.Months = [\n    'January',\n    'February',\n    'March',\n    'April',\n    'May',\n    'June',\n    'July',\n    'August',\n    'September',\n    'October',\n    'November',\n    'December',\n];\nexport { DateFormat };\n","//  IndexedDB \nclass IndexedDB {\n    async open(DBName, DBVer, onUpgrade) {\n        return new Promise((resolve, reject) => {\n            const request = indexedDB.open(DBName, DBVer);\n            request.onupgradeneeded = (ev) => {\n                if (onUpgrade) {\n                    onUpgrade(request.result);\n                }\n            };\n            request.onsuccess = (ev) => {\n                this.db = request.result;\n                resolve(request.result);\n            };\n            request.onerror = (ev) => {\n                console.error('open indexDB failed');\n                console.trace();\n                reject(ev);\n            };\n        });\n    }\n    async add(storeNames, data) {\n        return new Promise((resolve, reject) => {\n            if (this.db === undefined) {\n                reject('Database is not defined');\n                return;\n            }\n            const r = this.db\n                .transaction(storeNames, 'readwrite')\n                .objectStore(storeNames)\n                .add(data);\n            r.onsuccess = (ev) => {\n                resolve(ev);\n            };\n            r.onerror = (ev) => {\n                console.error(`add failed in ${storeNames}`, data);\n                console.trace();\n                reject(ev);\n            };\n        });\n    }\n    async put(storeNames, data) {\n        return new Promise((resolve, reject) => {\n            if (this.db === undefined) {\n                reject('Database is not defined');\n                return;\n            }\n            const r = this.db\n                .transaction(storeNames, 'readwrite')\n                .objectStore(storeNames)\n                .put(data);\n            r.onsuccess = (ev) => {\n                resolve(ev);\n            };\n            r.onerror = (ev) => {\n                console.error('put failed');\n                console.trace();\n                reject(ev);\n            };\n        });\n    }\n    // \n    async batchAddData(storeName, dataList, key) {\n        return new Promise(async (resolve, reject) => {\n            var _a;\n            if (dataList.length === 0) {\n                resolve();\n            }\n            //  key\n            const existedKeys = (await this.getAllKeys(storeName));\n            // \n            const tr = (_a = this.db) === null || _a === void 0 ? void 0 : _a.transaction(storeName, 'readwrite');\n            if (!tr) {\n                throw new Error(`transaction ${storeName} is undefined`);\n            }\n            const store = tr.objectStore(storeName);\n            tr.oncomplete = () => {\n                resolve();\n            };\n            tr.onerror = (err) => {\n                console.error(err);\n                reject(err);\n            };\n            async function insert(data) {\n                return new Promise((resolve, reject) => {\n                    if (existedKeys.includes(data[key])) {\n                        resolve();\n                    }\n                    else {\n                        const request = store.add(data);\n                        request.onsuccess = () => {\n                            resolve();\n                        };\n                        request.onerror = (err) => {\n                            reject(err);\n                        };\n                    }\n                });\n            }\n            for (const data of dataList) {\n                await insert(data);\n            }\n        });\n    }\n    //  null\n    async get(storeNames, key, index) {\n        return new Promise((resolve, reject) => {\n            if (this.db === undefined) {\n                reject('Database is not defined');\n                return;\n            }\n            const store = this.db\n                .transaction(storeNames, 'readonly')\n                .objectStore(storeNames);\n            let r;\n            if (index !== undefined) {\n                const i = store.index(index);\n                r = i.get(key);\n            }\n            else {\n                r = store.get(key);\n            }\n            r.onsuccess = (ev) => {\n                const data = r.result;\n                resolve(data ? data : null);\n            };\n            r.onerror = (ev) => {\n                console.error('get failed');\n                console.trace();\n                reject(ev);\n            };\n        });\n    }\n    async getAll(storeNames) {\n        return new Promise((resolve, reject) => {\n            if (this.db === undefined) {\n                reject('Database is not defined');\n                return;\n            }\n            const r = this.db\n                .transaction(storeNames, 'readwrite')\n                .objectStore(storeNames)\n                .getAll();\n            r.onsuccess = (ev) => {\n                const data = r.result;\n                if (data) {\n                    resolve(data);\n                }\n                resolve(data ? data : null);\n            };\n            r.onerror = (ev) => {\n                console.error('getAll failed');\n                console.trace();\n                reject(ev);\n            };\n        });\n    }\n    async getAllKeys(storeNames) {\n        return new Promise((resolve, reject) => {\n            if (this.db === undefined) {\n                reject('Database is not defined');\n                return;\n            }\n            const r = this.db\n                .transaction(storeNames, 'readonly')\n                .objectStore(storeNames)\n                .getAllKeys();\n            r.onsuccess = (ev) => {\n                const data = r.result;\n                resolve(data ? data : null);\n            };\n            r.onerror = (ev) => {\n                console.error('getAllKeys failed');\n                console.trace();\n                reject(ev);\n            };\n        });\n    }\n    async delete(storeNames, key) {\n        return new Promise((resolve, reject) => {\n            if (this.db === undefined) {\n                reject('Database is not defined');\n                return;\n            }\n            const r = this.db\n                .transaction(storeNames, 'readwrite')\n                .objectStore(storeNames)\n                .delete(key);\n            r.onsuccess = (ev) => {\n                resolve(ev);\n            };\n            r.onerror = (ev) => {\n                console.error('delete failed');\n                console.trace();\n                reject(ev);\n            };\n        });\n    }\n    async clear(storeNames) {\n        return new Promise((resolve, reject) => {\n            if (this.db === undefined) {\n                reject('Database is not defined');\n                return;\n            }\n            const r = this.db\n                .transaction(storeNames, 'readwrite')\n                .objectStore(storeNames)\n                .clear();\n            r.onsuccess = (ev) => {\n                resolve();\n            };\n            r.onerror = (ev) => {\n                console.error('clear failed');\n                console.trace();\n                reject(ev);\n            };\n        });\n    }\n    async openCursor(storeNames, CB) {\n        return new Promise((resolve, reject) => {\n            if (this.db === undefined) {\n                reject('Database is not defined');\n                return;\n            }\n            const r = this.db\n                .transaction(storeNames)\n                .objectStore(storeNames)\n                .openCursor();\n            r.onsuccess = (ev) => {\n                CB(r.result);\n                resolve(); //  resolve  cb \n            };\n            r.onerror = (ev) => {\n                console.error('openCursor failed');\n                console.trace();\n                reject(ev);\n            };\n        });\n    }\n}\nexport { IndexedDB };\n","class Utils {\n    // reg \n    // \n    static replaceUnsafeStr(str) {\n        str = str.replace(this.unsafeStr, '');\n        // \n        for (let index = 0; index < this.fullWidthDict.length; index++) {\n            const rule = this.fullWidthDict[index];\n            const reg = new RegExp(rule[0], 'g');\n            str = str.replace(reg, rule[1]);\n        }\n        return str;\n    }\n    // \n    static deepCopy(data) {\n        if (data === null || typeof data !== 'object') {\n            return data;\n        }\n        const result = (Array.isArray(data) ? [] : {});\n        for (const [key, value] of Object.entries(data)) {\n            result[key] =\n                data === null || typeof data !== 'object' ? value : this.deepCopy(value);\n        }\n        return result;\n    }\n    // \n    static string2array(str) {\n        str = str.replace(/\\n/g, ''); // textarea \n        const temp = str.trim().split(',');\n        const result = [];\n        for (const str of temp) {\n            if (str !== '') {\n                result.push(str.trim());\n            }\n        }\n        return result;\n    }\n    // \n    static sortByProperty(key, order = 'desc') {\n        return function (a, b) {\n            // \n            const value1 = typeof a[key] === 'number' ? a[key] : parseFloat(a[key]);\n            const value2 = typeof b[key] === 'number' ? b[key] : parseFloat(b[key]);\n            if (value2 < value1) {\n                return order === 'desc' ? -1 : 1;\n            }\n            else if (value2 > value1) {\n                return order === 'desc' ? 1 : -1;\n            }\n            else {\n                return 0;\n            }\n        };\n    }\n    //  input  json \n    static async loadJSONFile() {\n        return new Promise((resolve, reject) => {\n            const i = document.createElement('input');\n            i.setAttribute('type', 'file');\n            i.setAttribute('accept', 'application/json');\n            i.onchange = () => {\n                if (i.files && i.files.length > 0) {\n                    // \n                    const file = new FileReader();\n                    file.readAsText(i.files[0]);\n                    file.onload = () => {\n                        const str = file.result;\n                        let result;\n                        try {\n                            result = JSON.parse(str);\n                            // if((result as any).constructor !== Object){\n                            //  {}  []\n                            if (result === null || typeof result !== 'object') {\n                                const msg = 'Data is not an object!';\n                                return reject(new Error(msg));\n                            }\n                            return resolve(result);\n                        }\n                        catch (error) {\n                            const msg = 'JSON parse error!';\n                            return reject(new Error(msg));\n                        }\n                    };\n                }\n            };\n            i.click();\n        });\n    }\n    //  input \n    static async selectFile(accept) {\n        return new Promise((resolve, reject) => {\n            const i = document.createElement('input');\n            i.setAttribute('type', 'file');\n            if (accept) {\n                i.setAttribute('accept', accept);\n            }\n            i.onchange = () => {\n                if (i.files && i.files.length > 0) {\n                    return resolve(i.files);\n                }\n                else {\n                    return reject();\n                }\n            };\n            i.click();\n        });\n    }\n    //  a \n    static downloadFile(url, fileName) {\n        const a = document.createElement('a');\n        a.href = url;\n        a.download = fileName;\n        a.click();\n    }\n    //  url \n    //  encodeURIComponent \n    static getURLSearchField(url, query) {\n        const result = new URL(url).searchParams.get(query);\n        if (result !== null) {\n            return encodeURIComponent(result);\n        }\n        else {\n            return '';\n        }\n    }\n    /** URL path  RESTful API \n     *\n     *  path URL\n     */\n    // \n    // https://www.pixiv.net/users/27482064/following/%E9%83%A8%E5%88%86%E5%96%9C%E6%AC%A2\n    //  'users'  '27482064'\n    //  location.pathname \n    static getURLPathField(path, query) {\n        const array = path.split('/');\n        const index = array.findIndex((str) => str === query);\n        if (index === -1) {\n            return '';\n        }\n        return array[index + 1] || '';\n    }\n    //  DOM \n    //  display block\n    static toggleEl(el, showDisplay = 'block') {\n        el.style.display = el.style.display === showDisplay ? 'none' : showDisplay;\n    }\n    //  css \n    static addStyle(css) {\n        const e = document.createElement('style');\n        e.innerHTML = css;\n        document.body.append(e);\n    }\n    //  onload  img \n    static async loadImg(url) {\n        return new Promise((resolve, reject) => {\n            const img = new Image();\n            img.src = url;\n            img.onload = function () {\n                resolve(img);\n            };\n            img.onerror = () => {\n                reject(new Error(`Load image error! url: ${url}`));\n            };\n        });\n    }\n    /**JSON  Blob  */\n    static json2Blob(data) {\n        const str = JSON.stringify(data, null, 2);\n        const blob = new Blob([str], { type: 'application/json' });\n        return blob;\n    }\n    /**JSON  Blob  */\n    static json2BlobSafe(data) {\n        // \n        let result = [];\n        // \n        result.push('[');\n        // \n        for (const item of data) {\n            result.push(JSON.stringify(item));\n            result.push(',');\n        }\n        // \n        result.pop();\n        // \n        result.push(']');\n        //  blob \n        const blob = new Blob(result, { type: 'application/json' });\n        result = [];\n        return blob;\n    }\n    /** */\n    static debounce(func, wait) {\n        //  id  clearTimeout \n        let timer = undefined;\n        const context = this;\n        return function () {\n            const args = arguments;\n            window.clearTimeout(timer);\n            timer = window.setTimeout(func.bind(context, ...args), wait);\n        };\n    }\n    /** */\n    static throttle(func, delay) {\n        let time = 0;\n        const context = this;\n        return function () {\n            const args = arguments;\n            const now = new Date().getTime();\n            if (now - time >= delay) {\n                time = now;\n                return func.apply(context, args);\n            }\n        };\n    }\n    /** URL  originName \n     *\n     *  123.txt, https://.../123.jpg\n     *\n     *  123.jpg\n     */\n    static replaceSuffix(originName, url) {\n        const nameArray = originName.split('.');\n        const urlArray = url.split('.');\n        nameArray[nameArray.length - 1] = urlArray[urlArray.length - 1];\n        return nameArray.join('.');\n    }\n    /** */\n    static getSuffix(name) {\n        const nameArray = name.split('.');\n        return nameArray[nameArray.length - 1];\n    }\n    static async sleep(time) {\n        return new Promise((res) => window.setTimeout(res, time));\n    }\n}\n// \nUtils.unsafeStr = new RegExp(/[\\u0001-\\u001f\\u007f-\\u009f\\u00ad\\u0600-\\u0605\\u061c\\u06dd\\u070f\\u08e2\\u180e\\u200b-\\u200f\\u202a-\\u202e\\u2060-\\u2064\\u2066-\\u206f\\ufdd0-\\ufdef\\ufeff\\ufff9-\\ufffb\\ufffe\\uffff]/g);\n// \nUtils.fullWidthDict = [\n    ['\\\\\\\\', ''],\n    ['/', ''],\n    [':', ''],\n    ['\\\\?', ''],\n    ['\"', ''],\n    ['<', ''],\n    ['>', ''],\n    ['\\\\*', ''],\n    ['\\\\|', ''],\n    ['~', ''],\n];\nexport { Utils };\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/*\n * project: Pixiv Fanbox Downloader\n * author:  xuejianxianzun; \n * license: GPL-3.0-or-later; http://www.gnu.org/licenses/gpl-3.0.txt\n * Github https://github.com/xuejianxianzun/PixivFanboxDownloader\n * Releases: https://github.com/xuejianxianzun/PixivFanboxDownloader/releases\n * Wiki:    https://github.com/xuejianxianzun/PixivFanboxDownloader/wiki\n * E-mail:  xuejianxianzun@gmail.com\n * QQ group:  853021998\n */\nimport './UnifiedURL';\nimport './ListenPageSwitch';\nimport './PageType';\nimport './CenterPanel';\nimport './setting/Form';\nimport './InitPage';\nimport './QuickCrawl';\nimport './Tip';\nimport './OutputPanel';\nimport './download/DownloadControl';\nimport './download/ShowStatusOnTitle';\nimport './download/Resume';\nimport './ShowNotification';\nimport './ShowHowToUse';\nimport './ShowWhatIsNew';\nimport './CheckUnsupportBrowser';\n"],"names":[],"sourceRoot":""}